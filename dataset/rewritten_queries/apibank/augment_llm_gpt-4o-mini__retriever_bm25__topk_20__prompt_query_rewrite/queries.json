[
    {
        "id": "apibank_query_0",
        "query": "Can you tell me about the historical events of April 21st?",
        "instruction": "Given a `historical events query` task, retrieve tools that access historical databases to provide a list of events that occurred on a specified date by processing date input parameters.",
        "labels": [
            {
                "id": "apibank_tool_33",
                "doc": {
                    "expressions": "QueryHistoryToday(date: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_history_today.py",
                    "parameters": "(date: datetime)",
                    "name": "QueryHistoryToday",
                    "description": "description = \"QueryHistoryToday API takes one parameter 'date'. The parameter 'date' refers to the date for which historical events are to be queried.\"\ninput_parameters = {\n    'date': {'type': 'str', 'description': 'The date for which historical events are to be queried. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'events': {'type': 'list', 'description': 'List of historical events that occurred on the given date.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_53",
                "doc": {
                    "expressions": "Calculator(infix_expression: str)",
                    "category": "获取信息 - 工具",
                    "path": "apis/calculator.py",
                    "parameters": "(infix_expression: str)",
                    "name": "Calculator",
                    "description": "description = \"An API to perform arithmetic calculations on an infix expression.\"\ninput_parameters = {\n    'infix_expression': {'type': 'str', 'description': \"A string representing an arithmetic expression in infix notation.\"}\n}\noutput_parameters = {\n    'result': {'type': 'float/int', 'description': 'Result of the arithmetic expression.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 5: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 6: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 7: Checks whether a scheduled event conflicts with existing events by evaluating the event's description and scheduled time, helping to prevent overlapping appointments or commitments.",
            "Tool 8: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 9: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 10: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 12: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 13: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 14: This API retrieves the definition of a word based on a provided search query.",
            "Tool 15: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 16: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 17: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 19: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity."
        ],
        "tool_view": {
            "description": "Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "parameters": {
                "date": {
                    "type": "string",
                    "description": "The date for which historical events are to be queried. The expected format is YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                }
            },
            "response": "The tool response consists of a single field named `events`, which is a list. Each element in this list represents a historical event that occurred on the specified date. The elements typically contain information describing the event, such as its title, date, and possibly additional details or context about the event, though the exact structure of each event is not explicitly defined in the documentation. The `events` list may be empty if no historical events are found for the given date.",
            "examples": [
                {
                    "user_intent": "Tell me what happened on June 6, 1944.",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "1944-06-06"
                        }
                    }
                },
                {
                    "user_intent": "Give me a list of historical events for July 20, 1969.",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "1969-07-20"
                        }
                    }
                },
                {
                    "user_intent": "What significant events took place on September 11, 2001?",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "2001-09-11"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 5: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 6: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 7: Checks whether a scheduled event conflicts with existing events by evaluating the event's description and scheduled time, helping to prevent overlapping appointments or commitments.\nTool 8: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 9: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 10: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 12: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 13: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 14: This API retrieves the definition of a word based on a provided search query.\nTool 15: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 16: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 17: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 19: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\", \"parameters\": {\"date\": {\"type\": \"string\", \"description\": \"The date for which historical events are to be queried. The expected format is YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}}, \"response\": \"The tool response consists of a single field named `events`, which is a list. Each element in this list represents a historical event that occurred on the specified date. The elements typically contain information describing the event, such as its title, date, and possibly additional details or context about the event, though the exact structure of each event is not explicitly defined in the documentation. The `events` list may be empty if no historical events are found for the given date.\", \"examples\": [{\"user_intent\": \"Tell me what happened on June 6, 1944.\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"1944-06-06\"}}}, {\"user_intent\": \"Give me a list of historical events for July 20, 1969.\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"1969-07-20\"}}}, {\"user_intent\": \"What significant events took place on September 11, 2001?\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"2001-09-11\"}}}]}\n\n# User Query\nCan you tell me about the historical events of April 21st?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know the historical events that occurred on April 21st.",
                    "tool_description": "Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
                    "expected_response": "A list of historical events with details such as title, date, and context; the list may be empty if no events are found."
                }
            ],
            "extracted_arguments": {
                "date": "The specific calendar date for which historical events are requested, formatted as YYYY-MM-DD."
            }
        }
    },
    {
        "id": "apibank_query_1",
        "query": "Can you tell me today's date?",
        "instruction": "Given a `date inquiry` task, retrieve tools that provide the current date by processing the request and returning today's date accurately.",
        "labels": [
            {
                "id": "apibank_tool_23",
                "doc": {
                    "expressions": "GetTodayNone",
                    "category": "获取信息 - 外界信息查询",
                    "path": "apis/get_today.py",
                    "parameters": "",
                    "name": "GetToday",
                    "description": "description = \"Get a list of today's tasks which are not completed yet.\"\ninput_parameters = {\n    None\n}\noutput_parameters = {\n    'tasks': {'type': 'list', 'description': 'A list of task objects with their details.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 4: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 5: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 6: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 7: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 8: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 9: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 11: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 12: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 13: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 14: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 15: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 18: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time.",
            "Tool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes."
        ],
        "tool_view": {
            "description": "Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "parameters": {},
            "response": "The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\n\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system’s task model. The list may be empty if there are no incomplete tasks for the day.",
            "examples": [
                {
                    "user_intent": "Show me all the tasks I still need to complete today.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "I want to check my pending tasks for today before my meeting.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "List all unfinished tasks scheduled for today so I can prioritize them.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 4: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 5: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 6: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 7: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 8: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 9: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 11: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 12: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 13: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 14: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 15: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 18: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time.\nTool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\", \"parameters\": {}, \"response\": \"The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\\n\\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system\\u2019s task model. The list may be empty if there are no incomplete tasks for the day.\", \"examples\": [{\"user_intent\": \"Show me all the tasks I still need to complete today.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"I want to check my pending tasks for today before my meeting.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"List all unfinished tasks scheduled for today so I can prioritize them.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}]}\n\n# User Query\nCan you tell me today's date?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know what today's date is.",
                    "tool_description": "Retrieve the current date from the system or calendar service.",
                    "expected_response": "A string or object representing today's date in a standard date format."
                }
            ],
            "extracted_arguments": {}
        }
    },
    {
        "id": "apibank_query_2",
        "query": "Can you tell me the current date?",
        "instruction": "Given a `current date retrieval` task, retrieve tools that provide accurate date information based on the current system date without requiring additional inputs.",
        "labels": [
            {
                "id": "apibank_tool_23",
                "doc": {
                    "expressions": "GetTodayNone",
                    "category": "获取信息 - 外界信息查询",
                    "path": "apis/get_today.py",
                    "parameters": "",
                    "name": "GetToday",
                    "description": "description = \"Get a list of today's tasks which are not completed yet.\"\ninput_parameters = {\n    None\n}\noutput_parameters = {\n    'tasks': {'type': 'list', 'description': 'A list of task objects with their details.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 1: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 5: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 6: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 7: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 8: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 11: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 12: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 13: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 14: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 15: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 16: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 19: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time."
        ],
        "tool_view": {
            "description": "Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "parameters": {
                "currency_type": {
                    "type": "string",
                    "description": "The type of currency for which the exchange rate is to be queried.",
                    "required": true,
                    "example": "USD"
                },
                "time": {
                    "type": "string",
                    "description": "The date and time at which the exchange rate is to be retrieved.",
                    "required": true,
                    "example": "2025-12-10T12:00:00"
                }
            },
            "response": "The tool returns a structured response containing the exchange rate of a specified currency at a particular point in time. The response includes the following component:\n\n- **exchange_rate**: A numeric value (floating-point) representing the exchange rate of the currency specified by the `currency_type` parameter at the date and time specified by the `time` parameter. This value quantifies how much one unit of the specified currency is worth relative to a reference currency at the given time.",
            "examples": [
                {
                    "user_intent": "What's the current exchange rate for USD?",
                    "tool_call": {
                        "name": "QueryExchangeRate",
                        "arguments": {
                            "currency_type": "USD"
                        }
                    }
                },
                {
                    "user_intent": "I want to know the exchange rate of EUR on December 1, 2025 at 10:00 AM.",
                    "tool_call": {
                        "name": "QueryExchangeRate",
                        "arguments": {
                            "currency_type": "EUR",
                            "time": "2025-12-01T10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Check the historical exchange rate for JPY from January 15, 2023.",
                    "tool_call": {
                        "name": "QueryExchangeRate",
                        "arguments": {
                            "currency_type": "JPY",
                            "time": "2023-01-15T00:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 1: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 5: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 6: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 7: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 8: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 11: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 12: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 13: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 14: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 15: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 16: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 19: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\", \"parameters\": {\"currency_type\": {\"type\": \"string\", \"description\": \"The type of currency for which the exchange rate is to be queried.\", \"required\": true, \"example\": \"USD\"}, \"time\": {\"type\": \"string\", \"description\": \"The date and time at which the exchange rate is to be retrieved.\", \"required\": true, \"example\": \"2025-12-10T12:00:00\"}}, \"response\": \"The tool returns a structured response containing the exchange rate of a specified currency at a particular point in time. The response includes the following component:\\n\\n- **exchange_rate**: A numeric value (floating-point) representing the exchange rate of the currency specified by the `currency_type` parameter at the date and time specified by the `time` parameter. This value quantifies how much one unit of the specified currency is worth relative to a reference currency at the given time.\", \"examples\": [{\"user_intent\": \"What's the current exchange rate for USD?\", \"tool_call\": {\"name\": \"QueryExchangeRate\", \"arguments\": {\"currency_type\": \"USD\"}}}, {\"user_intent\": \"I want to know the exchange rate of EUR on December 1, 2025 at 10:00 AM.\", \"tool_call\": {\"name\": \"QueryExchangeRate\", \"arguments\": {\"currency_type\": \"EUR\", \"time\": \"2025-12-01T10:00:00\"}}}, {\"user_intent\": \"Check the historical exchange rate for JPY from January 15, 2023.\", \"tool_call\": {\"name\": \"QueryExchangeRate\", \"arguments\": {\"currency_type\": \"JPY\", \"time\": \"2023-01-15T00:00:00\"}}}]}\n\n# User Query\nCan you tell me the current date?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know the current date.",
                    "tool_description": "Retrieve the current system date and time, allowing the user to obtain the present calendar date.",
                    "expected_response": "A structured response containing the current date in a standard format (e.g., YYYY-MM-DD)."
                }
            ],
            "extracted_arguments": {}
        }
    },
    {
        "id": "apibank_query_3",
        "query": "Can you help me register on this app?",
        "instruction": "Given a `user registration` task, retrieve tools that facilitate the registration process on an application by collecting and processing inputs such as username, password, and email to create a new user account and return the status of the registration.",
        "labels": [
            {
                "id": "apibank_tool_1",
                "doc": {
                    "expressions": "RegisterUser(username: str, password: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/register_user.py",
                    "parameters": "(username: str, password: str, email: str)",
                    "name": "RegisterUser",
                    "description": "description = \"API to register a new user with their username, password, and email.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the new user.'},\n    'password': {'type': 'str', 'description': 'The password of the new user.'},\n    'email': {'type': 'str', 'description': 'The email of the new user.'},\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 4: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 5: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.",
            "Tool 8: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 9: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 10: This API retrieves the definition of a word based on a provided search query.",
            "Tool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 19: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document."
        ],
        "tool_view": {
            "description": "Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "parameters": {
                "username": {
                    "type": "string",
                    "description": "The username of the new user.",
                    "required": true,
                    "example": "john_doe"
                },
                "password": {
                    "type": "string",
                    "description": "The password of the new user.",
                    "required": true,
                    "example": "securePassword123"
                },
                "email": {
                    "type": "string",
                    "description": "The email of the new user.",
                    "required": true,
                    "example": "johndoe@example.com"
                }
            },
            "response": "The tool returns a response indicating the outcome of the user registration attempt. The response has the following structure:\n\n- **status** (string): This field communicates whether the registration operation was successful or not. Its value will typically be `\"success\"` if the new user was registered successfully, or `\"failed\"` if the registration could not be completed. \n\nNo additional fields are explicitly defined, so the response focuses solely on reporting the success or failure of the operation.",
            "examples": [
                {
                    "user_intent": "I want to create a new account for John with the email john.doe@example.com.",
                    "tool_call": {
                        "name": "RegisterUser",
                        "arguments": {
                            "username": "john_doe",
                            "password": "SecurePass123!",
                            "email": "john.doe@example.com"
                        }
                    }
                },
                {
                    "user_intent": "Register a new user named Alice with her email alice.wang@mail.com and a strong password.",
                    "tool_call": {
                        "name": "RegisterUser",
                        "arguments": {
                            "username": "alice_w",
                            "password": "Alice2025$",
                            "email": "alice.wang@mail.com"
                        }
                    }
                },
                {
                    "user_intent": "Create an account for a test user for our internal system.",
                    "tool_call": {
                        "name": "RegisterUser",
                        "arguments": {
                            "username": "test_user123",
                            "password": "TestPass!789",
                            "email": "test.user123@company.com"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 4: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 5: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\nTool 8: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 9: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 10: This API retrieves the definition of a word based on a provided search query.\nTool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 19: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\", \"parameters\": {\"username\": {\"type\": \"string\", \"description\": \"The username of the new user.\", \"required\": true, \"example\": \"john_doe\"}, \"password\": {\"type\": \"string\", \"description\": \"The password of the new user.\", \"required\": true, \"example\": \"securePassword123\"}, \"email\": {\"type\": \"string\", \"description\": \"The email of the new user.\", \"required\": true, \"example\": \"johndoe@example.com\"}}, \"response\": \"The tool returns a response indicating the outcome of the user registration attempt. The response has the following structure:\\n\\n- **status** (string): This field communicates whether the registration operation was successful or not. Its value will typically be `\\\"success\\\"` if the new user was registered successfully, or `\\\"failed\\\"` if the registration could not be completed. \\n\\nNo additional fields are explicitly defined, so the response focuses solely on reporting the success or failure of the operation.\", \"examples\": [{\"user_intent\": \"I want to create a new account for John with the email john.doe@example.com.\", \"tool_call\": {\"name\": \"RegisterUser\", \"arguments\": {\"username\": \"john_doe\", \"password\": \"SecurePass123!\", \"email\": \"john.doe@example.com\"}}}, {\"user_intent\": \"Register a new user named Alice with her email alice.wang@mail.com and a strong password.\", \"tool_call\": {\"name\": \"RegisterUser\", \"arguments\": {\"username\": \"alice_w\", \"password\": \"Alice2025$\", \"email\": \"alice.wang@mail.com\"}}}, {\"user_intent\": \"Create an account for a test user for our internal system.\", \"tool_call\": {\"name\": \"RegisterUser\", \"arguments\": {\"username\": \"test_user123\", \"password\": \"TestPass!789\", \"email\": \"test.user123@company.com\"}}}]}\n\n# User Query\nCan you help me register on this app?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to create a new account on the app.",
                    "tool_description": "Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
                    "expected_response": "A response indicating the success or failure of the user registration attempt."
                }
            ],
            "extracted_arguments": {
                "username": "The desired username for the new account, as a string.",
                "password": "The chosen password for the new account, as a string.",
                "email": "The email address associated with the new account, as a string."
            }
        }
    },
    {
        "id": "apibank_query_4",
        "query": "Can you delete my alarm at 7:00 a.m. on March 16th?",
        "instruction": "Given an `alarm deletion` task, retrieve tools that facilitate the cancellation of alarms by processing parameters such as authentication tokens and timer IDs to confirm the status of the deletion operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_19",
                "doc": {
                    "expressions": "DeleteAlarm(token: str, timer_id: int)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_alarm.py",
                    "parameters": "(token: str, timer_id: int)",
                    "name": "DeleteAlarm",
                    "description": "description = \"Cancel an alarm API that takes two parameters - 'timer_id' and 'token'. The 'timer_id' parameter refers to the id of the alarm to be cancelled and the 'token' parameter is used for user authentication.\"\ninput_parameters = {\n    'timer_id': {'type': 'int', 'description': 'The id of the alarm to be cancelled'},\n    'token': {'type': 'str', 'description': 'Token for user authentication'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_13",
                "doc": {
                    "expressions": "AddAgenda(token: str, content: str, time: datetime, location: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/add_agenda.py",
                    "parameters": "(token: str, content: str, time: datetime, location: str)",
                    "name": "AddAgenda",
                    "description": "description = \"Add an agenda API that takes four parameters - 'content', 'time', 'location' and 'token'. The 'content' parameter refers to the description of the agenda, the 'time' parameter specifies the time at which the agenda will happen, the 'location' parameter refers to the venue of the agenda and the 'token' parameter is used for authentication.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token.'},\n    'content': {'type': 'str', 'description': 'The content of the agenda.'},\n    'time': {'type': 'datetime', 'description': 'The time for the agenda. Format: %Y-%m-%d %H:%M:%S'},\n    'location': {'type': 'str', 'description': 'The location of the agenda.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 1: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 6: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 7: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 8: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 15: This API retrieves the definition of a word based on a provided search query.",
            "Tool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 18: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents."
        ],
        "tool_view": {
            "description": "Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "The authentication token for the user, used to verify access to add an alarm.",
                    "required": true,
                    "default": null,
                    "example": "abc123xyz"
                },
                "time": {
                    "type": "datetime",
                    "description": "The time at which the alarm should go off, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "default": null,
                    "example": "2025-12-12 07:30:00"
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the request to add an alarm. It contains the following component:  \n\n- **status** (string): This field communicates whether the request to add the alarm was successful or not. Its value typically reflects one of two states: a success state indicating that the alarm was successfully created, or a failure state indicating that the alarm could not be added, possibly due to authentication issues, invalid time format, or other errors.  \n\nThis is the only component defined in the response, and it serves as a concise indicator of the operation’s result.",
            "examples": [
                {
                    "user_intent": "Set an alarm for tomorrow morning at 7 AM.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "user_abc123token",
                            "time": "2026-01-01 07:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I want to schedule an alarm for my meeting next Monday at 9:30 AM.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "secureToken456xyz",
                            "time": "2026-01-05 09:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Create a reminder alarm for December 31st at 11:59 PM for New Year's Eve.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "token789secure",
                            "time": "2025-12-31 23:59:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 1: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 6: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 7: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 8: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 15: This API retrieves the definition of a word based on a provided search query.\nTool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 18: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"The authentication token for the user, used to verify access to add an alarm.\", \"required\": true, \"default\": null, \"example\": \"abc123xyz\"}, \"time\": {\"type\": \"datetime\", \"description\": \"The time at which the alarm should go off, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"default\": null, \"example\": \"2025-12-12 07:30:00\"}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the request to add an alarm. It contains the following component:  \\n\\n- **status** (string): This field communicates whether the request to add the alarm was successful or not. Its value typically reflects one of two states: a success state indicating that the alarm was successfully created, or a failure state indicating that the alarm could not be added, possibly due to authentication issues, invalid time format, or other errors.  \\n\\nThis is the only component defined in the response, and it serves as a concise indicator of the operation\\u2019s result.\", \"examples\": [{\"user_intent\": \"Set an alarm for tomorrow morning at 7 AM.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"user_abc123token\", \"time\": \"2026-01-01 07:00:00\"}}}, {\"user_intent\": \"I want to schedule an alarm for my meeting next Monday at 9:30 AM.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"secureToken456xyz\", \"time\": \"2026-01-05 09:30:00\"}}}, {\"user_intent\": \"Create a reminder alarm for December 31st at 11:59 PM for New Year's Eve.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"token789secure\", \"time\": \"2025-12-31 23:59:00\"}}}]}\n\n# User Query\nCan you delete my alarm at 7:00 a.m. on March 16th?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Delete a specific alarm scheduled at a given time.",
                    "tool_description": "Cancel a scheduled alarm by providing its unique ID along with a user authentication token, ensuring secure removal of the alarm.",
                    "expected_response": "A status object indicating whether the alarm was successfully deleted or if the operation failed."
                }
            ],
            "extracted_arguments": {
                "alarm_id": "The unique identifier of the alarm to be deleted.",
                "token": "The authentication token for the user, used to verify access to delete the alarm."
            }
        }
    },
    {
        "id": "apibank_query_5",
        "query": "Can you show me my history for today?",
        "instruction": "Given a `history retrieval` task, retrieve tools that query and provide historical events by processing date inputs to return a list of occurrences corresponding to the specified day.",
        "labels": [
            {
                "id": "apibank_tool_33",
                "doc": {
                    "expressions": "QueryHistoryToday(date: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_history_today.py",
                    "parameters": "(date: datetime)",
                    "name": "QueryHistoryToday",
                    "description": "description = \"QueryHistoryToday API takes one parameter 'date'. The parameter 'date' refers to the date for which historical events are to be queried.\"\ninput_parameters = {\n    'date': {'type': 'str', 'description': 'The date for which historical events are to be queried. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'events': {'type': 'list', 'description': 'List of historical events that occurred on the given date.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 1: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 5: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 6: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 8: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 9: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 10: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "parameters": {},
            "response": "The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\n\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system’s task model. The list may be empty if there are no incomplete tasks for the day.",
            "examples": [
                {
                    "user_intent": "Show me all the tasks I still need to complete today.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "I want to check my pending tasks for today before my meeting.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "List all unfinished tasks scheduled for today so I can prioritize them.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 1: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 5: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 6: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 8: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 9: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 10: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\", \"parameters\": {}, \"response\": \"The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\\n\\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system\\u2019s task model. The list may be empty if there are no incomplete tasks for the day.\", \"examples\": [{\"user_intent\": \"Show me all the tasks I still need to complete today.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"I want to check my pending tasks for today before my meeting.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"List all unfinished tasks scheduled for today so I can prioritize them.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}]}\n\n# User Query\nCan you show me my history for today?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Show me all the tasks I still need to complete today.",
                    "tool_description": "Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
                    "expected_response": "A list of task objects containing detailed information about each task, such as title, description, status, and due time."
                }
            ],
            "extracted_arguments": {}
        }
    },
    {
        "id": "apibank_query_6",
        "query": "Hi, can you help me delete my account?",
        "instruction": "Given an `account deletion` task, retrieve tools that facilitate the deletion of user accounts by processing authentication tokens to execute the operation and return the status of the request.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_2",
                "doc": {
                    "expressions": "DeleteAccount(token: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_account.py",
                    "parameters": "(token: str)",
                    "name": "DeleteAccount",
                    "description": "description = \"Delete account API that takes a token parameter which is the authentication token of the user making the deletion request.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 1: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 4: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 7: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 10: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 11: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 12: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 13: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 14: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 15: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 16: This API retrieves the definition of a word based on a provided search query.",
            "Tool 17: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content."
        ],
        "tool_view": {
            "description": "This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "The authentication token of the user making the account deletion request.",
                    "required": true,
                    "example": "abc123xyz"
                }
            },
            "response": "The tool’s response is an object that contains a single field:  \n\n- **status** (string): Indicates the outcome of the account deletion request. Its value communicates whether the operation was successful or not, typically using indicators such as `\"success\"` for a successful deletion and `\"failed\"` if the deletion could not be completed. This field serves as a simple, high-level status report of the API call.",
            "examples": [
                {
                    "user_intent": "I want to permanently delete my account from the service.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "user_abc123_securetoken"
                        }
                    }
                },
                {
                    "user_intent": "Remove my profile immediately for privacy reasons.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "privacy_request_987xyz"
                        }
                    }
                },
                {
                    "user_intent": "Deactivate my account using the API key I received after login.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "login_session_token_456def"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 1: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 4: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 7: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 10: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 11: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 12: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 13: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 14: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 15: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 16: This API retrieves the definition of a word based on a provided search query.\nTool 17: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"The authentication token of the user making the account deletion request.\", \"required\": true, \"example\": \"abc123xyz\"}}, \"response\": \"The tool\\u2019s response is an object that contains a single field:  \\n\\n- **status** (string): Indicates the outcome of the account deletion request. Its value communicates whether the operation was successful or not, typically using indicators such as `\\\"success\\\"` for a successful deletion and `\\\"failed\\\"` if the deletion could not be completed. This field serves as a simple, high-level status report of the API call.\", \"examples\": [{\"user_intent\": \"I want to permanently delete my account from the service.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"user_abc123_securetoken\"}}}, {\"user_intent\": \"Remove my profile immediately for privacy reasons.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"privacy_request_987xyz\"}}}, {\"user_intent\": \"Deactivate my account using the API key I received after login.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"login_session_token_456def\"}}}]}\n\n# User Query\nHi, can you help me delete my account?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to permanently delete my account from the service.",
                    "tool_description": "This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
                    "expected_response": "An object containing a status field that indicates whether the account deletion was successful or failed."
                }
            ],
            "extracted_arguments": {
                "token": "The authentication token of the user making the account deletion request."
            }
        }
    },
    {
        "id": "apibank_query_7",
        "query": "Can you tell me about the devices included in the Morning Routine scene?",
        "instruction": "Given a `scene query` task, retrieve tools that can provide detailed information about specific scenes by processing the scene name as input to return a comprehensive description and attributes of devices included in the scene.",
        "labels": [
            {
                "id": "apibank_tool_67",
                "doc": {
                    "expressions": "QueryScene(scene_name: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_scene.py",
                    "parameters": "(scene_name: str)",
                    "name": "QueryScene",
                    "description": "description = \"API to query a specific 'scene' by providing a 'scene_name'.\"\ninput_parameters = {\n    'scene_name': {'type': 'str', 'description': 'The name of the scene to be queried.'}\n}\noutput_parameters = {\n    'scene_info': {'type': 'dict', 'description': 'A dictionary containing the information about the queried scene.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 1: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 2: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 3: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 7: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 8: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 9: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 12: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 13: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.",
            "Tool 14: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 15: This API retrieves the definition of a word based on a provided search query.",
            "Tool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 19: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data."
        ],
        "tool_view": {
            "description": "Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "parameters": {
                "scene_name": {
                    "type": "string",
                    "description": "The name of the scene to be added.",
                    "required": true,
                    "example": "Morning Routine"
                },
                "device_list": {
                    "type": "array",
                    "description": "A list of device identifiers or names that are included in the scene.",
                    "required": true,
                    "example": [
                        "Light1",
                        "Thermostat1",
                        "CoffeeMaker1"
                    ]
                }
            },
            "response": "The tool’s response is a JSON object containing a single field named `status`. This field is a string that indicates the result of the attempt to add a new scene. Specifically:  \n\n- **status**: A string value that conveys whether the operation was successful or not. The expected values are `\"success\"` if the scene was added successfully, or `\"failed\"` if there was an error or the operation did not complete.  \n\nNo additional fields are defined, so the response is limited to conveying the outcome of the add-scene operation through this single status indicator.",
            "examples": [
                {
                    "user_intent": "Create a new smart home scene called 'Morning Routine' that turns on the bedroom lights and starts the coffee maker.",
                    "tool_call": {
                        "name": "AddScene",
                        "arguments": {
                            "scene_name": "Morning Routine",
                            "device_list": [
                                "Bedroom Light",
                                "Coffee Maker"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Set up a 'Movie Night' scene with the living room TV, sound system, and dimmable lights.",
                    "tool_call": {
                        "name": "AddScene",
                        "arguments": {
                            "scene_name": "Movie Night",
                            "device_list": [
                                "Living Room TV",
                                "Sound System",
                                "Dimmable Lights"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Add a 'Good Night' scene that turns off all lights and locks the front door.",
                    "tool_call": {
                        "name": "AddScene",
                        "arguments": {
                            "scene_name": "Good Night",
                            "device_list": [
                                "All Lights",
                                "Front Door Lock"
                            ]
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 1: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 2: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 3: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 7: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 8: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 9: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 12: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 13: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\nTool 14: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 15: This API retrieves the definition of a word based on a provided search query.\nTool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 19: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\", \"parameters\": {\"scene_name\": {\"type\": \"string\", \"description\": \"The name of the scene to be added.\", \"required\": true, \"example\": \"Morning Routine\"}, \"device_list\": {\"type\": \"array\", \"description\": \"A list of device identifiers or names that are included in the scene.\", \"required\": true, \"example\": [\"Light1\", \"Thermostat1\", \"CoffeeMaker1\"]}}, \"response\": \"The tool\\u2019s response is a JSON object containing a single field named `status`. This field is a string that indicates the result of the attempt to add a new scene. Specifically:  \\n\\n- **status**: A string value that conveys whether the operation was successful or not. The expected values are `\\\"success\\\"` if the scene was added successfully, or `\\\"failed\\\"` if there was an error or the operation did not complete.  \\n\\nNo additional fields are defined, so the response is limited to conveying the outcome of the add-scene operation through this single status indicator.\", \"examples\": [{\"user_intent\": \"Create a new smart home scene called 'Morning Routine' that turns on the bedroom lights and starts the coffee maker.\", \"tool_call\": {\"name\": \"AddScene\", \"arguments\": {\"scene_name\": \"Morning Routine\", \"device_list\": [\"Bedroom Light\", \"Coffee Maker\"]}}}, {\"user_intent\": \"Set up a 'Movie Night' scene with the living room TV, sound system, and dimmable lights.\", \"tool_call\": {\"name\": \"AddScene\", \"arguments\": {\"scene_name\": \"Movie Night\", \"device_list\": [\"Living Room TV\", \"Sound System\", \"Dimmable Lights\"]}}}, {\"user_intent\": \"Add a 'Good Night' scene that turns off all lights and locks the front door.\", \"tool_call\": {\"name\": \"AddScene\", \"arguments\": {\"scene_name\": \"Good Night\", \"device_list\": [\"All Lights\", \"Front Door Lock\"]}}}]}\n\n# User Query\nCan you tell me about the devices included in the Morning Routine scene?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to retrieve detailed information about the devices included in a specific scene.",
                    "tool_description": "Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
                    "expected_response": "A collection of devices included in the specified scene, including their names and associated details."
                }
            ],
            "extracted_arguments": {
                "scene_name": "The name of the scene to query for device details."
            }
        }
    },
    {
        "id": "apibank_query_8",
        "query": "Hi, can you please tell me my current balance?",
        "instruction": "Given a `balance inquiry` task, retrieve tools that access and process account information by utilizing authentication tokens and account identifiers to return accurate balance details.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_32",
                "doc": {
                    "expressions": "QueryBalance(token: str, account: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_balance.py",
                    "parameters": "(token: str, account: str)",
                    "name": "QueryBalance",
                    "description": "description = \"API to query account balance. The 'account' parameter refers to the identifier of the account to be queried.\"\ninput_parameters = {\n    'account': {'type': 'str', 'description': 'The identifier of the account.'}\n}\noutput_parameters = {\n    'balance': {'type': 'float', 'description': 'The account balance.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 5: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 6: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 7: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 9: This API retrieves the definition of a word based on a provided search query.",
            "Tool 10: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 11: Generates a caption for a given image.",
            "Tool 12: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 14: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 16: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 17: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 18: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 19: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content."
        ],
        "tool_view": {
            "description": "Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "parameters": {
                "account": {
                    "type": "string",
                    "description": "The identifier of the account to query the balance for.",
                    "required": true,
                    "default": null,
                    "example": "1234567890"
                }
            },
            "response": "The tool returns a single response object containing information about the account's current balance. The structure of the response is as follows:\n\n- **balance**: A numeric field of type float representing the monetary balance of the specified account. This value indicates how much is currently available or held in the account identified by the `account` parameter.  \n\nNo additional fields are specified, so the response consists solely of this balance information.",
            "examples": [
                {
                    "user_intent": "I want to check the current balance of my savings account with ID 987654321.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "987654321"
                        }
                    }
                },
                {
                    "user_intent": "Show me the balance for my business account 'BUS12345'.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "BUS12345"
                        }
                    }
                },
                {
                    "user_intent": "Retrieve the balance for account number A10001 before making a payment.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "A10001"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 5: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 6: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 7: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 9: This API retrieves the definition of a word based on a provided search query.\nTool 10: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 11: Generates a caption for a given image.\nTool 12: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 14: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 16: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 17: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 18: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 19: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\", \"parameters\": {\"account\": {\"type\": \"string\", \"description\": \"The identifier of the account to query the balance for.\", \"required\": true, \"default\": null, \"example\": \"1234567890\"}}, \"response\": \"The tool returns a single response object containing information about the account's current balance. The structure of the response is as follows:\\n\\n- **balance**: A numeric field of type float representing the monetary balance of the specified account. This value indicates how much is currently available or held in the account identified by the `account` parameter.  \\n\\nNo additional fields are specified, so the response consists solely of this balance information.\", \"examples\": [{\"user_intent\": \"I want to check the current balance of my savings account with ID 987654321.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"987654321\"}}}, {\"user_intent\": \"Show me the balance for my business account 'BUS12345'.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"BUS12345\"}}}, {\"user_intent\": \"Retrieve the balance for account number A10001 before making a payment.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"A10001\"}}}]}\n\n# User Query\nHi, can you please tell me my current balance?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check the current balance of my account.",
                    "tool_description": "Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
                    "expected_response": "A response object containing the numeric balance of the specified account."
                }
            ],
            "extracted_arguments": {
                "account": "The identifier of the account to query the balance for."
            }
        }
    },
    {
        "id": "apibank_query_9",
        "query": "Can you record my recent health data please?",
        "instruction": "Given a `health data recording` task, retrieve tools that support the entry of personal health information by processing relevant inputs like user ID, date, and health data object to record the information and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 5: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 7: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user whose health history is being recorded.",
                    "required": true,
                    "example": "12345"
                },
                "date": {
                    "type": "string",
                    "description": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                },
                "health_data": {
                    "type": "object",
                    "description": "An object containing the health data that is being recorded for the user.",
                    "required": true,
                    "example": {
                        "weight": 70,
                        "blood_pressure": "120/80",
                        "heart_rate": 72
                    }
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\n\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\"success\"` if the health data was recorded correctly, or `\"failed\"` if there was an error or the operation did not complete as intended.  \n\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action’s result.",
            "examples": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for user 1001.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "1001",
                            "date": "2025-12-30",
                            "health_data": {
                                "blood_pressure": "120/80",
                                "heart_rate": 72
                            }
                        }
                    }
                },
                {
                    "user_intent": "Add yesterday's step count and sleep hours for user A42.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "A42",
                            "date": "2025-12-29",
                            "health_data": {
                                "steps": 8500,
                                "sleep_hours": 7.5
                            }
                        }
                    }
                },
                {
                    "user_intent": "Log user 78's weight and body temperature for today.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "78",
                            "date": "2025-12-30",
                            "health_data": {
                                "weight_kg": 68.2,
                                "body_temperature_c": 36.6
                            }
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 5: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 7: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Record and store a user\\u2019s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user whose health history is being recorded.\", \"required\": true, \"example\": \"12345\"}, \"date\": {\"type\": \"string\", \"description\": \"The date when the health data was recorded, in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}, \"health_data\": {\"type\": \"object\", \"description\": \"An object containing the health data that is being recorded for the user.\", \"required\": true, \"example\": {\"weight\": 70, \"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\\n\\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\\\"success\\\"` if the health data was recorded correctly, or `\\\"failed\\\"` if there was an error or the operation did not complete as intended.  \\n\\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action\\u2019s result.\", \"examples\": [{\"user_intent\": \"Record today's blood pressure and heart rate for user 1001.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"1001\", \"date\": \"2025-12-30\", \"health_data\": {\"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}}, {\"user_intent\": \"Add yesterday's step count and sleep hours for user A42.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"A42\", \"date\": \"2025-12-29\", \"health_data\": {\"steps\": 8500, \"sleep_hours\": 7.5}}}}, {\"user_intent\": \"Log user 78's weight and body temperature for today.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"78\", \"date\": \"2025-12-30\", \"health_data\": {\"weight_kg\": 68.2, \"body_temperature_c\": 36.6}}}}]}\n\n# User Query\nCan you record my recent health data please?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Record the user's recent health data.",
                    "tool_description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
                    "expected_response": "A structured object indicating whether the health data was recorded successfully, containing a status field with values 'success' or 'failed'."
                }
            ],
            "extracted_arguments": {
                "user_id": "The unique identifier of the user whose health history is being recorded.",
                "date": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                "health_data": "An object containing the recent health metrics of the user, such as weight, blood pressure, heart rate, steps, sleep hours, or other relevant health indicators."
            }
        }
    },
    {
        "id": "apibank_query_10",
        "query": "Can you help me register as a user?",
        "instruction": "Given a `user registration` task, retrieve tools that facilitate the registration process by processing user input details such as username, password, and email to create a new user account and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_1",
                "doc": {
                    "expressions": "RegisterUser(username: str, password: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/register_user.py",
                    "parameters": "(username: str, password: str, email: str)",
                    "name": "RegisterUser",
                    "description": "description = \"API to register a new user with their username, password, and email.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the new user.'},\n    'password': {'type': 'str', 'description': 'The password of the new user.'},\n    'email': {'type': 'str', 'description': 'The email of the new user.'},\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 5: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 6: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 7: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 9: Retrieve a list of meetings scheduled by a user by querying the API with an authentication token.",
            "Tool 10: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 11: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.",
            "Tool 12: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 13: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 14: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 15: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 16: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 17: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 18: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 19: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 5: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 6: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 7: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 9: Retrieve a list of meetings scheduled by a user by querying the API with an authentication token.\nTool 10: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 11: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.\nTool 12: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 13: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 14: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 15: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 16: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 17: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 18: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 19: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you help me register as a user?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to create a new account by providing my username, password, and email.",
                    "tool_description": "Register a new user by submitting a username, password, and email, and receive confirmation of success or failure.",
                    "expected_response": "A status response indicating whether the registration was successful or failed."
                }
            ],
            "extracted_arguments": {
                "username": "The desired username for the new account, as a string.",
                "password": "The password chosen by the user for account security, as a string.",
                "email": "The email address associated with the account, used for registration and verification."
            }
        }
    },
    {
        "id": "apibank_query_11",
        "query": "Can you check the registration for Alice Chen on June 15, 2023 with Dr. Wang?",
        "instruction": "Given a `registration query` task, retrieve tools that verify or check appointments by processing patient name and appointment date parameters to return the registration status and details.",
        "labels": [
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_56",
                "doc": {
                    "expressions": "SymptomSearch(symptom_description: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/symptom_search.py",
                    "parameters": "(symptom_description: str)",
                    "name": "SymptomSearch",
                    "description": "description = \"An API that searches for medical conditions based on symptom descriptions.\"\ninput_parameters = {\n    'symptom_description': {'type': 'str', 'description': 'A description of the symptoms being experienced.'}\n}\noutput_parameters = {\n    'medical_conditions': {'type': 'list', 'description': 'A list of medical conditions that match the given symptom description.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 2: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 3: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 6: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 7: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 17: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 19: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.\nTool 2: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 3: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 6: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 7: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 17: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 19: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you check the registration for Alice Chen on June 15, 2023 with Dr. Wang?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check the registration details for a patient with a specific doctor and date.",
                    "tool_description": "Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
                    "expected_response": "A collection of registration details for the patient, including information such as doctor name, appointment time, and status of the registration."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient for whom the appointment needs to be checked.",
                "appointment_time": "The specific date and time of the appointment for which the registration needs to be confirmed.",
                "doctor_name": "The name of the doctor with whom the patient is scheduled for the appointment."
            }
        }
    },
    {
        "id": "apibank_query_12",
        "query": "Can you please cancel my appointment for David Brown with Dr. Davis on April 10th, 2023 at 10:00 am?",
        "instruction": "Given an `appointment cancellation` task, retrieve tools that manage scheduling operations by processing details such as the individual's name, the appointment date and time, and the associated professional to effectively cancel the appointment and provide a confirmation status.",
        "labels": [
            {
                "id": "apibank_tool_59",
                "doc": {
                    "expressions": "CancelRegistration(registration_number: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_registration.py",
                    "parameters": "(registration_number: str)",
                    "name": "CancelRegistration",
                    "description": "description = \"Cancel a registration API that takes one parameter - 'registration_number'. The 'registration_number' parameter refers to the registration number of the conference registration that needs to be cancelled.\"\ninput_parameters = {\n    'registration_number': {'type': 'str', 'description': 'The registration number of the conference registration to be cancelled.'},\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 5: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 6: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 7: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 8: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 9: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 10: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 12: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 13: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.",
            "Tool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 5: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 6: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 7: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 8: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 9: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 10: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 12: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 13: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\nTool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you please cancel my appointment for David Brown with Dr. Davis on April 10th, 2023 at 10:00 am?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to cancel an existing medical appointment.",
                    "tool_description": "Cancel a medical appointment by specifying the patient's name, the doctor's name, and the appointment date and time.",
                    "expected_response": "A status indicating whether the appointment cancellation was successful or failed."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient whose appointment is being canceled.",
                "doctor_name": "The full name of the doctor associated with the appointment.",
                "appointment_datetime": "The scheduled date and time of the appointment to be canceled."
            }
        }
    },
    {
        "id": "apibank_query_13",
        "query": "Hi, can you help me check my alarm for March 20th, 2023 at 6:30AM?",
        "instruction": "Given an `alarm verification` task, retrieve tools that can authenticate user identity and subsequently access alarm details by processing the user's authentication token to return relevant alarm information.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_21",
                "doc": {
                    "expressions": "QueryAlarm(token: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_alarm.py",
                    "parameters": "(token: str)",
                    "name": "QueryAlarm",
                    "description": "description = \"Query alarm API that takes one parameter - 'token'. The 'token' parameter is a unique identifier for the user account.\"\n\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'A unique identifier for the user account.'}\n}\noutput_parameters = {\n    'alarms': {'type': 'list', 'description': 'A list of dictionaries representing the alarms for the user. Each dictionary contains the alarm details.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 2: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 3: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 6: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 7: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 11: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 12: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 17: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 2: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 3: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 6: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 7: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 11: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 12: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 17: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nHi, can you help me check my alarm for March 20th, 2023 at 6:30AM?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to retrieve the list of alarms associated with my account to check a specific alarm.",
                    "tool_description": "Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
                    "expected_response": "A collection of alarm objects containing alarm IDs, scheduled times, and status information."
                }
            ],
            "extracted_arguments": {
                "account_token": "The authentication token representing the user's account",
                "alarm_date_time": "The specific date and time of the alarm to be checked"
            }
        }
    },
    {
        "id": "apibank_query_14",
        "query": "Can you help me check if there is a reservation for the Design Team Meeting on March 26, 2023 from 11:00AM to 1:00PM at Design Studio?",
        "instruction": "Given a `meeting reservation query` task, retrieve tools that authenticate user access and check meeting schedules by processing authentication tokens to verify and list existing reservations based on the given details such as date, time, and location.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_12",
                "doc": {
                    "expressions": "QueryMeeting(token: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_meeting.py",
                    "parameters": "(token: str)",
                    "name": "QueryMeeting",
                    "description": "description = \"Query meeting API that takes one parameter - 'token'. The 'token' parameter refers to the authentication token to access the user's data.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token.'}\n}\noutput_parameters = {\n    'meeting_list': {'type': 'list', 'description': 'A list of meetings scheduled by the user.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 3: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 4: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 5: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 6: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 8: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 9: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 10: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 12: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 13: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 14: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 15: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 16: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 17: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.",
            "Tool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 19: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system."
        ],
        "tool_view": {
            "description": "Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "parameters": {
                "order_number": {
                    "type": "string",
                    "description": "The order number of the hotel booking.",
                    "required": true,
                    "example": "12345"
                },
                "new_check_in_date": {
                    "type": "string",
                    "description": "The new check-in date for the booking. The date should be in the format: YYYY-MM-DD.",
                    "required": false,
                    "example": "2025-12-15"
                },
                "new_check_out_date": {
                    "type": "string",
                    "description": "The new check-out date for the booking. The date should be in the format: YYYY-MM-DD.",
                    "required": false,
                    "example": "2025-12-20"
                },
                "new_room_count": {
                    "type": "integer",
                    "description": "The new number of rooms needed for the booking.",
                    "required": false,
                    "example": 2
                },
                "new_adult_count": {
                    "type": "integer",
                    "description": "The new number of adults for the booking.",
                    "required": false,
                    "example": 2
                },
                "new_child_count": {
                    "type": "integer",
                    "description": "The new number of children for the booking.",
                    "required": false,
                    "example": 1
                }
            },
            "response": "The tool responds with a status message that indicates the result of the modification request. This status message is a string that provides feedback about whether the operation was successful or failed. The response contains only one component:\n\n- **status** (type: string): This field provides a textual message describing the outcome of the modification attempt. It indicates whether the booking modification was successful or if there was an error (e.g., invalid data, booking not found, etc.). The content of the status message will vary depending on the situation, but it will generally communicate either a success or failure.",
            "examples": [
                {
                    "user_intent": "I need to change my hotel booking 987654321 to check in on 2026-01-10 and check out on 2026-01-15.",
                    "tool_call": {
                        "name": "ModifyHotelBooking",
                        "arguments": {
                            "order_number": "987654321",
                            "new_check_in_date": "2026-01-10",
                            "new_check_out_date": "2026-01-15"
                        }
                    }
                },
                {
                    "user_intent": "Update my booking 123456789 to have 2 rooms, 4 adults, and 2 children.",
                    "tool_call": {
                        "name": "ModifyHotelBooking",
                        "arguments": {
                            "order_number": "123456789",
                            "new_room_count": 2,
                            "new_adult_count": 4,
                            "new_child_count": 2
                        }
                    }
                },
                {
                    "user_intent": "I want to reschedule booking 555333111 to new dates from 2026-02-05 to 2026-02-08 and change it to 1 room for 2 adults only.",
                    "tool_call": {
                        "name": "ModifyHotelBooking",
                        "arguments": {
                            "order_number": "555333111",
                            "new_check_in_date": "2026-02-05",
                            "new_check_out_date": "2026-02-08",
                            "new_room_count": 1,
                            "new_adult_count": 2,
                            "new_child_count": 0
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 3: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 4: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 5: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 6: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 8: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 9: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 10: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 12: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 13: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 14: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 15: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 16: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 17: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.\nTool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 19: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\", \"parameters\": {\"order_number\": {\"type\": \"string\", \"description\": \"The order number of the hotel booking.\", \"required\": true, \"example\": \"12345\"}, \"new_check_in_date\": {\"type\": \"string\", \"description\": \"The new check-in date for the booking. The date should be in the format: YYYY-MM-DD.\", \"required\": false, \"example\": \"2025-12-15\"}, \"new_check_out_date\": {\"type\": \"string\", \"description\": \"The new check-out date for the booking. The date should be in the format: YYYY-MM-DD.\", \"required\": false, \"example\": \"2025-12-20\"}, \"new_room_count\": {\"type\": \"integer\", \"description\": \"The new number of rooms needed for the booking.\", \"required\": false, \"example\": 2}, \"new_adult_count\": {\"type\": \"integer\", \"description\": \"The new number of adults for the booking.\", \"required\": false, \"example\": 2}, \"new_child_count\": {\"type\": \"integer\", \"description\": \"The new number of children for the booking.\", \"required\": false, \"example\": 1}}, \"response\": \"The tool responds with a status message that indicates the result of the modification request. This status message is a string that provides feedback about whether the operation was successful or failed. The response contains only one component:\\n\\n- **status** (type: string): This field provides a textual message describing the outcome of the modification attempt. It indicates whether the booking modification was successful or if there was an error (e.g., invalid data, booking not found, etc.). The content of the status message will vary depending on the situation, but it will generally communicate either a success or failure.\", \"examples\": [{\"user_intent\": \"I need to change my hotel booking 987654321 to check in on 2026-01-10 and check out on 2026-01-15.\", \"tool_call\": {\"name\": \"ModifyHotelBooking\", \"arguments\": {\"order_number\": \"987654321\", \"new_check_in_date\": \"2026-01-10\", \"new_check_out_date\": \"2026-01-15\"}}}, {\"user_intent\": \"Update my booking 123456789 to have 2 rooms, 4 adults, and 2 children.\", \"tool_call\": {\"name\": \"ModifyHotelBooking\", \"arguments\": {\"order_number\": \"123456789\", \"new_room_count\": 2, \"new_adult_count\": 4, \"new_child_count\": 2}}}, {\"user_intent\": \"I want to reschedule booking 555333111 to new dates from 2026-02-05 to 2026-02-08 and change it to 1 room for 2 adults only.\", \"tool_call\": {\"name\": \"ModifyHotelBooking\", \"arguments\": {\"order_number\": \"555333111\", \"new_check_in_date\": \"2026-02-05\", \"new_check_out_date\": \"2026-02-08\", \"new_room_count\": 1, \"new_adult_count\": 2, \"new_child_count\": 0}}}]}\n\n# User Query\nCan you help me check if there is a reservation for the Design Team Meeting on March 26, 2023 from 11:00AM to 1:00PM at Design Studio?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check if there is a scheduled meeting for the Design Team Meeting on March 26, 2023 from 11:00AM to 1:00PM at Design Studio.",
                    "tool_description": "Retrieve detailed information about a specific meeting by providing its name, date, time, and location to verify its existence and details.",
                    "expected_response": "An object containing meeting details such as meeting ID, scheduled time, location, and attendee list, or a status indicating no meeting found."
                }
            ],
            "extracted_arguments": {
                "meeting_name": "The name or title of the meeting to be checked.",
                "meeting_date": "The scheduled date of the meeting in YYYY-MM-DD format.",
                "start_time": "The starting time of the meeting in HH:MM format with AM/PM notation.",
                "end_time": "The ending time of the meeting in HH:MM format with AM/PM notation.",
                "location": "The physical or virtual location where the meeting is scheduled."
            }
        }
    },
    {
        "id": "apibank_query_15",
        "query": "Can you search the definition of the word \"plethora\" for me?",
        "instruction": "Given a `word definition retrieval` task, retrieve tools that search for and provide comprehensive definitions by processing text inputs for specific words or terms as outlined in the query.",
        "labels": [
            {
                "id": "apibank_tool_37",
                "doc": {
                    "expressions": "Dictionary(query: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/dictionary.py",
                    "parameters": "(query: str)",
                    "name": "Dictionary",
                    "description": "description = \"API that takes a 'query' parameter as input and retrieves the definition of that word.\"\ninput_parameters = {\n    'query': {'type': 'str', 'description': 'The word to search the definition for.'},\n}\noutput_parameters = {\n    'definition': {'type': 'str', 'description': 'The definition of the requested word.'},\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This API retrieves the definition of a word based on a provided search query.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 4: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.",
            "Tool 5: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).",
            "Tool 6: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.",
            "Tool 7: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.",
            "Tool 8: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 9: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.",
            "Tool 10: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.",
            "Tool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 12: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 13: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 15: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data."
        ],
        "tool_view": {
            "description": "This API retrieves the definition of a word based on a provided search query.",
            "parameters": {
                "query": {
                    "type": "string",
                    "description": "The word for which the API will retrieve the definition.",
                    "required": true,
                    "default": null,
                    "example": "apple"
                }
            },
            "response": "The tool returns a response object containing a single field named `definition`. This field holds the meaning or explanation of the word provided in the `query` parameter. Specifically:  \n\n- **definition** (`string`): Contains the textual definition of the requested word. It represents the primary content of the response, providing the user with the explanation, meaning, or description associated with the input word.  \n\nThe response is therefore a simple object with one key-value pair, where the key identifies the type of information returned (the word’s definition) and the value is the actual definition text.",
            "examples": [
                {
                    "user_intent": "I want to know the meaning of the word 'serendipity'.",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "serendipity"
                        }
                    }
                },
                {
                    "user_intent": "Look up the definition of 'quantum mechanics' for me.",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "quantum mechanics"
                        }
                    }
                },
                {
                    "user_intent": "Can you tell me what 'ephemeral' means?",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "ephemeral"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This API retrieves the definition of a word based on a provided search query.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 4: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.\nTool 5: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).\nTool 6: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.\nTool 7: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.\nTool 8: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 9: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.\nTool 10: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.\nTool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 12: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 13: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 15: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This API retrieves the definition of a word based on a provided search query.\", \"parameters\": {\"query\": {\"type\": \"string\", \"description\": \"The word for which the API will retrieve the definition.\", \"required\": true, \"default\": null, \"example\": \"apple\"}}, \"response\": \"The tool returns a response object containing a single field named `definition`. This field holds the meaning or explanation of the word provided in the `query` parameter. Specifically:  \\n\\n- **definition** (`string`): Contains the textual definition of the requested word. It represents the primary content of the response, providing the user with the explanation, meaning, or description associated with the input word.  \\n\\nThe response is therefore a simple object with one key-value pair, where the key identifies the type of information returned (the word\\u2019s definition) and the value is the actual definition text.\", \"examples\": [{\"user_intent\": \"I want to know the meaning of the word 'serendipity'.\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"serendipity\"}}}, {\"user_intent\": \"Look up the definition of 'quantum mechanics' for me.\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"quantum mechanics\"}}}, {\"user_intent\": \"Can you tell me what 'ephemeral' means?\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"ephemeral\"}}}]}\n\n# User Query\nCan you search the definition of the word \"plethora\" for me?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know the meaning of the word 'plethora'.",
                    "tool_description": "Retrieve the definition of a specified word using a dictionary API.",
                    "expected_response": "An object containing the textual definition of the requested word."
                }
            ],
            "extracted_arguments": {
                "query": "The word for which the definition is being requested, represented as a string."
            }
        }
    },
    {
        "id": "apibank_query_16",
        "query": "Can you please tell me which devices are included in the \"Morning Routine\" scene?",
        "instruction": "Given a `scene query` task, retrieve tools that provide information about smart home setups by processing scene names to return the list of devices and their associated attributes.",
        "labels": [
            {
                "id": "apibank_tool_67",
                "doc": {
                    "expressions": "QueryScene(scene_name: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_scene.py",
                    "parameters": "(scene_name: str)",
                    "name": "QueryScene",
                    "description": "description = \"API to query a specific 'scene' by providing a 'scene_name'.\"\ninput_parameters = {\n    'scene_name': {'type': 'str', 'description': 'The name of the scene to be queried.'}\n}\noutput_parameters = {\n    'scene_info': {'type': 'dict', 'description': 'A dictionary containing the information about the queried scene.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 1: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 2: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 7: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 8: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 9: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 10: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 11: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 12: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes."
        ],
        "tool_view": {
            "description": "Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "parameters": {
                "scene_name": {
                    "type": "string",
                    "description": "The name of the scene to be added.",
                    "required": true,
                    "example": "Morning Routine"
                },
                "device_list": {
                    "type": "array",
                    "description": "A list of device identifiers or names that are included in the scene.",
                    "required": true,
                    "example": [
                        "Light1",
                        "Thermostat1",
                        "CoffeeMaker1"
                    ]
                }
            },
            "response": "The tool’s response is a JSON object containing a single field named `status`. This field is a string that indicates the result of the attempt to add a new scene. Specifically:  \n\n- **status**: A string value that conveys whether the operation was successful or not. The expected values are `\"success\"` if the scene was added successfully, or `\"failed\"` if there was an error or the operation did not complete.  \n\nNo additional fields are defined, so the response is limited to conveying the outcome of the add-scene operation through this single status indicator.",
            "examples": [
                {
                    "user_intent": "Create a new smart home scene called 'Morning Routine' that turns on the bedroom lights and starts the coffee maker.",
                    "tool_call": {
                        "name": "AddScene",
                        "arguments": {
                            "scene_name": "Morning Routine",
                            "device_list": [
                                "Bedroom Light",
                                "Coffee Maker"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Set up a 'Movie Night' scene with the living room TV, sound system, and dimmable lights.",
                    "tool_call": {
                        "name": "AddScene",
                        "arguments": {
                            "scene_name": "Movie Night",
                            "device_list": [
                                "Living Room TV",
                                "Sound System",
                                "Dimmable Lights"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Add a 'Good Night' scene that turns off all lights and locks the front door.",
                    "tool_call": {
                        "name": "AddScene",
                        "arguments": {
                            "scene_name": "Good Night",
                            "device_list": [
                                "All Lights",
                                "Front Door Lock"
                            ]
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 1: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 2: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 7: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 8: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 9: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 10: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 11: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 12: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\", \"parameters\": {\"scene_name\": {\"type\": \"string\", \"description\": \"The name of the scene to be added.\", \"required\": true, \"example\": \"Morning Routine\"}, \"device_list\": {\"type\": \"array\", \"description\": \"A list of device identifiers or names that are included in the scene.\", \"required\": true, \"example\": [\"Light1\", \"Thermostat1\", \"CoffeeMaker1\"]}}, \"response\": \"The tool\\u2019s response is a JSON object containing a single field named `status`. This field is a string that indicates the result of the attempt to add a new scene. Specifically:  \\n\\n- **status**: A string value that conveys whether the operation was successful or not. The expected values are `\\\"success\\\"` if the scene was added successfully, or `\\\"failed\\\"` if there was an error or the operation did not complete.  \\n\\nNo additional fields are defined, so the response is limited to conveying the outcome of the add-scene operation through this single status indicator.\", \"examples\": [{\"user_intent\": \"Create a new smart home scene called 'Morning Routine' that turns on the bedroom lights and starts the coffee maker.\", \"tool_call\": {\"name\": \"AddScene\", \"arguments\": {\"scene_name\": \"Morning Routine\", \"device_list\": [\"Bedroom Light\", \"Coffee Maker\"]}}}, {\"user_intent\": \"Set up a 'Movie Night' scene with the living room TV, sound system, and dimmable lights.\", \"tool_call\": {\"name\": \"AddScene\", \"arguments\": {\"scene_name\": \"Movie Night\", \"device_list\": [\"Living Room TV\", \"Sound System\", \"Dimmable Lights\"]}}}, {\"user_intent\": \"Add a 'Good Night' scene that turns off all lights and locks the front door.\", \"tool_call\": {\"name\": \"AddScene\", \"arguments\": {\"scene_name\": \"Good Night\", \"device_list\": [\"All Lights\", \"Front Door Lock\"]}}}]}\n\n# User Query\nCan you please tell me which devices are included in the \"Morning Routine\" scene?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to see which devices are included in a specific smart home scene.",
                    "tool_description": "Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
                    "expected_response": "A JSON object containing the scene's details, including its name and the list of devices associated with it."
                }
            ],
            "extracted_arguments": {
                "scene_name": "The name of the scene whose device list is being queried."
            }
        }
    },
    {
        "id": "apibank_query_17",
        "query": "Can you translate \"Hello, how are you?\" to French?",
        "instruction": "Given a `translation` task, retrieve tools that can translate text by processing input text and language parameters to deliver the desired translated text output.",
        "labels": [
            {
                "id": "apibank_tool_41",
                "doc": {
                    "expressions": "Translate(text: str, source_language: str, target_language: str)",
                    "category": "其他AI模型",
                    "path": "apis/translate.py",
                    "parameters": "(text: str, source_language: str, target_language: str)",
                    "name": "Translate",
                    "description": "description = \"Translate API that takes three parameters - 'text', 'source_language' and 'target_language'. The 'text' parameter is the string that needs to be translated, the 'source_language' parameter is the language in which the initial text is written and the 'target_language' parameter specifies the language to which the text is to be translated.\"\ninput_parameters = {\n    'text': {'type': 'str', 'description': 'The text to be translated.'},\n    'source_language': {'type': 'str', 'description': 'The language in which the initial text is written. Format: ISO 639 language code'},\n    'target_language': {'type': 'str', 'description': 'The language to which the text is to be translated. Format: ISO 639 language code'}\n}\noutput_parameters = {\n    'translated_text': {'type': 'str', 'description': 'The string of the translated text.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 3: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.",
            "Tool 10: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: This API retrieves the definition of a word based on a provided search query."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 3: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\nTool 10: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: This API retrieves the definition of a word based on a provided search query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you translate \"Hello, how are you?\" to French?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Translate a given text from one language to another.",
                    "tool_description": "Translate text from a specified source language to a target language using ISO 639 language codes.",
                    "expected_response": "The translated text in the target language."
                }
            ],
            "extracted_arguments": {
                "text": "The original text string that needs to be translated.",
                "source_language": "The ISO 639 code of the language of the original text.",
                "target_language": "The ISO 639 code of the language to which the text should be translated."
            }
        }
    },
    {
        "id": "apibank_query_18",
        "query": "Can you modify my alarm from 8:00AM to 9:00AM on March 16, 2023?",
        "instruction": "Given an `alarm modification` task, retrieve tools that facilitate adjusting alarm settings by processing inputs such as authorization token, timer ID, and the new alarm time to update the alarm schedule and return the operation status.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_20",
                "doc": {
                    "expressions": "ModifyAlarm(token: str, timer_id: int, time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_alarm.py",
                    "parameters": "(token: str, timer_id: int, time: datetime)",
                    "name": "ModifyAlarm",
                    "description": "description = \"Modify an alarm API that takes three parameters - 'timer_id', 'time' and 'token'. The 'timer_id' parameter refers to the existing alarm that needs to be modified. The 'time' parameter specifies the new time at which the alarm should be triggered.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authorization token.'},\n    'timer_id': {'type': 'int', 'description': 'The id of the timer that needs to be modified.'},\n    'time': {'type': 'str', 'description': 'The new time for the timer. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'message': {'type': 'str', 'description': 'Additional information about the status.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 1: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 5: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 7: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 9: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 10: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 11: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 12: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 13: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 14: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.",
            "Tool 15: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 16: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 17: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 18: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.",
            "Tool 19: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details."
        ],
        "tool_view": {
            "description": "Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "The authorization token required to authenticate the request.",
                    "required": true,
                    "example": "abcd1234token"
                },
                "timer_id": {
                    "type": "integer",
                    "description": "The unique identifier of the timer that needs to be modified.",
                    "required": true,
                    "example": 42
                },
                "time": {
                    "type": "string",
                    "description": "The new time for the timer in the format '%Y-%m-%d %H:%M:%S', specifying when the alarm should trigger.",
                    "required": true,
                    "example": "2025-12-11 08:30:00"
                }
            },
            "response": "The tool returns a JSON object representing the outcome of the alarm modification request. The response contains two components:  \n\n1. **status**: A string indicating whether the operation succeeded or failed. It serves as a high-level indicator of the result. Typical values would be `\"success\"` if the alarm was successfully updated, or `\"failed\"` if there was an error.  \n\n2. **message**: A string providing additional context or details about the operation’s result. This may include error descriptions, validation feedback, or confirmation messages explaining why the operation succeeded or failed.  \n\nTogether, these fields allow the caller to programmatically check the result of the modification and obtain human-readable information for logging or debugging.",
            "examples": [
                {
                    "user_intent": "I want to change the time of my existing alarm to 7:00 AM tomorrow.",
                    "tool_call": {
                        "name": "ModifyAlarm",
                        "arguments": {
                            "token": "abc123xyz",
                            "timer_id": 101,
                            "time": "2025-12-31 07:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Can you update the timer with ID 50 to trigger at 3:30 PM today?",
                    "tool_call": {
                        "name": "ModifyAlarm",
                        "arguments": {
                            "token": "securetoken789",
                            "timer_id": 50,
                            "time": "2025-12-30 15:30:00"
                        }
                    }
                },
                {
                    "user_intent": "I need to reschedule my alarm to 8:15 AM next Monday.",
                    "tool_call": {
                        "name": "ModifyAlarm",
                        "arguments": {
                            "token": "def456ghj",
                            "timer_id": 200,
                            "time": "2025-01-05 08:15:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 1: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 5: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 7: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 9: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 10: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 11: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 12: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 13: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 14: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.\nTool 15: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 16: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 17: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 18: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.\nTool 19: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"The authorization token required to authenticate the request.\", \"required\": true, \"example\": \"abcd1234token\"}, \"timer_id\": {\"type\": \"integer\", \"description\": \"The unique identifier of the timer that needs to be modified.\", \"required\": true, \"example\": 42}, \"time\": {\"type\": \"string\", \"description\": \"The new time for the timer in the format '%Y-%m-%d %H:%M:%S', specifying when the alarm should trigger.\", \"required\": true, \"example\": \"2025-12-11 08:30:00\"}}, \"response\": \"The tool returns a JSON object representing the outcome of the alarm modification request. The response contains two components:  \\n\\n1. **status**: A string indicating whether the operation succeeded or failed. It serves as a high-level indicator of the result. Typical values would be `\\\"success\\\"` if the alarm was successfully updated, or `\\\"failed\\\"` if there was an error.  \\n\\n2. **message**: A string providing additional context or details about the operation\\u2019s result. This may include error descriptions, validation feedback, or confirmation messages explaining why the operation succeeded or failed.  \\n\\nTogether, these fields allow the caller to programmatically check the result of the modification and obtain human-readable information for logging or debugging.\", \"examples\": [{\"user_intent\": \"I want to change the time of my existing alarm to 7:00 AM tomorrow.\", \"tool_call\": {\"name\": \"ModifyAlarm\", \"arguments\": {\"token\": \"abc123xyz\", \"timer_id\": 101, \"time\": \"2025-12-31 07:00:00\"}}}, {\"user_intent\": \"Can you update the timer with ID 50 to trigger at 3:30 PM today?\", \"tool_call\": {\"name\": \"ModifyAlarm\", \"arguments\": {\"token\": \"securetoken789\", \"timer_id\": 50, \"time\": \"2025-12-30 15:30:00\"}}}, {\"user_intent\": \"I need to reschedule my alarm to 8:15 AM next Monday.\", \"tool_call\": {\"name\": \"ModifyAlarm\", \"arguments\": {\"token\": \"def456ghj\", \"timer_id\": 200, \"time\": \"2025-01-05 08:15:00\"}}}]}\n\n# User Query\nCan you modify my alarm from 8:00AM to 9:00AM on March 16, 2023?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to change the time of my existing alarm from 8:00 AM to 9:00 AM on March 16, 2023.",
                    "tool_description": "Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
                    "expected_response": "A JSON object containing the status of the operation and a message detailing success or failure of the alarm update."
                }
            ],
            "extracted_arguments": {
                "token": "The authorization token required to authenticate the request.",
                "timer_id": "The unique identifier of the alarm that needs to be modified.",
                "time": "The new time for the alarm in the format '%Y-%m-%d %H:%M:%S', specifying when the alarm should trigger."
            }
        }
    },
    {
        "id": "apibank_query_19",
        "query": "Can you help me modify my schedule for next week? I need to change the time and location of one of my events.",
        "instruction": "Given a `schedule modification` task, retrieve tools that assist in updating events by processing parameters such as token, schedule ID, new time, and location to modify the agenda and return the operation's status.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_15",
                "doc": {
                    "expressions": "ModifyAgenda(token: str, schedule_id: int, content: str, time: datetime, location: str)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_agenda.py",
                    "parameters": "(token: str, schedule_id: int, content: str, time: datetime, location: str)",
                    "name": "ModifyAgenda",
                    "description": "description = \"A modify agenda API that takes four parameters - 'schedule_id', 'content', 'time' and 'location'. The 'schedule_id' parameter refers to the ID of the schedule that needs to be modified, the 'content' parameter refers to the updated details of the agenda, the 'time' parameter specifies the new time at which the agenda should be conducted and the 'location' parameter specifies the updated location of the agenda.\"\ninput_parameters = {\n    'schedule_id': {'type': 'int', 'description': 'The ID of the schedule to be modified.'},\n    'content': {'type': 'str', 'description': 'The updated details of the agenda.'},\n    'time': {'type': 'datetime', 'description': 'The updated time for the agenda.'},\n    'location': {'type': 'str', 'description': 'The updated location of the agenda.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Indicates whether the modifying the agenda was successful or not.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 1: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 2: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 5: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 6: Checks whether a scheduled event conflicts with existing events by evaluating the event's description and scheduled time, helping to prevent overlapping appointments or commitments.",
            "Tool 7: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 8: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 9: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 10: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 11: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 12: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 13: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 14: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 15: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.",
            "Tool 16: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 18: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.",
            "Tool 19: Provides navigation directions by calculating a route between a specified starting location and destination using a chosen mode of transportation, returning the suggested route and estimated travel time."
        ],
        "tool_view": {
            "description": "This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "parameters": {
                "date": {
                    "type": "datetime",
                    "description": "The specific date for which scheduling operations, such as adding or modifying events, will be performed.",
                    "required": true,
                    "example": "2025-12-15T09:00:00"
                },
                "schedule_list": {
                    "type": "list",
                    "description": "A list of objects, each representing a scheduled event with details such as event name, start time, end time, description, and location.",
                    "required": true,
                    "example": [
                        {
                            "name": "Team Meeting",
                            "start_time": "2025-12-15T10:00:00",
                            "end_time": "2025-12-15T11:00:00",
                            "description": "Monthly team sync-up",
                            "location": "Conference Room A"
                        }
                    ]
                }
            },
            "response": "The tool returns a response object that indicates the outcome of the scheduling operation. The response contains the following component:\n\n- **status**: A string that conveys whether the scheduling operation was successful. This field serves as a high-level indicator of the result, such as confirming that the events were added or modified successfully, or signaling a failure if the operation could not be completed.  \n\nNo additional fields are defined, so the response primarily communicates the success or failure status of the requested scheduling actions.",
            "examples": [
                {
                    "user_intent": "I need to add meetings for tomorrow.",
                    "tool_call": {
                        "name": "Schedule",
                        "arguments": {
                            "date": "2025-12-31T00:00:00",
                            "schedule_list": [
                                {
                                    "name": "Team Meeting",
                                    "start_time": "09:00",
                                    "end_time": "10:00",
                                    "description": "Monthly team meeting",
                                    "location": "Conference Room 1"
                                },
                                {
                                    "name": "Client Call",
                                    "start_time": "14:00",
                                    "end_time": "15:00",
                                    "description": "Call with potential client",
                                    "location": "Zoom"
                                }
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Can you update the schedule for today? I need to add a conference from 2 PM to 4 PM.",
                    "tool_call": {
                        "name": "Schedule",
                        "arguments": {
                            "date": "2025-12-30T00:00:00",
                            "schedule_list": [
                                {
                                    "name": "Conference",
                                    "start_time": "14:00",
                                    "end_time": "16:00",
                                    "description": "Annual company conference",
                                    "location": "Auditorium"
                                }
                            ]
                        }
                    }
                },
                {
                    "user_intent": "I want to check if there are any events scheduled for December 31st.",
                    "tool_call": {
                        "name": "Schedule",
                        "arguments": {
                            "date": "2025-12-31T00:00:00",
                            "schedule_list": []
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 1: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 2: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 5: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 6: Checks whether a scheduled event conflicts with existing events by evaluating the event's description and scheduled time, helping to prevent overlapping appointments or commitments.\nTool 7: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 8: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 9: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 10: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 11: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 12: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 13: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 14: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 15: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.\nTool 16: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 18: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.\nTool 19: Provides navigation directions by calculating a route between a specified starting location and destination using a chosen mode of transportation, returning the suggested route and estimated travel time.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\", \"parameters\": {\"date\": {\"type\": \"datetime\", \"description\": \"The specific date for which scheduling operations, such as adding or modifying events, will be performed.\", \"required\": true, \"example\": \"2025-12-15T09:00:00\"}, \"schedule_list\": {\"type\": \"list\", \"description\": \"A list of objects, each representing a scheduled event with details such as event name, start time, end time, description, and location.\", \"required\": true, \"example\": [{\"name\": \"Team Meeting\", \"start_time\": \"2025-12-15T10:00:00\", \"end_time\": \"2025-12-15T11:00:00\", \"description\": \"Monthly team sync-up\", \"location\": \"Conference Room A\"}]}}, \"response\": \"The tool returns a response object that indicates the outcome of the scheduling operation. The response contains the following component:\\n\\n- **status**: A string that conveys whether the scheduling operation was successful. This field serves as a high-level indicator of the result, such as confirming that the events were added or modified successfully, or signaling a failure if the operation could not be completed.  \\n\\nNo additional fields are defined, so the response primarily communicates the success or failure status of the requested scheduling actions.\", \"examples\": [{\"user_intent\": \"I need to add meetings for tomorrow.\", \"tool_call\": {\"name\": \"Schedule\", \"arguments\": {\"date\": \"2025-12-31T00:00:00\", \"schedule_list\": [{\"name\": \"Team Meeting\", \"start_time\": \"09:00\", \"end_time\": \"10:00\", \"description\": \"Monthly team meeting\", \"location\": \"Conference Room 1\"}, {\"name\": \"Client Call\", \"start_time\": \"14:00\", \"end_time\": \"15:00\", \"description\": \"Call with potential client\", \"location\": \"Zoom\"}]}}}, {\"user_intent\": \"Can you update the schedule for today? I need to add a conference from 2 PM to 4 PM.\", \"tool_call\": {\"name\": \"Schedule\", \"arguments\": {\"date\": \"2025-12-30T00:00:00\", \"schedule_list\": [{\"name\": \"Conference\", \"start_time\": \"14:00\", \"end_time\": \"16:00\", \"description\": \"Annual company conference\", \"location\": \"Auditorium\"}]}}}, {\"user_intent\": \"I want to check if there are any events scheduled for December 31st.\", \"tool_call\": {\"name\": \"Schedule\", \"arguments\": {\"date\": \"2025-12-31T00:00:00\", \"schedule_list\": []}}}]}\n\n# User Query\nCan you help me modify my schedule for next week? I need to change the time and location of one of my events.\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to modify an existing event in my schedule for next week.",
                    "tool_description": "Update an existing scheduled event by specifying its unique identifier or name, along with the new time and location details for the event.",
                    "expected_response": "A status object indicating whether the update operation was successful."
                }
            ],
            "extracted_arguments": {
                "event_identifier": "A unique identifier or name of the event to be modified.",
                "new_time": "The updated start and end time for the event, in datetime format.",
                "new_location": "The updated location for the scheduled event.",
                "schedule_date": "The specific date of the event to be modified, within the next week."
            }
        }
    },
    {
        "id": "apibank_query_20",
        "query": "Can you help me record my blood pressure and heart rate?",
        "instruction": "Given a `health data recording` task, retrieve tools that manage and store personal health metrics by processing inputs such as user ID, date, and health data to update the user's health history and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 1: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 5: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 6: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 7: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 8: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 9: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 10: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content."
        ],
        "tool_view": {
            "description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user whose health history is being recorded.",
                    "required": true,
                    "example": "12345"
                },
                "date": {
                    "type": "string",
                    "description": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                },
                "health_data": {
                    "type": "object",
                    "description": "An object containing the health data that is being recorded for the user.",
                    "required": true,
                    "example": {
                        "weight": 70,
                        "blood_pressure": "120/80",
                        "heart_rate": 72
                    }
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\n\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\"success\"` if the health data was recorded correctly, or `\"failed\"` if there was an error or the operation did not complete as intended.  \n\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action’s result.",
            "examples": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for user 1001.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "1001",
                            "date": "2025-12-30",
                            "health_data": {
                                "blood_pressure": "120/80",
                                "heart_rate": 72
                            }
                        }
                    }
                },
                {
                    "user_intent": "Add yesterday's step count and sleep hours for user A42.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "A42",
                            "date": "2025-12-29",
                            "health_data": {
                                "steps": 8500,
                                "sleep_hours": 7.5
                            }
                        }
                    }
                },
                {
                    "user_intent": "Log user 78's weight and body temperature for today.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "78",
                            "date": "2025-12-30",
                            "health_data": {
                                "weight_kg": 68.2,
                                "body_temperature_c": 36.6
                            }
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 1: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 5: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 6: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 7: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 8: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 9: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 10: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Record and store a user\\u2019s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user whose health history is being recorded.\", \"required\": true, \"example\": \"12345\"}, \"date\": {\"type\": \"string\", \"description\": \"The date when the health data was recorded, in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}, \"health_data\": {\"type\": \"object\", \"description\": \"An object containing the health data that is being recorded for the user.\", \"required\": true, \"example\": {\"weight\": 70, \"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\\n\\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\\\"success\\\"` if the health data was recorded correctly, or `\\\"failed\\\"` if there was an error or the operation did not complete as intended.  \\n\\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action\\u2019s result.\", \"examples\": [{\"user_intent\": \"Record today's blood pressure and heart rate for user 1001.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"1001\", \"date\": \"2025-12-30\", \"health_data\": {\"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}}, {\"user_intent\": \"Add yesterday's step count and sleep hours for user A42.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"A42\", \"date\": \"2025-12-29\", \"health_data\": {\"steps\": 8500, \"sleep_hours\": 7.5}}}}, {\"user_intent\": \"Log user 78's weight and body temperature for today.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"78\", \"date\": \"2025-12-30\", \"health_data\": {\"weight_kg\": 68.2, \"body_temperature_c\": 36.6}}}}]}\n\n# User Query\nCan you help me record my blood pressure and heart rate?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for a specific user.",
                    "tool_description": "Record and store a user's health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
                    "expected_response": "A structured object indicating the status of the health data recording operation, showing either 'success' or 'failed'."
                }
            ],
            "extracted_arguments": {
                "user_id": "The unique identifier of the user whose health history is being recorded.",
                "date": "The date when the health data is being recorded, in the format YYYY-MM-DD.",
                "health_data": "An object containing the health metrics to record, specifically blood pressure and heart rate."
            }
        }
    },
    {
        "id": "apibank_query_21",
        "query": "Can you please modify my reminder to submit the proposal at 2 pm on March 25th?",
        "instruction": "Given a `reminder modification` task, retrieve tools that manage scheduling operations by processing authentication tokens, reminder IDs, updated content, and time inputs to adjust an existing reminder and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_7",
                "doc": {
                    "expressions": "ModifyReminder(token: str, reminder_id: int, content: str, time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_reminder.py",
                    "parameters": "(token: str, reminder_id: int, content: str, time: datetime)",
                    "name": "ModifyReminder",
                    "description": "description = \"Modify an existing reminder API that takes three parameters - 'reminder_id', 'content' and 'time'. The 'reminder_id' parameter refers to the identifier of the reminder that needs to be modified, 'content' parameter refers to the updated description of the reminder, and 'time' parameter specifies the updated time of the reminder.\"\ninput_parameters = {\n    'reminder_id': {'type': 'int', 'description': 'The identifier of the reminder.'},\n    'content': {'type': 'str', 'description': 'The updated content of the reminder.'},\n    'time': {'type': 'str', 'description': 'The updated time for the reminder. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 5: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 6: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 7: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 8: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 9: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 10: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 11: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 12: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 13: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference."
        ],
        "tool_view": {
            "description": "Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "parameters": {
                "reminder_id": {
                    "type": "int",
                    "description": "The unique identifier of the reminder that needs to be modified.",
                    "required": true,
                    "example": 123
                },
                "content": {
                    "type": "string",
                    "description": "The new content or description for the reminder.",
                    "required": true,
                    "example": "Doctor appointment at 3 PM"
                },
                "time": {
                    "type": "string",
                    "description": "The updated date for the reminder in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-15"
                }
            },
            "response": "The tool’s response consists of a single structured object with the following component:\n\n- **status** (string): Indicates the outcome of the reminder modification operation. Its value conveys whether the request was successfully processed or not. Specifically, it can be interpreted as:  \n  - `\"success\"`: The reminder was successfully updated with the provided content and/or time.  \n  - `\"failed\"`: The modification did not succeed, which could occur due to reasons such as an invalid `reminder_id` or incorrect input format.\n\nThis is the only field defined in the response, and it serves as a simple confirmation of the operation’s result without returning the full reminder data or additional metadata.",
            "examples": [
                {
                    "user_intent": "I need to change the reminder for my meeting tomorrow to 3 PM.",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 101,
                            "content": "Meeting with the team",
                            "time": "2025-12-31"
                        }
                    }
                },
                {
                    "user_intent": "Update my doctor's appointment reminder to 2:30 PM on January 5th.",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 204,
                            "content": "Doctor's appointment",
                            "time": "2026-01-05"
                        }
                    }
                },
                {
                    "user_intent": "Can you change my reminder to pick up groceries to 4 PM on December 30th?",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 50,
                            "content": "Pick up groceries",
                            "time": "2025-12-30"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 5: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 6: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 7: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 8: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 9: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 10: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 11: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 12: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 13: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder\\u2019s details efficiently.\", \"parameters\": {\"reminder_id\": {\"type\": \"int\", \"description\": \"The unique identifier of the reminder that needs to be modified.\", \"required\": true, \"example\": 123}, \"content\": {\"type\": \"string\", \"description\": \"The new content or description for the reminder.\", \"required\": true, \"example\": \"Doctor appointment at 3 PM\"}, \"time\": {\"type\": \"string\", \"description\": \"The updated date for the reminder in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-15\"}}, \"response\": \"The tool\\u2019s response consists of a single structured object with the following component:\\n\\n- **status** (string): Indicates the outcome of the reminder modification operation. Its value conveys whether the request was successfully processed or not. Specifically, it can be interpreted as:  \\n  - `\\\"success\\\"`: The reminder was successfully updated with the provided content and/or time.  \\n  - `\\\"failed\\\"`: The modification did not succeed, which could occur due to reasons such as an invalid `reminder_id` or incorrect input format.\\n\\nThis is the only field defined in the response, and it serves as a simple confirmation of the operation\\u2019s result without returning the full reminder data or additional metadata.\", \"examples\": [{\"user_intent\": \"I need to change the reminder for my meeting tomorrow to 3 PM.\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 101, \"content\": \"Meeting with the team\", \"time\": \"2025-12-31\"}}}, {\"user_intent\": \"Update my doctor's appointment reminder to 2:30 PM on January 5th.\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 204, \"content\": \"Doctor's appointment\", \"time\": \"2026-01-05\"}}}, {\"user_intent\": \"Can you change my reminder to pick up groceries to 4 PM on December 30th?\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 50, \"content\": \"Pick up groceries\", \"time\": \"2025-12-30\"}}}]}\n\n# User Query\nCan you please modify my reminder to submit the proposal at 2 pm on March 25th?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Modify an existing reminder to submit the proposal at a new specified time.",
                    "tool_description": "Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
                    "expected_response": "A status object indicating whether the reminder update was successful or failed."
                }
            ],
            "extracted_arguments": {
                "reminder_id": "The unique identifier of the reminder that needs to be modified.",
                "content": "The new content or description for the reminder.",
                "time": "The updated date and time for the reminder in the format YYYY-MM-DD HH:MM."
            }
        }
    },
    {
        "id": "apibank_query_22",
        "query": "Hi there, can you tell me today's date?",
        "instruction": "Given a `date retrieval` task, retrieve tools that can provide the current date by processing minimal or no input parameters and accurately delivering the requested date information.",
        "labels": [
            {
                "id": "apibank_tool_23",
                "doc": {
                    "expressions": "GetTodayNone",
                    "category": "获取信息 - 外界信息查询",
                    "path": "apis/get_today.py",
                    "parameters": "",
                    "name": "GetToday",
                    "description": "description = \"Get a list of today's tasks which are not completed yet.\"\ninput_parameters = {\n    None\n}\noutput_parameters = {\n    'tasks': {'type': 'list', 'description': 'A list of task objects with their details.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_11",
                "doc": {
                    "expressions": "ModifyMeeting(token: str, meeting_id: int, content: str, time: datetime, attendees: List[str])",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_meeting.py",
                    "parameters": "(token: str, meeting_id: int, content: str, time: datetime, attendees: List[str])",
                    "name": "ModifyMeeting",
                    "description": "description = \"Modify a meeting API that takes four parameters - 'meeting_id', 'content', 'time' and 'attendees'. The 'content' parameter refers to the new description of the meeting, 'time' parameter specifies the new time of the meeting, 'attendees' parameter is a list of email addresses of the new attendees who are invited to the meeting.\"\ninput_parameters = {\n    'meeting_id': {'type': 'int', 'description': 'The ID of the meeting to be modified.'},\n    'content': {'type': 'str', 'description': 'The new content of the meeting.'},\n    'time': {'type': 'str', 'description': 'The new time for meeting. Format: %Y-%m-%d'},\n    'attendees': {'type': 'List[str]', 'description': 'The new attendees (their emails) for the meeting.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_20",
                "doc": {
                    "expressions": "ModifyAlarm(token: str, timer_id: int, time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_alarm.py",
                    "parameters": "(token: str, timer_id: int, time: datetime)",
                    "name": "ModifyAlarm",
                    "description": "description = \"Modify an alarm API that takes three parameters - 'timer_id', 'time' and 'token'. The 'timer_id' parameter refers to the existing alarm that needs to be modified. The 'time' parameter specifies the new time at which the alarm should be triggered.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authorization token.'},\n    'timer_id': {'type': 'int', 'description': 'The id of the timer that needs to be modified.'},\n    'time': {'type': 'str', 'description': 'The new time for the timer. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'message': {'type': 'str', 'description': 'Additional information about the status.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 4: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 5: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 6: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 7: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 8: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 9: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 11: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 12: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 13: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 14: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 15: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 18: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time.",
            "Tool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes."
        ],
        "tool_view": {
            "description": "Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "parameters": {},
            "response": "The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\n\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system’s task model. The list may be empty if there are no incomplete tasks for the day.",
            "examples": [
                {
                    "user_intent": "Show me all the tasks I still need to complete today.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "I want to check my pending tasks for today before my meeting.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "List all unfinished tasks scheduled for today so I can prioritize them.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 4: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 5: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 6: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 7: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 8: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 9: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 11: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 12: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 13: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 14: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 15: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 18: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time.\nTool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\", \"parameters\": {}, \"response\": \"The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\\n\\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system\\u2019s task model. The list may be empty if there are no incomplete tasks for the day.\", \"examples\": [{\"user_intent\": \"Show me all the tasks I still need to complete today.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"I want to check my pending tasks for today before my meeting.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"List all unfinished tasks scheduled for today so I can prioritize them.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}]}\n\n# User Query\nHi there, can you tell me today's date?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know the current date today.",
                    "tool_description": "Retrieve the system's current date in a standard format.",
                    "expected_response": "A single value representing today's date."
                }
            ],
            "extracted_arguments": {}
        }
    },
    {
        "id": "apibank_query_23",
        "query": "Can you help me check if I have a reminder to call my mom on March 16th at 2:30pm?",
        "instruction": "Given a `reminder check` task, retrieve tools that access and query user reminder systems by authenticating user identity through a token and returning scheduled reminders that match the specified date and time criteria.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_8",
                "doc": {
                    "expressions": "QueryReminder(token: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_reminder.py",
                    "parameters": "(token: str)",
                    "name": "QueryReminder",
                    "description": "description = \"Get a list of all reminders API. This API takes a single parameter 'token' which is used for user authentication.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'User authentication token.'}\n}\noutput_parameters = {\n    'reminders': {'type': 'list', 'description': 'List of all the user reminders.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 2: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 3: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 4: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 5: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 8: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 9: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 10: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 11: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 12: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 14: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 15: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 16: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 17: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 2: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 3: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 4: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 5: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 8: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 9: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 10: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 11: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 12: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 14: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 15: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 16: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 17: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you help me check if I have a reminder to call my mom on March 16th at 2:30pm?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to see all my reminders to check if a specific one exists.",
                    "tool_description": "Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
                    "expected_response": "A collection of reminder objects, each containing details such as content, scheduled time, and identifier."
                }
            ],
            "extracted_arguments": {
                "auth_token": "The user authentication token required to access the user's reminders."
            }
        }
    },
    {
        "id": "apibank_query_24",
        "query": "Can you tell me what's the current date?",
        "instruction": "Given a `date inquiry` task, retrieve tools that provide the current date information by processing applicable query parameters and returning the date result.",
        "labels": [
            {
                "id": "apibank_tool_23",
                "doc": {
                    "expressions": "GetTodayNone",
                    "category": "获取信息 - 外界信息查询",
                    "path": "apis/get_today.py",
                    "parameters": "",
                    "name": "GetToday",
                    "description": "description = \"Get a list of today's tasks which are not completed yet.\"\ninput_parameters = {\n    None\n}\noutput_parameters = {\n    'tasks': {'type': 'list', 'description': 'A list of task objects with their details.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 1: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 2: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 6: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 7: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 8: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 11: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 12: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 13: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 14: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 15: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 16: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 19: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time."
        ],
        "tool_view": {
            "description": "Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "parameters": {
                "date": {
                    "type": "string",
                    "description": "The date for which historical events are to be queried. The expected format is YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                }
            },
            "response": "The tool response consists of a single field named `events`, which is a list. Each element in this list represents a historical event that occurred on the specified date. The elements typically contain information describing the event, such as its title, date, and possibly additional details or context about the event, though the exact structure of each event is not explicitly defined in the documentation. The `events` list may be empty if no historical events are found for the given date.",
            "examples": [
                {
                    "user_intent": "Tell me what happened on June 6, 1944.",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "1944-06-06"
                        }
                    }
                },
                {
                    "user_intent": "Give me a list of historical events for July 20, 1969.",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "1969-07-20"
                        }
                    }
                },
                {
                    "user_intent": "What significant events took place on September 11, 2001?",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "2001-09-11"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 1: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 2: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 6: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 7: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 8: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 11: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 12: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 13: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 14: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 15: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 16: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 19: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\", \"parameters\": {\"date\": {\"type\": \"string\", \"description\": \"The date for which historical events are to be queried. The expected format is YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}}, \"response\": \"The tool response consists of a single field named `events`, which is a list. Each element in this list represents a historical event that occurred on the specified date. The elements typically contain information describing the event, such as its title, date, and possibly additional details or context about the event, though the exact structure of each event is not explicitly defined in the documentation. The `events` list may be empty if no historical events are found for the given date.\", \"examples\": [{\"user_intent\": \"Tell me what happened on June 6, 1944.\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"1944-06-06\"}}}, {\"user_intent\": \"Give me a list of historical events for July 20, 1969.\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"1969-07-20\"}}}, {\"user_intent\": \"What significant events took place on September 11, 2001?\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"2001-09-11\"}}}]}\n\n# User Query\nCan you tell me what's the current date?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know the current date today.",
                    "tool_description": "Retrieve the system's current date, providing the year, month, and day in standard format.",
                    "expected_response": "A single date value representing today's date in YYYY-MM-DD format."
                }
            ],
            "extracted_arguments": {}
        }
    },
    {
        "id": "apibank_query_25",
        "query": "Can you help me change my account password?",
        "instruction": "Given a `password modification` task, retrieve tools that facilitate changing account passwords by processing authentication inputs, such as user credentials and new password data, to ensure security and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_3",
                "doc": {
                    "expressions": "ModifyPassword(token: str, old_password: str, new_password: str)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_password.py",
                    "parameters": "(token: str, old_password: str, new_password: str)",
                    "name": "ModifyPassword",
                    "description": "description = \"Modify password API that takes two parameters - 'old_password' and 'new_password'. The 'old_password' parameter refers to the existing password and the 'new_password' parameter specifies the new password to be set.\"\ninput_parameters = {\n    'old_password': {'type': 'str', 'description': 'The existing password of the user.'},\n    'new_password': {'type': 'str', 'description': 'The new password to be set.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 1: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 3: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 7: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.",
            "Tool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 12: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 13: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 14: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 15: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference."
        ],
        "tool_view": {
            "description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "parameters": {
                "old_password": {
                    "type": "string",
                    "description": "The user's current password that needs to be verified before changing to a new password.",
                    "required": true,
                    "example": "currentPass123"
                },
                "new_password": {
                    "type": "string",
                    "description": "The new password that will replace the existing password for the user account.",
                    "required": true,
                    "example": "newSecurePass456"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \"success\" to indicate the password was changed successfully, or \"failed\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \n\nThis response provides a concise confirmation of the result of the password update request.",
            "examples": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "Summer2025!",
                            "new_password": "Winter2025#Secure"
                        }
                    }
                },
                {
                    "user_intent": "Reset my password because I think my current one is compromised.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "MyOldPass123",
                            "new_password": "SafePass!789"
                        }
                    }
                },
                {
                    "user_intent": "Update my login credentials to a stronger password for better security.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "password2025",
                            "new_password": "StrongerPass#2025"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 1: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 3: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 7: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.\nTool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 12: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 13: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 14: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 15: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\", \"parameters\": {\"old_password\": {\"type\": \"string\", \"description\": \"The user's current password that needs to be verified before changing to a new password.\", \"required\": true, \"example\": \"currentPass123\"}, \"new_password\": {\"type\": \"string\", \"description\": \"The new password that will replace the existing password for the user account.\", \"required\": true, \"example\": \"newSecurePass456\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \\\"success\\\" to indicate the password was changed successfully, or \\\"failed\\\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \\n\\nThis response provides a concise confirmation of the result of the password update request.\", \"examples\": [{\"user_intent\": \"I want to change my account password from my old one to a new secure password.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"Summer2025!\", \"new_password\": \"Winter2025#Secure\"}}}, {\"user_intent\": \"Reset my password because I think my current one is compromised.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"MyOldPass123\", \"new_password\": \"SafePass!789\"}}}, {\"user_intent\": \"Update my login credentials to a stronger password for better security.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"password2025\", \"new_password\": \"StrongerPass#2025\"}}}]}\n\n# User Query\nCan you help me change my account password?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to change my account password to a new one.",
                    "tool_description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
                    "expected_response": "A status string indicating the outcome of the password modification operation (e.g., 'success' or 'failed')."
                }
            ],
            "extracted_arguments": {
                "old_password": "The current password that needs to be verified before changing to a new password.",
                "new_password": "The new password that will replace the existing password for the user account."
            }
        }
    },
    {
        "id": "apibank_query_26",
        "query": "Can you give me the key features of the software in this article - https://www.example.com/article-4.txt?",
        "instruction": "Given a `document analysis` task, retrieve tools that perform question answering by processing text-based document content and providing targeted answers to specific inquiries related to the document.",
        "labels": [
            {
                "id": "apibank_tool_45",
                "doc": {
                    "expressions": "DocumentQA(document_content: str, question: str)",
                    "category": "其他AI模型",
                    "path": "apis/document_qa.py",
                    "parameters": "(document_content: str, question: str)",
                    "name": "DocumentQA",
                    "description": "description = \"Document Question Answering (DocumentQA) API to provide answers for questions given a document content.\"\ninput_parameters = {\n    'document_content': {'type': 'str', 'description': 'The content of the document to be analyzed.'},\n    'question': {'type': 'str', 'description': 'The question to answer from the given document.'}\n}\noutput_parameters = {\n    'answer': {'type': 'str', 'description': 'The answer for the given question.'},\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 4: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 5: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 7: This API retrieves the definition of a word based on a provided search query.",
            "Tool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 9: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 10: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 12: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 16: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 17: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes."
        ],
        "tool_view": {
            "description": "Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.",
            "parameters": {
                "paper_content": {
                    "type": "string",
                    "description": "The full text content of the research paper that will be summarized by the API.",
                    "required": true,
                    "example": "This study investigates the effects of climate change on marine biodiversity."
                }
            },
            "response": "The tool returns a single structured response containing a summary of the provided research paper. The response has the following component:  \n\n- **summary**: A string that contains the generated concise summary of the research paper provided via the `paper_content` parameter. This text is intended to capture the main points, findings, or contributions of the paper in a brief, readable form.",
            "examples": [
                {
                    "user_intent": "Summarize this research paper on quantum computing and its applications.",
                    "tool_call": {
                        "name": "PaperSummary",
                        "arguments": {
                            "paper_content": "This paper explores recent advancements in quantum computing, focusing on qubit optimization, error correction techniques, and practical applications in cryptography and material science."
                        }
                    }
                },
                {
                    "user_intent": "Can you provide a concise summary of a medical research study on Alzheimer's treatment?",
                    "tool_call": {
                        "name": "PaperSummary",
                        "arguments": {
                            "paper_content": "The study investigates a new drug's effectiveness in slowing the progression of Alzheimer's disease, using a double-blind trial involving 500 patients over 18 months."
                        }
                    }
                },
                {
                    "user_intent": "I want a brief overview of a climate change impact paper for my presentation.",
                    "tool_call": {
                        "name": "PaperSummary",
                        "arguments": {
                            "paper_content": "This paper analyzes the effects of rising global temperatures on coastal ecosystems, including sea-level rise, habitat loss, and species migration patterns."
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 4: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 5: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 7: This API retrieves the definition of a word based on a provided search query.\nTool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 9: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 10: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 12: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 16: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 17: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\", \"parameters\": {\"paper_content\": {\"type\": \"string\", \"description\": \"The full text content of the research paper that will be summarized by the API.\", \"required\": true, \"example\": \"This study investigates the effects of climate change on marine biodiversity.\"}}, \"response\": \"The tool returns a single structured response containing a summary of the provided research paper. The response has the following component:  \\n\\n- **summary**: A string that contains the generated concise summary of the research paper provided via the `paper_content` parameter. This text is intended to capture the main points, findings, or contributions of the paper in a brief, readable form.\", \"examples\": [{\"user_intent\": \"Summarize this research paper on quantum computing and its applications.\", \"tool_call\": {\"name\": \"PaperSummary\", \"arguments\": {\"paper_content\": \"This paper explores recent advancements in quantum computing, focusing on qubit optimization, error correction techniques, and practical applications in cryptography and material science.\"}}}, {\"user_intent\": \"Can you provide a concise summary of a medical research study on Alzheimer's treatment?\", \"tool_call\": {\"name\": \"PaperSummary\", \"arguments\": {\"paper_content\": \"The study investigates a new drug's effectiveness in slowing the progression of Alzheimer's disease, using a double-blind trial involving 500 patients over 18 months.\"}}}, {\"user_intent\": \"I want a brief overview of a climate change impact paper for my presentation.\", \"tool_call\": {\"name\": \"PaperSummary\", \"arguments\": {\"paper_content\": \"This paper analyzes the effects of rising global temperatures on coastal ecosystems, including sea-level rise, habitat loss, and species migration patterns.\"}}}]}\n\n# User Query\nCan you give me the key features of the software in this article - https://www.example.com/article-4.txt?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Summarize the key points of the software described in this article.",
                    "tool_description": "Analyze the content of the provided article and generate a concise summary highlighting the main features and key points of the software.",
                    "expected_response": "A structured summary containing the main features, functionalities, and highlights of the software discussed in the article."
                }
            ],
            "extracted_arguments": {
                "article_content": "The full textual content of the article to be analyzed and summarized."
            }
        }
    },
    {
        "id": "apibank_query_27",
        "query": "Can you help me cancel a timed switch for one of my smart devices?",
        "instruction": "Given a `smart device timer cancellation` task, retrieve tools that process device identifiers and scheduled switch times to execute the cancellation of a timed switch and provide feedback on the success of the operation.",
        "labels": [
            {
                "id": "apibank_tool_69",
                "doc": {
                    "expressions": "CancelTimedSwitch(device_id: str, switch_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_timed_switch.py",
                    "parameters": "(device_id: str, switch_time: datetime)",
                    "name": "CancelTimedSwitch",
                    "description": "description = \"API for canceling a timed switch on a device using its 'device ID' and 'switch time' input parameters.\"\ninput_parameters = {\n    'device_id': {'type': 'str', 'description': 'The ID of the device for which the timed switch needs to be cancelled.'},\n    'switch_time': {'type': 'datetime', 'description': 'The time of the scheduled switch. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'The status of the API call - success or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 1: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 2: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 3: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 6: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 8: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 10: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 11: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 12: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 13: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 15: This API retrieves the definition of a word based on a provided search query.",
            "Tool 16: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 17: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.",
            "Tool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "parameters": {
                "device_id": {
                    "type": "string",
                    "description": "The unique identifier of the device for which the scheduled timed switch should be cancelled.",
                    "required": true,
                    "example": "device123"
                },
                "switch_time": {
                    "type": "string",
                    "description": "The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "example": "2025-12-11 14:30:00"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \"success\" or \"failed,\" providing a clear, high-level result of the operation.  \n\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.",
            "examples": [
                {
                    "user_intent": "Cancel the scheduled power-on for my smart lamp at 8 PM tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "lamp_01",
                            "switch_time": "2025-12-30 20:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "thermostat_22",
                            "switch_time": "2025-12-31 07:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Abort the scheduled irrigation system switch that was set for midnight tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "irrigation_05",
                            "switch_time": "2025-12-31 00:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 1: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 2: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 3: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 6: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 8: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 10: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 11: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 12: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 13: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 15: This API retrieves the definition of a word based on a provided search query.\nTool 16: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 17: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\nTool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\", \"parameters\": {\"device_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the device for which the scheduled timed switch should be cancelled.\", \"required\": true, \"example\": \"device123\"}, \"switch_time\": {\"type\": \"string\", \"description\": \"The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"example\": \"2025-12-11 14:30:00\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \\\"success\\\" or \\\"failed,\\\" providing a clear, high-level result of the operation.  \\n\\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.\", \"examples\": [{\"user_intent\": \"Cancel the scheduled power-on for my smart lamp at 8 PM tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"lamp_01\", \"switch_time\": \"2025-12-30 20:00:00\"}}}, {\"user_intent\": \"I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"thermostat_22\", \"switch_time\": \"2025-12-31 07:30:00\"}}}, {\"user_intent\": \"Abort the scheduled irrigation system switch that was set for midnight tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"irrigation_05\", \"switch_time\": \"2025-12-31 00:00:00\"}}}]}\n\n# User Query\nCan you help me cancel a timed switch for one of my smart devices?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to cancel a scheduled timed switch for one of my smart devices.",
                    "tool_description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
                    "expected_response": "An object containing a status field indicating whether the cancelation of the timed switch was successful or failed."
                }
            ],
            "extracted_arguments": {
                "device_id": "The unique identifier of the smart device whose scheduled switch needs to be cancelled.",
                "switch_time": "The specific date and time of the scheduled switch to be cancelled, formatted as a datetime string."
            }
        }
    },
    {
        "id": "apibank_query_28",
        "query": "Can you play the music \"Shape of You\"?",
        "instruction": "Given a `music playback` task, retrieve tools that play specified music tracks by processing song names or playlist names along with the source location to initiate streaming and provide feedback on the playback status.",
        "labels": [
            {
                "id": "apibank_tool_71",
                "doc": {
                    "expressions": "PlayMusic(song_playlist_name: str, source: str)",
                    "category": "对外影响 - 实时通信",
                    "path": "apis/play_music.py",
                    "parameters": "(song_playlist_name: str, source: str)",
                    "name": "PlayMusic",
                    "description": "description = \"Play Music API that takes two parameters - 'song_playlist_name' and 'source'. The 'song_playlist_name' parameter refers to the name of the playlist which contains the songs to be played and the 'source' parameter specifies the location of the music files on the system.\"\ninput_parameters = {\n    'song_playlist_name': {'type': 'str', 'description': 'The name of the playlist to be played.'},\n    'source': {'type': 'str', 'description': 'The location of the music files on the system.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.",
            "Tool 3: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.",
            "Tool 4: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 5: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 7: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 9: This API retrieves the definition of a word based on a provided search query.",
            "Tool 10: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.\nTool 3: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.\nTool 4: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 5: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 7: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 9: This API retrieves the definition of a word based on a provided search query.\nTool 10: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you play the music \"Shape of You\"?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to play a specific music track from a given playlist.",
                    "tool_description": "Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.",
                    "expected_response": "Confirmation that the music track has started playing or an error message if the track is not available."
                }
            ],
            "extracted_arguments": {
                "playlist_name": "The name of the music track to be played.",
                "source": "The location of the music files, if necessary to identify."
            }
        }
    },
    {
        "id": "apibank_query_29",
        "query": "Can you help me change my password?",
        "instruction": "Given a `password modification` task, retrieve tools that handle user authentication and password updates by processing input parameters such as user credentials for authentication and new password details to perform the update and return the operation's status.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_3",
                "doc": {
                    "expressions": "ModifyPassword(token: str, old_password: str, new_password: str)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_password.py",
                    "parameters": "(token: str, old_password: str, new_password: str)",
                    "name": "ModifyPassword",
                    "description": "description = \"Modify password API that takes two parameters - 'old_password' and 'new_password'. The 'old_password' parameter refers to the existing password and the 'new_password' parameter specifies the new password to be set.\"\ninput_parameters = {\n    'old_password': {'type': 'str', 'description': 'The existing password of the user.'},\n    'new_password': {'type': 'str', 'description': 'The new password to be set.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.",
            "Tool 4: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 5: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 7: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 9: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 18: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 19: This API retrieves the definition of a word based on a provided search query."
        ],
        "tool_view": {
            "description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "parameters": {
                "old_password": {
                    "type": "string",
                    "description": "The user's current password that needs to be verified before changing to a new password.",
                    "required": true,
                    "example": "currentPass123"
                },
                "new_password": {
                    "type": "string",
                    "description": "The new password that will replace the existing password for the user account.",
                    "required": true,
                    "example": "newSecurePass456"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \"success\" to indicate the password was changed successfully, or \"failed\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \n\nThis response provides a concise confirmation of the result of the password update request.",
            "examples": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "Summer2025!",
                            "new_password": "Winter2025#Secure"
                        }
                    }
                },
                {
                    "user_intent": "Reset my password because I think my current one is compromised.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "MyOldPass123",
                            "new_password": "SafePass!789"
                        }
                    }
                },
                {
                    "user_intent": "Update my login credentials to a stronger password for better security.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "password2025",
                            "new_password": "StrongerPass#2025"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.\nTool 4: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 5: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 7: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 9: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 18: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 19: This API retrieves the definition of a word based on a provided search query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\", \"parameters\": {\"old_password\": {\"type\": \"string\", \"description\": \"The user's current password that needs to be verified before changing to a new password.\", \"required\": true, \"example\": \"currentPass123\"}, \"new_password\": {\"type\": \"string\", \"description\": \"The new password that will replace the existing password for the user account.\", \"required\": true, \"example\": \"newSecurePass456\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \\\"success\\\" to indicate the password was changed successfully, or \\\"failed\\\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \\n\\nThis response provides a concise confirmation of the result of the password update request.\", \"examples\": [{\"user_intent\": \"I want to change my account password from my old one to a new secure password.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"Summer2025!\", \"new_password\": \"Winter2025#Secure\"}}}, {\"user_intent\": \"Reset my password because I think my current one is compromised.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"MyOldPass123\", \"new_password\": \"SafePass!789\"}}}, {\"user_intent\": \"Update my login credentials to a stronger password for better security.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"password2025\", \"new_password\": \"StrongerPass#2025\"}}}]}\n\n# User Query\nCan you help me change my password?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_description": "Allows a user to change their account password by providing their current password and specifying a new one.",
                    "expected_response": "A status string indicating whether the password update was successful or failed."
                }
            ],
            "extracted_arguments": {
                "old_password": "The user's current password that needs to be verified before changing to a new password.",
                "new_password": "The new password that will replace the existing password for the user account."
            }
        }
    },
    {
        "id": "apibank_query_30",
        "query": "Can you tell me what happened on April 21st in history?",
        "instruction": "Given a `historical event retrieval` task, retrieve tools that can query and return a list of events that occurred on a specific date by processing the date input aligned with the query's requirements.",
        "labels": [
            {
                "id": "apibank_tool_33",
                "doc": {
                    "expressions": "QueryHistoryToday(date: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_history_today.py",
                    "parameters": "(date: datetime)",
                    "name": "QueryHistoryToday",
                    "description": "description = \"QueryHistoryToday API takes one parameter 'date'. The parameter 'date' refers to the date for which historical events are to be queried.\"\ninput_parameters = {\n    'date': {'type': 'str', 'description': 'The date for which historical events are to be queried. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'events': {'type': 'list', 'description': 'List of historical events that occurred on the given date.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_53",
                "doc": {
                    "expressions": "Calculator(infix_expression: str)",
                    "category": "获取信息 - 工具",
                    "path": "apis/calculator.py",
                    "parameters": "(infix_expression: str)",
                    "name": "Calculator",
                    "description": "description = \"An API to perform arithmetic calculations on an infix expression.\"\ninput_parameters = {\n    'infix_expression': {'type': 'str', 'description': \"A string representing an arithmetic expression in infix notation.\"}\n}\noutput_parameters = {\n    'result': {'type': 'float/int', 'description': 'Result of the arithmetic expression.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 4: This API retrieves the definition of a word based on a provided search query.",
            "Tool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 8: Generates a caption for a given image.",
            "Tool 9: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 10: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 11: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term."
        ],
        "tool_view": {
            "description": "Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "parameters": {
                "date": {
                    "type": "string",
                    "description": "The date for which historical events are to be queried. The expected format is YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                }
            },
            "response": "The tool response consists of a single field named `events`, which is a list. Each element in this list represents a historical event that occurred on the specified date. The elements typically contain information describing the event, such as its title, date, and possibly additional details or context about the event, though the exact structure of each event is not explicitly defined in the documentation. The `events` list may be empty if no historical events are found for the given date.",
            "examples": [
                {
                    "user_intent": "Tell me what happened on June 6, 1944.",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "1944-06-06"
                        }
                    }
                },
                {
                    "user_intent": "Give me a list of historical events for July 20, 1969.",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "1969-07-20"
                        }
                    }
                },
                {
                    "user_intent": "What significant events took place on September 11, 2001?",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "2001-09-11"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 4: This API retrieves the definition of a word based on a provided search query.\nTool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 8: Generates a caption for a given image.\nTool 9: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 10: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 11: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\", \"parameters\": {\"date\": {\"type\": \"string\", \"description\": \"The date for which historical events are to be queried. The expected format is YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}}, \"response\": \"The tool response consists of a single field named `events`, which is a list. Each element in this list represents a historical event that occurred on the specified date. The elements typically contain information describing the event, such as its title, date, and possibly additional details or context about the event, though the exact structure of each event is not explicitly defined in the documentation. The `events` list may be empty if no historical events are found for the given date.\", \"examples\": [{\"user_intent\": \"Tell me what happened on June 6, 1944.\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"1944-06-06\"}}}, {\"user_intent\": \"Give me a list of historical events for July 20, 1969.\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"1969-07-20\"}}}, {\"user_intent\": \"What significant events took place on September 11, 2001?\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"2001-09-11\"}}}]}\n\n# User Query\nCan you tell me what happened on April 21st in history?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Tell me what happened on April 21st in history.",
                    "tool_description": "Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
                    "expected_response": "A collection of historical events, each containing information such as title, date, and details about the event."
                }
            ],
            "extracted_arguments": {
                "date": "The specific calendar date for which historical events are to be retrieved, formatted as YYYY-MM-DD."
            }
        }
    },
    {
        "id": "apibank_query_31",
        "query": "Can you help me open a new bank account?",
        "instruction": "Given a `bank account setup` task, retrieve tools that facilitate creating a new bank account by processing personal information inputs such as account number, password, name, and email to complete the setup process and provide the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_25",
                "doc": {
                    "expressions": "OpenBankAccount(account: str, password: str, name: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/open_bank_account.py",
                    "parameters": "(account: str, password: str, name: str, email: str)",
                    "name": "OpenBankAccount",
                    "description": "description = \"Open bank account API that takes four parameters: 'account', 'password', 'name' and 'email'. The 'account' parameter refers to the user's bank account number, the 'password' parameter refers to the user's password for the account, the 'name' parameter refers to the user's name and 'email' parameter refers to the user's email address.\"\ninput_parameters = {\n    'account': {'type': 'str', 'description': 'The user’s bank account number.'},\n    'password': {'type': 'str', 'description': 'The password for the bank account.'},\n    'name': {'type': 'str', 'description': 'The name of the user.'},\n    'email': {'type': 'str', 'description': 'The email address of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Whether the bank account opening was successful or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 4: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 5: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 7: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 10: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 11: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 12: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.",
            "Tool 13: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 14: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 15: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 16: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 17: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 18: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 19: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful."
        ],
        "tool_view": {
            "description": "Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "parameters": {
                "account": {
                    "type": "string",
                    "description": "The user's bank account number used to open the account.",
                    "required": true,
                    "example": "1234567890"
                },
                "password": {
                    "type": "string",
                    "description": "The password associated with the user's bank account for authentication.",
                    "required": true,
                    "example": "P@ssw0rd123"
                },
                "name": {
                    "type": "string",
                    "description": "The full name of the user opening the bank account.",
                    "required": true,
                    "example": "John Doe"
                },
                "email": {
                    "type": "string",
                    "description": "The email address of the user, used for account communication and verification.",
                    "required": true,
                    "example": "john.doe@example.com"
                }
            },
            "response": "The tool’s response consists of a single component named `status`. This field is a string that indicates the outcome of the bank account opening request. Semantically, it conveys whether the operation was successful or failed. There are no additional fields defined, so the response is expected to be a simple status message summarizing the result of the API call.",
            "examples": [
                {
                    "user_intent": "I want to open a new bank account with my details.",
                    "tool_call": {
                        "name": "OpenBankAccount",
                        "arguments": {
                            "account": "6222021234567890",
                            "password": "SecurePass!2025",
                            "name": "Li Wei",
                            "email": "li.wei@example.com"
                        }
                    }
                },
                {
                    "user_intent": "Register a new account for my friend Zhang Hua using his email.",
                    "tool_call": {
                        "name": "OpenBankAccount",
                        "arguments": {
                            "account": "6222029876543210",
                            "password": "ZhangH2025#",
                            "name": "Zhang Hua",
                            "email": "zhang.hua@example.com"
                        }
                    }
                },
                {
                    "user_intent": "Set up a bank account for my business partner, Wang Mei.",
                    "tool_call": {
                        "name": "OpenBankAccount",
                        "arguments": {
                            "account": "6222025556667777",
                            "password": "WangMei$123",
                            "name": "Wang Mei",
                            "email": "wang.mei@businessmail.com"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 4: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 5: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 7: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 10: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 11: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 12: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.\nTool 13: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 14: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 15: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 16: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 17: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 18: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 19: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\", \"parameters\": {\"account\": {\"type\": \"string\", \"description\": \"The user's bank account number used to open the account.\", \"required\": true, \"example\": \"1234567890\"}, \"password\": {\"type\": \"string\", \"description\": \"The password associated with the user's bank account for authentication.\", \"required\": true, \"example\": \"P@ssw0rd123\"}, \"name\": {\"type\": \"string\", \"description\": \"The full name of the user opening the bank account.\", \"required\": true, \"example\": \"John Doe\"}, \"email\": {\"type\": \"string\", \"description\": \"The email address of the user, used for account communication and verification.\", \"required\": true, \"example\": \"john.doe@example.com\"}}, \"response\": \"The tool\\u2019s response consists of a single component named `status`. This field is a string that indicates the outcome of the bank account opening request. Semantically, it conveys whether the operation was successful or failed. There are no additional fields defined, so the response is expected to be a simple status message summarizing the result of the API call.\", \"examples\": [{\"user_intent\": \"I want to open a new bank account with my details.\", \"tool_call\": {\"name\": \"OpenBankAccount\", \"arguments\": {\"account\": \"6222021234567890\", \"password\": \"SecurePass!2025\", \"name\": \"Li Wei\", \"email\": \"li.wei@example.com\"}}}, {\"user_intent\": \"Register a new account for my friend Zhang Hua using his email.\", \"tool_call\": {\"name\": \"OpenBankAccount\", \"arguments\": {\"account\": \"6222029876543210\", \"password\": \"ZhangH2025#\", \"name\": \"Zhang Hua\", \"email\": \"zhang.hua@example.com\"}}}, {\"user_intent\": \"Set up a bank account for my business partner, Wang Mei.\", \"tool_call\": {\"name\": \"OpenBankAccount\", \"arguments\": {\"account\": \"6222025556667777\", \"password\": \"WangMei$123\", \"name\": \"Wang Mei\", \"email\": \"wang.mei@businessmail.com\"}}}]}\n\n# User Query\nCan you help me open a new bank account?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to open a new bank account with my details.",
                    "tool_description": "Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
                    "expected_response": "A status message indicating whether the bank account was successfully created or not."
                }
            ],
            "extracted_arguments": {
                "account": "The user's bank account number used to open the account.",
                "password": "The password associated with the user's bank account for authentication.",
                "name": "The full name of the user opening the bank account.",
                "email": "The email address of the user, used for account communication and verification."
            }
        }
    },
    {
        "id": "apibank_query_32",
        "query": "Can you help me delete a scene named \"Relaxing Time\"?",
        "instruction": "Given a `scene deletion` task, retrieve tools that facilitate the removal of specified items by accepting inputs like scene names and returning the success or failure status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_65",
                "doc": {
                    "expressions": "DeleteScene(scene_name: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_scene.py",
                    "parameters": "(scene_name: str)",
                    "name": "DeleteScene",
                    "description": "description = \"Delete a scene API that takes one parameter - 'scene_name'. The 'scene_name' parameter refers to the name of the scene that needs to be deleted.\"\ninput_parameters = {\n    'scene_name': {'type': 'str', 'description': 'The name of the scene to be deleted.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 1: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 2: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 7: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 9: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 10: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 11: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 12: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 13: Receive notifications of incoming emails in real time, returning the email details and the status of the request.",
            "Tool 14: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 15: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 16: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 17: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 18: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 19: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments."
        ],
        "tool_view": {
            "description": "Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "parameters": {
                "scene_name": {
                    "type": "string",
                    "description": "The name of the scene that needs to be modified.",
                    "required": true,
                    "example": "Living Room"
                },
                "new_device_list": {
                    "type": "array",
                    "description": "A list of strings containing the new device names to be added to the scene.",
                    "required": true,
                    "example": [
                        "Smart Light",
                        "Smart Thermostat"
                    ]
                }
            },
            "response": "The tool returns a response object that indicates the outcome of the scene modification operation. The response contains the following component:  \n\n- **status** (string): This field conveys whether the request to modify the scene was successful or not. Its value is expected to indicate either success or failure of the operation.  \n\nNo other fields are defined in the response; the focus is solely on reporting the result of the modification attempt.",
            "examples": [
                {
                    "user_intent": "I want to add new devices to the 'Living Room' scene.",
                    "tool_call": {
                        "name": "ModifyScene",
                        "arguments": {
                            "scene_name": "Living Room",
                            "new_device_list": [
                                "Smart TV",
                                "Smart Speaker",
                                "Air Conditioner"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Update the 'Bedroom' scene by adding a few more devices like a smart lamp and thermostat.",
                    "tool_call": {
                        "name": "ModifyScene",
                        "arguments": {
                            "scene_name": "Bedroom",
                            "new_device_list": [
                                "Smart Lamp",
                                "Smart Thermostat"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Change the devices in the 'Office' scene by replacing the old ones with new ones.",
                    "tool_call": {
                        "name": "ModifyScene",
                        "arguments": {
                            "scene_name": "Office",
                            "new_device_list": [
                                "Laptop",
                                "Smart Desk",
                                "Voice Assistant"
                            ]
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 1: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 2: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 7: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 9: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 10: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 11: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 12: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 13: Receive notifications of incoming emails in real time, returning the email details and the status of the request.\nTool 14: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 15: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 16: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 17: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 18: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 19: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\", \"parameters\": {\"scene_name\": {\"type\": \"string\", \"description\": \"The name of the scene that needs to be modified.\", \"required\": true, \"example\": \"Living Room\"}, \"new_device_list\": {\"type\": \"array\", \"description\": \"A list of strings containing the new device names to be added to the scene.\", \"required\": true, \"example\": [\"Smart Light\", \"Smart Thermostat\"]}}, \"response\": \"The tool returns a response object that indicates the outcome of the scene modification operation. The response contains the following component:  \\n\\n- **status** (string): This field conveys whether the request to modify the scene was successful or not. Its value is expected to indicate either success or failure of the operation.  \\n\\nNo other fields are defined in the response; the focus is solely on reporting the result of the modification attempt.\", \"examples\": [{\"user_intent\": \"I want to add new devices to the 'Living Room' scene.\", \"tool_call\": {\"name\": \"ModifyScene\", \"arguments\": {\"scene_name\": \"Living Room\", \"new_device_list\": [\"Smart TV\", \"Smart Speaker\", \"Air Conditioner\"]}}}, {\"user_intent\": \"Update the 'Bedroom' scene by adding a few more devices like a smart lamp and thermostat.\", \"tool_call\": {\"name\": \"ModifyScene\", \"arguments\": {\"scene_name\": \"Bedroom\", \"new_device_list\": [\"Smart Lamp\", \"Smart Thermostat\"]}}}, {\"user_intent\": \"Change the devices in the 'Office' scene by replacing the old ones with new ones.\", \"tool_call\": {\"name\": \"ModifyScene\", \"arguments\": {\"scene_name\": \"Office\", \"new_device_list\": [\"Laptop\", \"Smart Desk\", \"Voice Assistant\"]}}}]}\n\n# User Query\nCan you help me delete a scene named \"Relaxing Time\"?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to delete a scene by specifying its name.",
                    "tool_description": "Delete a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
                    "expected_response": "A status indicating whether the deletion of the scene was successful or not."
                }
            ],
            "extracted_arguments": {
                "scene_name": "The name of the scene to be deleted."
            }
        }
    },
    {
        "id": "apibank_query_33",
        "query": "Can you modify my appointment with doctor Smith on October 10th, 2023 to doctor Johnson on October 15th, 2023?",
        "instruction": "Given an `appointment modification` task, retrieve tools that handle scheduling operations by processing registration numbers and new appointment times to update existing appointments and return the status of the modification.",
        "labels": [
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 5: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 6: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 7: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 8: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 9: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 10: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 11: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 12: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 13: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 14: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 15: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 19: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping."
        ],
        "tool_view": {
            "description": "Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "parameters": {
                "patient_name": {
                    "type": "string",
                    "description": "The full name of the patient who wants to register an appointment.",
                    "required": true,
                    "default": null,
                    "example": "John Doe"
                },
                "doctor_name": {
                    "type": "string",
                    "description": "The full name of the doctor who will handle the appointment.",
                    "required": true,
                    "default": null,
                    "example": "Dr. Smith"
                },
                "appointment_time": {
                    "type": "string",
                    "description": "The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "default": null,
                    "example": "2025-12-20 14:30:00"
                }
            },
            "response": "The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \n\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\"success\"` if the appointment was successfully registered, or `\"failed\"` if the registration did not go through.  \n\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.",
            "examples": [
                {
                    "user_intent": "I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "John Doe",
                            "doctor_name": "Dr. Smith",
                            "appointment_time": "2026-01-05 10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Emily Clark",
                            "doctor_name": "Dr. Patel",
                            "appointment_time": "2026-02-15 14:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Michael Johnson",
                            "doctor_name": "Dr. Lee",
                            "appointment_time": "2026-01-31 09:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 5: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 6: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 7: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 8: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 9: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 10: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 11: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 12: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 13: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 14: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 15: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 19: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\", \"parameters\": {\"patient_name\": {\"type\": \"string\", \"description\": \"The full name of the patient who wants to register an appointment.\", \"required\": true, \"default\": null, \"example\": \"John Doe\"}, \"doctor_name\": {\"type\": \"string\", \"description\": \"The full name of the doctor who will handle the appointment.\", \"required\": true, \"default\": null, \"example\": \"Dr. Smith\"}, \"appointment_time\": {\"type\": \"string\", \"description\": \"The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"default\": null, \"example\": \"2025-12-20 14:30:00\"}}, \"response\": \"The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \\n\\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\\\"success\\\"` if the appointment was successfully registered, or `\\\"failed\\\"` if the registration did not go through.  \\n\\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.\", \"examples\": [{\"user_intent\": \"I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"John Doe\", \"doctor_name\": \"Dr. Smith\", \"appointment_time\": \"2026-01-05 10:00:00\"}}}, {\"user_intent\": \"Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Emily Clark\", \"doctor_name\": \"Dr. Patel\", \"appointment_time\": \"2026-02-15 14:30:00\"}}}, {\"user_intent\": \"Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Michael Johnson\", \"doctor_name\": \"Dr. Lee\", \"appointment_time\": \"2026-01-31 09:00:00\"}}}]}\n\n# User Query\nCan you modify my appointment with doctor Smith on October 10th, 2023 to doctor Johnson on October 15th, 2023?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Change an existing medical appointment from one doctor and date to another doctor and date.",
                    "tool_description": "Update the details of an existing medical appointment by specifying the current appointment information and providing the new doctor's name and new appointment time.",
                    "expected_response": "A confirmation object indicating whether the appointment update was successful."
                }
            ],
            "extracted_arguments": {
                "current_doctor_name": "The full name of the doctor currently assigned to the appointment.",
                "current_appointment_time": "The date and time of the current appointment, formatted as '%Y-%m-%d'.",
                "new_doctor_name": "The full name of the doctor for the updated appointment.",
                "new_appointment_time": "The new date and time for the appointment, formatted as '%Y-%m-%d'."
            }
        }
    },
    {
        "id": "apibank_query_34",
        "query": "Can you help me schedule a meeting?",
        "instruction": "Given a `meeting scheduling` task, retrieve tools that facilitate booking a meeting by processing input parameters such as content, time, and recipient information to successfully schedule and confirm the meeting with the desired participants.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_9",
                "doc": {
                    "expressions": "AddMeeting(token: str, content: str, time: datetime, recipients: List[str])",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/add_meeting.py",
                    "parameters": "(token: str, content: str, time: datetime, recipients: List[str])",
                    "name": "AddMeeting",
                    "description": "description = \"Book a meeting API that takes three parameters - 'content', 'time' and 'recipients'. The 'content' parameter refers to the description of the meeting and the 'time' parameter specifies the time at which the meeting is scheduled. The 'recipients' parameter is a list of strings that contains the email addresses of the individuals that are invited to attend the meeting.\"\ninput_parameters = {\n    'content': {'type': 'str', 'description': 'The content of the meeting.'},\n    'time': {'type': 'datetime', 'description': 'The time of the meeting in the format YYYY-MM-DD HH:MM:SS.'},\n    'recipients': {'type': 'List[str]', 'description': 'A list of email addresses of the individuals that are invited to attend the meeting.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 1: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 2: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 7: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 8: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.",
            "Tool 9: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.",
            "Tool 10: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 14: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 16: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 17: This API retrieves the definition of a word based on a provided search query.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Generates a caption for a given image."
        ],
        "tool_view": {
            "description": "Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "parameters": {
                "content": {
                    "type": "string",
                    "description": "The content or description of the meeting, providing details about the purpose or topic of the meeting.",
                    "required": true,
                    "example": "Project kick-off meeting"
                },
                "time": {
                    "type": "datetime",
                    "description": "The scheduled time for the meeting, provided in the format 'YYYY-MM-DD HH:MM:SS'.",
                    "required": true,
                    "example": "2025-12-15 14:00:00"
                },
                "recipients": {
                    "type": "List[string]",
                    "description": "A list of email addresses of individuals invited to attend the meeting.",
                    "required": true,
                    "example": [
                        "john.doe@example.com",
                        "jane.smith@example.com"
                    ]
                }
            },
            "response": "The tool returns a response object containing a single field:  \n\n- **status** (string): Indicates the outcome of the meeting booking operation. It conveys whether the request to add the meeting was successful or not. The expected values are typically `\"success\"` if the meeting was booked successfully, or `\"failed\"` if the booking could not be completed.  \n\nThis is the only component of the response, and it serves as a high-level indicator of the operation’s result.",
            "examples": [
                {
                    "user_intent": "Schedule a project kickoff meeting for next Monday at 10 AM with the design and development teams.",
                    "tool_call": {
                        "name": "AddMeeting",
                        "arguments": {
                            "content": "Project kickoff meeting with design and development teams",
                            "time": "2026-01-05 10:00:00",
                            "recipients": [
                                "alice@example.com",
                                "bob@example.com",
                                "carol@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Set up a one-on-one performance review with my manager tomorrow afternoon.",
                    "tool_call": {
                        "name": "AddMeeting",
                        "arguments": {
                            "content": "One-on-one performance review",
                            "time": "2026-01-01 15:30:00",
                            "recipients": [
                                "manager@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Organize a weekly team sync every Friday at 9 AM and invite the whole marketing team.",
                    "tool_call": {
                        "name": "AddMeeting",
                        "arguments": {
                            "content": "Weekly marketing team sync",
                            "time": "2026-01-02 09:00:00",
                            "recipients": [
                                "mark@example.com",
                                "lisa@example.com",
                                "tom@example.com",
                                "emma@example.com"
                            ]
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 1: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 2: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 7: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 8: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\nTool 9: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.\nTool 10: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 14: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 16: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 17: This API retrieves the definition of a word based on a provided search query.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Generates a caption for a given image.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\", \"parameters\": {\"content\": {\"type\": \"string\", \"description\": \"The content or description of the meeting, providing details about the purpose or topic of the meeting.\", \"required\": true, \"example\": \"Project kick-off meeting\"}, \"time\": {\"type\": \"datetime\", \"description\": \"The scheduled time for the meeting, provided in the format 'YYYY-MM-DD HH:MM:SS'.\", \"required\": true, \"example\": \"2025-12-15 14:00:00\"}, \"recipients\": {\"type\": \"List[string]\", \"description\": \"A list of email addresses of individuals invited to attend the meeting.\", \"required\": true, \"example\": [\"john.doe@example.com\", \"jane.smith@example.com\"]}}, \"response\": \"The tool returns a response object containing a single field:  \\n\\n- **status** (string): Indicates the outcome of the meeting booking operation. It conveys whether the request to add the meeting was successful or not. The expected values are typically `\\\"success\\\"` if the meeting was booked successfully, or `\\\"failed\\\"` if the booking could not be completed.  \\n\\nThis is the only component of the response, and it serves as a high-level indicator of the operation\\u2019s result.\", \"examples\": [{\"user_intent\": \"Schedule a project kickoff meeting for next Monday at 10 AM with the design and development teams.\", \"tool_call\": {\"name\": \"AddMeeting\", \"arguments\": {\"content\": \"Project kickoff meeting with design and development teams\", \"time\": \"2026-01-05 10:00:00\", \"recipients\": [\"alice@example.com\", \"bob@example.com\", \"carol@example.com\"]}}}, {\"user_intent\": \"Set up a one-on-one performance review with my manager tomorrow afternoon.\", \"tool_call\": {\"name\": \"AddMeeting\", \"arguments\": {\"content\": \"One-on-one performance review\", \"time\": \"2026-01-01 15:30:00\", \"recipients\": [\"manager@example.com\"]}}}, {\"user_intent\": \"Organize a weekly team sync every Friday at 9 AM and invite the whole marketing team.\", \"tool_call\": {\"name\": \"AddMeeting\", \"arguments\": {\"content\": \"Weekly marketing team sync\", \"time\": \"2026-01-02 09:00:00\", \"recipients\": [\"mark@example.com\", \"lisa@example.com\", \"tom@example.com\", \"emma@example.com\"]}}}]}\n\n# User Query\nCan you help me schedule a meeting?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to schedule a new meeting with specified details and attendees.",
                    "tool_description": "Schedule a meeting by providing its content, the scheduled date and time, and a list of attendee email addresses, and receive confirmation of whether the booking was successful.",
                    "expected_response": "A status indicating if the meeting was successfully booked or failed."
                }
            ],
            "extracted_arguments": {
                "content": "A string describing the purpose or topic of the meeting.",
                "time": "The scheduled date and time of the meeting in 'YYYY-MM-DD HH:MM:SS' format.",
                "recipients": "A list of email addresses representing the attendees of the meeting."
            }
        }
    },
    {
        "id": "apibank_query_35",
        "query": "Can you help me with a health issue?",
        "instruction": "Given a `health query` task, retrieve tools that can provide assistance or information related to health issues by processing criteria such as symptoms, conditions, or appointments to deliver relevant advice or administrative solutions.",
        "labels": [
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 5: This API retrieves the definition of a word based on a provided search query.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a caption for a given image.",
            "Tool 8: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 9: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user whose health history is being recorded.",
                    "required": true,
                    "example": "12345"
                },
                "date": {
                    "type": "string",
                    "description": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                },
                "health_data": {
                    "type": "object",
                    "description": "An object containing the health data that is being recorded for the user.",
                    "required": true,
                    "example": {
                        "weight": 70,
                        "blood_pressure": "120/80",
                        "heart_rate": 72
                    }
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\n\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\"success\"` if the health data was recorded correctly, or `\"failed\"` if there was an error or the operation did not complete as intended.  \n\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action’s result.",
            "examples": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for user 1001.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "1001",
                            "date": "2025-12-30",
                            "health_data": {
                                "blood_pressure": "120/80",
                                "heart_rate": 72
                            }
                        }
                    }
                },
                {
                    "user_intent": "Add yesterday's step count and sleep hours for user A42.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "A42",
                            "date": "2025-12-29",
                            "health_data": {
                                "steps": 8500,
                                "sleep_hours": 7.5
                            }
                        }
                    }
                },
                {
                    "user_intent": "Log user 78's weight and body temperature for today.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "78",
                            "date": "2025-12-30",
                            "health_data": {
                                "weight_kg": 68.2,
                                "body_temperature_c": 36.6
                            }
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 5: This API retrieves the definition of a word based on a provided search query.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a caption for a given image.\nTool 8: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 9: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Record and store a user\\u2019s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user whose health history is being recorded.\", \"required\": true, \"example\": \"12345\"}, \"date\": {\"type\": \"string\", \"description\": \"The date when the health data was recorded, in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}, \"health_data\": {\"type\": \"object\", \"description\": \"An object containing the health data that is being recorded for the user.\", \"required\": true, \"example\": {\"weight\": 70, \"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\\n\\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\\\"success\\\"` if the health data was recorded correctly, or `\\\"failed\\\"` if there was an error or the operation did not complete as intended.  \\n\\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action\\u2019s result.\", \"examples\": [{\"user_intent\": \"Record today's blood pressure and heart rate for user 1001.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"1001\", \"date\": \"2025-12-30\", \"health_data\": {\"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}}, {\"user_intent\": \"Add yesterday's step count and sleep hours for user A42.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"A42\", \"date\": \"2025-12-29\", \"health_data\": {\"steps\": 8500, \"sleep_hours\": 7.5}}}}, {\"user_intent\": \"Log user 78's weight and body temperature for today.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"78\", \"date\": \"2025-12-30\", \"health_data\": {\"weight_kg\": 68.2, \"body_temperature_c\": 36.6}}}}]}\n\n# User Query\nCan you help me with a health issue?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to record and track my health information.",
                    "tool_description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
                    "expected_response": "A structured object indicating whether the health data recording was successful or failed."
                }
            ],
            "extracted_arguments": {
                "user_id": "The unique identifier of the user whose health information is being recorded.",
                "date": "The date when the health data is recorded, formatted as YYYY-MM-DD.",
                "health_data": "An object containing the specific health metrics or observations to be recorded for the user."
            }
        }
    },
    {
        "id": "apibank_query_36",
        "query": "Can you give me the definition of the word \"resilience\"?",
        "instruction": "Given a `word definition retrieval` task, retrieve tools that provide definitions by processing a word query input and returning the corresponding meaning or explanation.",
        "labels": [
            {
                "id": "apibank_tool_37",
                "doc": {
                    "expressions": "Dictionary(query: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/dictionary.py",
                    "parameters": "(query: str)",
                    "name": "Dictionary",
                    "description": "description = \"API that takes a 'query' parameter as input and retrieves the definition of that word.\"\ninput_parameters = {\n    'query': {'type': 'str', 'description': 'The word to search the definition for.'},\n}\noutput_parameters = {\n    'definition': {'type': 'str', 'description': 'The definition of the requested word.'},\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This API retrieves the definition of a word based on a provided search query.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 8: Generates a caption for a given image.",
            "Tool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term."
        ],
        "tool_view": {
            "description": "This API retrieves the definition of a word based on a provided search query.",
            "parameters": {
                "query": {
                    "type": "string",
                    "description": "The word for which the API will retrieve the definition.",
                    "required": true,
                    "default": null,
                    "example": "apple"
                }
            },
            "response": "The tool returns a response object containing a single field named `definition`. This field holds the meaning or explanation of the word provided in the `query` parameter. Specifically:  \n\n- **definition** (`string`): Contains the textual definition of the requested word. It represents the primary content of the response, providing the user with the explanation, meaning, or description associated with the input word.  \n\nThe response is therefore a simple object with one key-value pair, where the key identifies the type of information returned (the word’s definition) and the value is the actual definition text.",
            "examples": [
                {
                    "user_intent": "I want to know the meaning of the word 'serendipity'.",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "serendipity"
                        }
                    }
                },
                {
                    "user_intent": "Look up the definition of 'quantum mechanics' for me.",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "quantum mechanics"
                        }
                    }
                },
                {
                    "user_intent": "Can you tell me what 'ephemeral' means?",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "ephemeral"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This API retrieves the definition of a word based on a provided search query.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 8: Generates a caption for a given image.\nTool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This API retrieves the definition of a word based on a provided search query.\", \"parameters\": {\"query\": {\"type\": \"string\", \"description\": \"The word for which the API will retrieve the definition.\", \"required\": true, \"default\": null, \"example\": \"apple\"}}, \"response\": \"The tool returns a response object containing a single field named `definition`. This field holds the meaning or explanation of the word provided in the `query` parameter. Specifically:  \\n\\n- **definition** (`string`): Contains the textual definition of the requested word. It represents the primary content of the response, providing the user with the explanation, meaning, or description associated with the input word.  \\n\\nThe response is therefore a simple object with one key-value pair, where the key identifies the type of information returned (the word\\u2019s definition) and the value is the actual definition text.\", \"examples\": [{\"user_intent\": \"I want to know the meaning of the word 'serendipity'.\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"serendipity\"}}}, {\"user_intent\": \"Look up the definition of 'quantum mechanics' for me.\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"quantum mechanics\"}}}, {\"user_intent\": \"Can you tell me what 'ephemeral' means?\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"ephemeral\"}}}]}\n\n# User Query\nCan you give me the definition of the word \"resilience\"?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know the meaning of the word 'resilience'.",
                    "tool_description": "Retrieve the definition of a word based on a provided search query.",
                    "expected_response": "An object containing the textual definition of the requested word."
                }
            ],
            "extracted_arguments": {
                "query": "The word for which the API will retrieve the definition."
            }
        }
    },
    {
        "id": "apibank_query_37",
        "query": "Can you help me check if I have a reminder for attending a meeting on March 18th at 10:30 am?",
        "instruction": "Given a `reminder verification` task, retrieve tools that check for scheduled reminders by processing user authentication tokens and querying reminder details to confirm the existence of an event.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_8",
                "doc": {
                    "expressions": "QueryReminder(token: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_reminder.py",
                    "parameters": "(token: str)",
                    "name": "QueryReminder",
                    "description": "description = \"Get a list of all reminders API. This API takes a single parameter 'token' which is used for user authentication.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'User authentication token.'}\n}\noutput_parameters = {\n    'reminders': {'type': 'list', 'description': 'List of all the user reminders.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 2: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 3: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 4: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 5: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 6: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 7: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 8: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 9: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 10: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 11: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 12: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 13: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 19: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 2: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 3: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 4: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 5: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 6: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 7: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 8: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 9: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 10: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 11: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 12: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 13: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 19: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you help me check if I have a reminder for attending a meeting on March 18th at 10:30 am?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to see all my reminders to check if I have one for a specific date and time.",
                    "tool_description": "Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
                    "expected_response": "A collection of reminder objects including content, scheduled time, and unique identifiers."
                }
            ],
            "extracted_arguments": {
                "auth_token": "A user authentication token required to access their reminder data.",
                "target_datetime": "The specific date and time for which the user wants to check if a reminder exists."
            }
        }
    },
    {
        "id": "apibank_query_38",
        "query": "Can you turn on my smart light at 7 PM tonight? Today is 2021-12-05.",
        "instruction": "Given a `smart device operation` task, retrieve tools that schedule actions for smart devices by processing device ID, switch time, and on/off commands to configure and execute operations at a specified time, returning the status of execution.",
        "labels": [
            {
                "id": "apibank_tool_68",
                "doc": {
                    "expressions": "TimedSwitch(device_id: str, switch_time: datetime, on_off_command: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/timed_switch.py",
                    "parameters": "(device_id: str, switch_time: datetime, on_off_command: str)",
                    "name": "TimedSwitch",
                    "description": "description = \"API for scheduling a timed switch. Sets a switch-time for the specified device-id and executes an on/off command at the specified time.\"\ninput_parameters = {\n    'device_id': {'type': 'str', 'description': 'ID of the device on which to schedule a timed switch'},\n    'switch_time': {'type': 'datetime', 'description': 'Time at which to execute the on/off command. Format: %Y-%m-%d %H:%M:%S'},\n    'on_off_command': {'type': 'str', 'description': 'The command to execute when the switch time is reached. Should be \"on\" or \"off\".'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 1: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 5: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 8: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 9: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 10: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "parameters": {},
            "response": "The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\n\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system’s task model. The list may be empty if there are no incomplete tasks for the day.",
            "examples": [
                {
                    "user_intent": "Show me all the tasks I still need to complete today.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "I want to check my pending tasks for today before my meeting.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "List all unfinished tasks scheduled for today so I can prioritize them.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 1: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 5: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 8: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 9: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 10: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\", \"parameters\": {}, \"response\": \"The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\\n\\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system\\u2019s task model. The list may be empty if there are no incomplete tasks for the day.\", \"examples\": [{\"user_intent\": \"Show me all the tasks I still need to complete today.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"I want to check my pending tasks for today before my meeting.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"List all unfinished tasks scheduled for today so I can prioritize them.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}]}\n\n# User Query\nCan you turn on my smart light at 7 PM tonight? Today is 2021-12-05.\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Turn on my smart light at a specified time.",
                    "tool_description": "Send a command to a smart home device to change its state (e.g., turn on) at a scheduled time.",
                    "expected_response": "A confirmation indicating that the device has been scheduled to turn on at the specified time."
                }
            ],
            "extracted_arguments": {
                "device_type": "The category of the smart device to control (e.g., light, thermostat).",
                "room": "The location or room where the device is installed.",
                "action": "The operation to perform on the device (e.g., turn on, turn off).",
                "schedule_time": "The specific date and time when the action should be executed."
            }
        }
    },
    {
        "id": "apibank_query_39",
        "query": "Can you tell me the stock price of SQ on March 14, 2022?",
        "instruction": "Given a `stock price retrieval` task, retrieve tools that can query and provide stock prices by processing parameters such as the stock code and the specified date to return accurate historical stock data.",
        "labels": [
            {
                "id": "apibank_tool_31",
                "doc": {
                    "expressions": "QueryStock(stock_code: str, time: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_stock.py",
                    "parameters": "(stock_code: str, time: datetime)",
                    "name": "QueryStock",
                    "description": "description = \"Query stock API that takes two parameters - 'stock_code' and 'time'. The 'stock_code' parameter refers to the code of the stock and the 'time' parameter specifies the time for fetching the stock data.\"\ninput_parameters = {\n    'stock_code': {'type': 'str', 'description': 'The code of the stock.'},\n    'time': {'type': 'str', 'description': 'The time for fetching the stock data. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'stock_data': {'type': 'json', 'description': 'JSON object containing the stock data.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: This API retrieves the definition of a word based on a provided search query."
        ],
        "tool_view": {
            "description": "Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "parameters": {
                "stock_code": {
                    "type": "string",
                    "description": "The unique code representing the stock to query.",
                    "required": true,
                    "example": "AAPL"
                },
                "time": {
                    "type": "string",
                    "description": "The date for which to fetch the stock data, formatted as YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                }
            },
            "response": "The tool returns a JSON object under the key `stock_data`, which contains detailed information about the requested stock for the specified date. The `stock_data` object typically includes multiple fields describing the stock's attributes at that time, such as price, volume, opening and closing values, and potentially other financial metrics. Each field within `stock_data` represents a specific aspect of the stock's performance or market data. The response is structured to provide a complete snapshot of the stock's state at the requested time, allowing clients to retrieve historical or current stock information in a standardized format.",
            "examples": [
                {
                    "user_intent": "Get the stock data for Apple Inc. (AAPL) for December 15, 2025.",
                    "tool_call": {
                        "name": "QueryStock",
                        "arguments": {
                            "stock_code": "AAPL",
                            "time": "2025-12-15"
                        }
                    }
                },
                {
                    "user_intent": "Fetch the stock information for Tesla (TSLA) today.",
                    "tool_call": {
                        "name": "QueryStock",
                        "arguments": {
                            "stock_code": "TSLA",
                            "time": "2025-12-30"
                        }
                    }
                },
                {
                    "user_intent": "I want historical stock data for Microsoft (MSFT) on January 1, 2024.",
                    "tool_call": {
                        "name": "QueryStock",
                        "arguments": {
                            "stock_code": "MSFT",
                            "time": "2024-01-01"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: This API retrieves the definition of a word based on a provided search query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\", \"parameters\": {\"stock_code\": {\"type\": \"string\", \"description\": \"The unique code representing the stock to query.\", \"required\": true, \"example\": \"AAPL\"}, \"time\": {\"type\": \"string\", \"description\": \"The date for which to fetch the stock data, formatted as YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}}, \"response\": \"The tool returns a JSON object under the key `stock_data`, which contains detailed information about the requested stock for the specified date. The `stock_data` object typically includes multiple fields describing the stock's attributes at that time, such as price, volume, opening and closing values, and potentially other financial metrics. Each field within `stock_data` represents a specific aspect of the stock's performance or market data. The response is structured to provide a complete snapshot of the stock's state at the requested time, allowing clients to retrieve historical or current stock information in a standardized format.\", \"examples\": [{\"user_intent\": \"Get the stock data for Apple Inc. (AAPL) for December 15, 2025.\", \"tool_call\": {\"name\": \"QueryStock\", \"arguments\": {\"stock_code\": \"AAPL\", \"time\": \"2025-12-15\"}}}, {\"user_intent\": \"Fetch the stock information for Tesla (TSLA) today.\", \"tool_call\": {\"name\": \"QueryStock\", \"arguments\": {\"stock_code\": \"TSLA\", \"time\": \"2025-12-30\"}}}, {\"user_intent\": \"I want historical stock data for Microsoft (MSFT) on January 1, 2024.\", \"tool_call\": {\"name\": \"QueryStock\", \"arguments\": {\"stock_code\": \"MSFT\", \"time\": \"2024-01-01\"}}}]}\n\n# User Query\nCan you tell me the stock price of SQ on March 14, 2022?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Get the stock data for Square Inc. (SQ) for March 14, 2022.",
                    "tool_description": "Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
                    "expected_response": "A JSON object containing detailed stock information for the specified date, including price, volume, opening and closing values, and other financial metrics."
                }
            ],
            "extracted_arguments": {
                "stock_code": "The unique code representing the stock to query, as a string.",
                "time": "The specific date for which to fetch the stock data, formatted as YYYY-MM-DD."
            }
        }
    },
    {
        "id": "apibank_query_40",
        "query": "Can you please check my account balance?",
        "instruction": "Given an `account balance inquiry` task, retrieve tools that can access account information by utilizing authentication and account identifiers to provide the current balance status.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_32",
                "doc": {
                    "expressions": "QueryBalance(token: str, account: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_balance.py",
                    "parameters": "(token: str, account: str)",
                    "name": "QueryBalance",
                    "description": "description = \"API to query account balance. The 'account' parameter refers to the identifier of the account to be queried.\"\ninput_parameters = {\n    'account': {'type': 'str', 'description': 'The identifier of the account.'}\n}\noutput_parameters = {\n    'balance': {'type': 'float', 'description': 'The account balance.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_31",
                "doc": {
                    "expressions": "QueryStock(stock_code: str, time: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_stock.py",
                    "parameters": "(stock_code: str, time: datetime)",
                    "name": "QueryStock",
                    "description": "description = \"Query stock API that takes two parameters - 'stock_code' and 'time'. The 'stock_code' parameter refers to the code of the stock and the 'time' parameter specifies the time for fetching the stock data.\"\ninput_parameters = {\n    'stock_code': {'type': 'str', 'description': 'The code of the stock.'},\n    'time': {'type': 'str', 'description': 'The time for fetching the stock data. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'stock_data': {'type': 'json', 'description': 'JSON object containing the stock data.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_25",
                "doc": {
                    "expressions": "OpenBankAccount(account: str, password: str, name: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/open_bank_account.py",
                    "parameters": "(account: str, password: str, name: str, email: str)",
                    "name": "OpenBankAccount",
                    "description": "description = \"Open bank account API that takes four parameters: 'account', 'password', 'name' and 'email'. The 'account' parameter refers to the user's bank account number, the 'password' parameter refers to the user's password for the account, the 'name' parameter refers to the user's name and 'email' parameter refers to the user's email address.\"\ninput_parameters = {\n    'account': {'type': 'str', 'description': 'The user’s bank account number.'},\n    'password': {'type': 'str', 'description': 'The password for the bank account.'},\n    'name': {'type': 'str', 'description': 'The name of the user.'},\n    'email': {'type': 'str', 'description': 'The email address of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Whether the bank account opening was successful or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 4: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 5: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 11: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 12: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 13: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 14: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 15: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 16: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "parameters": {
                "account": {
                    "type": "string",
                    "description": "The identifier of the account to query the balance for.",
                    "required": true,
                    "default": null,
                    "example": "1234567890"
                }
            },
            "response": "The tool returns a single response object containing information about the account's current balance. The structure of the response is as follows:\n\n- **balance**: A numeric field of type float representing the monetary balance of the specified account. This value indicates how much is currently available or held in the account identified by the `account` parameter.  \n\nNo additional fields are specified, so the response consists solely of this balance information.",
            "examples": [
                {
                    "user_intent": "I want to check the current balance of my savings account with ID 987654321.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "987654321"
                        }
                    }
                },
                {
                    "user_intent": "Show me the balance for my business account 'BUS12345'.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "BUS12345"
                        }
                    }
                },
                {
                    "user_intent": "Retrieve the balance for account number A10001 before making a payment.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "A10001"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 4: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 5: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 11: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 12: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 13: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 14: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 15: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 16: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\", \"parameters\": {\"account\": {\"type\": \"string\", \"description\": \"The identifier of the account to query the balance for.\", \"required\": true, \"default\": null, \"example\": \"1234567890\"}}, \"response\": \"The tool returns a single response object containing information about the account's current balance. The structure of the response is as follows:\\n\\n- **balance**: A numeric field of type float representing the monetary balance of the specified account. This value indicates how much is currently available or held in the account identified by the `account` parameter.  \\n\\nNo additional fields are specified, so the response consists solely of this balance information.\", \"examples\": [{\"user_intent\": \"I want to check the current balance of my savings account with ID 987654321.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"987654321\"}}}, {\"user_intent\": \"Show me the balance for my business account 'BUS12345'.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"BUS12345\"}}}, {\"user_intent\": \"Retrieve the balance for account number A10001 before making a payment.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"A10001\"}}}]}\n\n# User Query\nCan you please check my account balance?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check the current balance of my account.",
                    "tool_description": "Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
                    "expected_response": "A response object containing the numeric balance of the specified account."
                }
            ],
            "extracted_arguments": {
                "account": "The identifier of the account to query the balance for."
            }
        }
    },
    {
        "id": "apibank_query_41",
        "query": "Can you help me find information about my headache symptoms?",
        "instruction": "Instruction: Given a `symptom information retrieval` task, retrieve tools that provide detailed insights related to specific health symptoms by processing inputs regarding the symptoms and returning relevant medical knowledge or guidance.",
        "labels": [
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.",
            "Tool 3: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 4: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 5: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 6: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 7: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 8: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 9: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 11: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 13: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 14: Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.",
            "Tool 15: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 16: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 19: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.\nTool 3: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 4: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 5: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 6: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 7: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 8: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 9: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 11: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 13: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 14: Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.\nTool 15: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 16: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 19: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you help me find information about my headache symptoms?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to search for medical conditions related to my symptoms.",
                    "tool_description": "Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.",
                    "expected_response": "A list of possible medical conditions that correspond to the described symptoms, including names and brief details."
                }
            ],
            "extracted_arguments": {
                "symptom_description": "A textual description of the user's headache symptoms."
            }
        }
    },
    {
        "id": "apibank_query_42",
        "query": "Hi, can you help me add a new schedule for my meeting tomorrow at 2pm? Today is 2021-09-27",
        "instruction": "Given a `schedule management` task, retrieve tools that facilitate creating new meeting agendas by processing input details such as date, time, location, and agenda content, while ensuring authentication for successful creation and returning the operation status.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_13",
                "doc": {
                    "expressions": "AddAgenda(token: str, content: str, time: datetime, location: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/add_agenda.py",
                    "parameters": "(token: str, content: str, time: datetime, location: str)",
                    "name": "AddAgenda",
                    "description": "description = \"Add an agenda API that takes four parameters - 'content', 'time', 'location' and 'token'. The 'content' parameter refers to the description of the agenda, the 'time' parameter specifies the time at which the agenda will happen, the 'location' parameter refers to the venue of the agenda and the 'token' parameter is used for authentication.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token.'},\n    'content': {'type': 'str', 'description': 'The content of the agenda.'},\n    'time': {'type': 'datetime', 'description': 'The time for the agenda. Format: %Y-%m-%d %H:%M:%S'},\n    'location': {'type': 'str', 'description': 'The location of the agenda.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 1: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.",
            "Tool 2: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 3: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 4: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 5: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 6: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 7: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 8: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 10: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 11: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.",
            "Tool 12: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 13: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.",
            "Tool 14: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 15: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 16: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 17: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 18: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 19: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful."
        ],
        "tool_view": {
            "description": "Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "parameters": {
                "content": {
                    "type": "string",
                    "description": "The content or description of the meeting, providing details about the purpose or topic of the meeting.",
                    "required": true,
                    "example": "Project kick-off meeting"
                },
                "time": {
                    "type": "datetime",
                    "description": "The scheduled time for the meeting, provided in the format 'YYYY-MM-DD HH:MM:SS'.",
                    "required": true,
                    "example": "2025-12-15 14:00:00"
                },
                "recipients": {
                    "type": "List[string]",
                    "description": "A list of email addresses of individuals invited to attend the meeting.",
                    "required": true,
                    "example": [
                        "john.doe@example.com",
                        "jane.smith@example.com"
                    ]
                }
            },
            "response": "The tool returns a response object containing a single field:  \n\n- **status** (string): Indicates the outcome of the meeting booking operation. It conveys whether the request to add the meeting was successful or not. The expected values are typically `\"success\"` if the meeting was booked successfully, or `\"failed\"` if the booking could not be completed.  \n\nThis is the only component of the response, and it serves as a high-level indicator of the operation’s result.",
            "examples": [
                {
                    "user_intent": "Schedule a project kickoff meeting for next Monday at 10 AM with the design and development teams.",
                    "tool_call": {
                        "name": "AddMeeting",
                        "arguments": {
                            "content": "Project kickoff meeting with design and development teams",
                            "time": "2026-01-05 10:00:00",
                            "recipients": [
                                "alice@example.com",
                                "bob@example.com",
                                "carol@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Set up a one-on-one performance review with my manager tomorrow afternoon.",
                    "tool_call": {
                        "name": "AddMeeting",
                        "arguments": {
                            "content": "One-on-one performance review",
                            "time": "2026-01-01 15:30:00",
                            "recipients": [
                                "manager@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Organize a weekly team sync every Friday at 9 AM and invite the whole marketing team.",
                    "tool_call": {
                        "name": "AddMeeting",
                        "arguments": {
                            "content": "Weekly marketing team sync",
                            "time": "2026-01-02 09:00:00",
                            "recipients": [
                                "mark@example.com",
                                "lisa@example.com",
                                "tom@example.com",
                                "emma@example.com"
                            ]
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 1: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.\nTool 2: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 3: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 4: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 5: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 6: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 7: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 8: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 10: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 11: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\nTool 12: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 13: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.\nTool 14: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 15: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 16: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 17: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 18: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 19: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\", \"parameters\": {\"content\": {\"type\": \"string\", \"description\": \"The content or description of the meeting, providing details about the purpose or topic of the meeting.\", \"required\": true, \"example\": \"Project kick-off meeting\"}, \"time\": {\"type\": \"datetime\", \"description\": \"The scheduled time for the meeting, provided in the format 'YYYY-MM-DD HH:MM:SS'.\", \"required\": true, \"example\": \"2025-12-15 14:00:00\"}, \"recipients\": {\"type\": \"List[string]\", \"description\": \"A list of email addresses of individuals invited to attend the meeting.\", \"required\": true, \"example\": [\"john.doe@example.com\", \"jane.smith@example.com\"]}}, \"response\": \"The tool returns a response object containing a single field:  \\n\\n- **status** (string): Indicates the outcome of the meeting booking operation. It conveys whether the request to add the meeting was successful or not. The expected values are typically `\\\"success\\\"` if the meeting was booked successfully, or `\\\"failed\\\"` if the booking could not be completed.  \\n\\nThis is the only component of the response, and it serves as a high-level indicator of the operation\\u2019s result.\", \"examples\": [{\"user_intent\": \"Schedule a project kickoff meeting for next Monday at 10 AM with the design and development teams.\", \"tool_call\": {\"name\": \"AddMeeting\", \"arguments\": {\"content\": \"Project kickoff meeting with design and development teams\", \"time\": \"2026-01-05 10:00:00\", \"recipients\": [\"alice@example.com\", \"bob@example.com\", \"carol@example.com\"]}}}, {\"user_intent\": \"Set up a one-on-one performance review with my manager tomorrow afternoon.\", \"tool_call\": {\"name\": \"AddMeeting\", \"arguments\": {\"content\": \"One-on-one performance review\", \"time\": \"2026-01-01 15:30:00\", \"recipients\": [\"manager@example.com\"]}}}, {\"user_intent\": \"Organize a weekly team sync every Friday at 9 AM and invite the whole marketing team.\", \"tool_call\": {\"name\": \"AddMeeting\", \"arguments\": {\"content\": \"Weekly marketing team sync\", \"time\": \"2026-01-02 09:00:00\", \"recipients\": [\"mark@example.com\", \"lisa@example.com\", \"tom@example.com\", \"emma@example.com\"]}}}]}\n\n# User Query\nHi, can you help me add a new schedule for my meeting tomorrow at 2pm? Today is 2021-09-27\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Add a new meeting scheduled for tomorrow at a specific time.",
                    "tool_description": "Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
                    "expected_response": "A response object containing a status field indicating whether the meeting was successfully booked."
                }
            ],
            "extracted_arguments": {
                "content": "The description or title of the meeting.",
                "time": "The date and time when the meeting is scheduled to occur.",
                "recipients": "A list of email addresses of individuals invited to attend the meeting."
            }
        }
    },
    {
        "id": "apibank_query_43",
        "query": "Can you help me find out my schedule for tomorrow? Today is 2023-03-17.",
        "instruction": "Given a `schedule retrieval` task, retrieve tools that access and provide a user's agenda by processing authentication tokens to return a detailed list of scheduled events.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_16",
                "doc": {
                    "expressions": "QueryAgenda(token: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_agenda.py",
                    "parameters": "(token: str)",
                    "name": "QueryAgenda",
                    "description": "description = \"Query agenda API that allows you to get the user's agenda based on the incoming token.\"\n\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'A string representing the user token.'}\n}\n\noutput_parameters = {\n    'agenda': {'type': 'list', 'description': 'A list of dictionaries representing the user agenda. Each dictionary contains details of a single entry- date, time, and description of the event.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 4: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 5: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 6: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 7: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 8: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 9: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.",
            "Tool 10: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.",
            "Tool 11: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 12: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 13: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 14: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 17: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 18: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 19: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query."
        ],
        "tool_view": {
            "description": "Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "parameters": {},
            "response": "The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\n\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system’s task model. The list may be empty if there are no incomplete tasks for the day.",
            "examples": [
                {
                    "user_intent": "Show me all the tasks I still need to complete today.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "I want to check my pending tasks for today before my meeting.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "List all unfinished tasks scheduled for today so I can prioritize them.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 4: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 5: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 6: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 7: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 8: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 9: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\nTool 10: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.\nTool 11: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 12: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 13: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 14: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 17: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 18: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 19: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\", \"parameters\": {}, \"response\": \"The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\\n\\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system\\u2019s task model. The list may be empty if there are no incomplete tasks for the day.\", \"examples\": [{\"user_intent\": \"Show me all the tasks I still need to complete today.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"I want to check my pending tasks for today before my meeting.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"List all unfinished tasks scheduled for today so I can prioritize them.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}]}\n\n# User Query\nCan you help me find out my schedule for tomorrow? Today is 2023-03-17.\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to see all the tasks scheduled for a specific day that have not yet been completed.",
                    "tool_description": "Retrieve a list of all tasks scheduled for a specified date that have not yet been completed, including their details.",
                    "expected_response": "A list of task objects for the specified date, each containing details such as title, description, status, due time, or other relevant metadata."
                }
            ],
            "extracted_arguments": {
                "date": "The specific calendar date for which to retrieve scheduled tasks."
            }
        }
    },
    {
        "id": "apibank_query_44",
        "query": "Can you please check if there is any appointment for Olivia Davis with Dr. Smith on 10th Oct 2023?",
        "instruction": "Given an `appointment check` task, retrieve tools that verify scheduled appointments by processing patient name and appointment date inputs to confirm the details and status of the reservation.",
        "labels": [
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 2: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 3: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 4: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 16: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 17: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 19: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 2: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 3: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 4: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 16: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 17: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 19: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you please check if there is any appointment for Olivia Davis with Dr. Smith on 10th Oct 2023?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check if a patient has a scheduled appointment with a specific doctor on a certain date.",
                    "tool_description": "Retrieve patient registration details by querying with the patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
                    "expected_response": "An object containing the appointment details if it exists, including patient name, doctor name, and scheduled date and time."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient whose appointment is being queried.",
                "doctor_name": "The full name of the doctor with whom the appointment may be scheduled.",
                "appointment_date": "The specific date for which the appointment needs to be checked."
            }
        }
    },
    {
        "id": "apibank_query_45",
        "query": "Can you help me find information on abdominal pain?",
        "instruction": "Given a `symptom information retrieval` task, retrieve tools that provide medical information by processing symptom descriptions to identify and return relevant medical conditions.",
        "labels": [
            {
                "id": "apibank_tool_56",
                "doc": {
                    "expressions": "SymptomSearch(symptom_description: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/symptom_search.py",
                    "parameters": "(symptom_description: str)",
                    "name": "SymptomSearch",
                    "description": "description = \"An API that searches for medical conditions based on symptom descriptions.\"\ninput_parameters = {\n    'symptom_description': {'type': 'str', 'description': 'A description of the symptoms being experienced.'}\n}\noutput_parameters = {\n    'medical_conditions': {'type': 'list', 'description': 'A list of medical conditions that match the given symptom description.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 3: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 4: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 5: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 6: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 7: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 9: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 10: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 11: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 12: Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.",
            "Tool 13: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 14: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 17: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 18: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 19: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 3: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 4: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 5: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 6: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 7: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 9: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 10: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 11: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 12: Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.\nTool 13: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 14: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 17: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 18: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 19: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you help me find information on abdominal pain?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to retrieve detailed emergency procedures and first aid guidance for abdominal pain.",
                    "tool_description": "Retrieve detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.",
                    "expected_response": "Detailed first aid instructions and emergency procedures relevant to abdominal pain."
                }
            ],
            "extracted_arguments": {
                "condition": "The name of the disease or injury for which emergency procedures are being requested."
            }
        }
    },
    {
        "id": "apibank_query_46",
        "query": "can you check my registration status for March 25th, 2023?",
        "instruction": "Given a `registration status check` task, retrieve tools that can verify registration details by processing inputs such as patient name and appointment time to return the status and any relevant information regarding the registration.",
        "labels": [
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 2: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 3: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 4: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 7: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Receive notifications of incoming emails in real time, returning the email details and the status of the request.",
            "Tool 11: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 14: Send an instant message to a specified recipient by providing the recipient’s identifier and the message content, returning a status indicating success or failure.",
            "Tool 15: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 16: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 17: Send an email to a specified recipient by providing the recipient's address, the subject, and the content of the message, and receive a status indicating whether the delivery was successful.",
            "Tool 18: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 19: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.\nTool 2: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 3: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 4: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 7: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Receive notifications of incoming emails in real time, returning the email details and the status of the request.\nTool 11: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 14: Send an instant message to a specified recipient by providing the recipient’s identifier and the message content, returning a status indicating success or failure.\nTool 15: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 16: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 17: Send an email to a specified recipient by providing the recipient's address, the subject, and the content of the message, and receive a status indicating whether the delivery was successful.\nTool 18: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 19: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\ncan you check my registration status for March 25th, 2023?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check my registration status for a specific date.",
                    "tool_description": "Retrieve the registration details of a user for a specified appointment date, returning the status of the registration.",
                    "expected_response": "A collection of registration details including the user's status and appointment information for the specified date."
                }
            ],
            "extracted_arguments": {
                "appointment_date": "The specific date of the registration or appointment to be checked."
            }
        }
    },
    {
        "id": "apibank_query_47",
        "query": "Can you recognize speech from an audio URL?",
        "instruction": "Given a `speech recognition` task, retrieve tools that process audio inputs from URLs to generate accurate text transcriptions, along with additional information such as confidence levels, aligned with the query's content and requirements.",
        "labels": [
            {
                "id": "apibank_tool_40",
                "doc": {
                    "expressions": "SpeechRecognition(voice_file: object)",
                    "category": "其他AI模型",
                    "path": "apis/speech_recognition.py",
                    "parameters": "(voice_file: object)",
                    "name": "SpeechRecognition",
                    "description": "description = \"An API that performs speech recognition on an audio file containing spoken words.\"\ninput_parameters = {\n    'voice_file': {'type': 'object', 'description': 'The audio file containing the spoken words.'},\n}\noutput_parameters = {\n    'transcription': {'type': 'str', 'description': 'The text transcription of the spoken words'},\n    'confidence': {'type': 'float', 'description': 'The confidence level of the transcription (between 0 and 1)'},\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 1: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.",
            "Tool 2: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Identify a song by providing an audio file in .wav or .mp3 format, returning details such as the song’s name, artist, album, release year, and identification status.",
            "Tool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 7: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 8: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 9: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 10: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 11: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.",
            "Tool 12: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.",
            "Tool 13: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 14: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 15: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query."
        ],
        "tool_view": {
            "description": "Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "parameters": {
                "text_content": {
                    "type": "string",
                    "description": "The text content that needs to be converted into speech.",
                    "required": true,
                    "example": "Hello, how are you?"
                }
            },
            "response": "The tool returns a response containing a single component named `audio_file`. This component represents the output of the text-to-speech conversion process and is structured as a file object. Semantically, `audio_file` contains the audio rendering of the input text (`text_content`) in a speech-like format, allowing it to be played or downloaded as a standard audio file. No additional metadata or fields are specified, so the response consists solely of this audio file.",
            "examples": [
                {
                    "user_intent": "Convert this motivational quote into an audio file so I can listen to it while jogging.",
                    "tool_call": {
                        "name": "SpeechGeneration",
                        "arguments": {
                            "text_content": "The only limit to our realization of tomorrow is our doubts of today."
                        }
                    }
                },
                {
                    "user_intent": "I want to turn the introduction of my podcast script into speech for a preview.",
                    "tool_call": {
                        "name": "SpeechGeneration",
                        "arguments": {
                            "text_content": "Welcome to our weekly tech podcast, where we explore the latest in AI and robotics."
                        }
                    }
                },
                {
                    "user_intent": "Please generate an audio version of this short story excerpt for an audiobook demo.",
                    "tool_call": {
                        "name": "SpeechGeneration",
                        "arguments": {
                            "text_content": "Once upon a time, in a quiet village, there lived a curious little fox named Finn."
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 1: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\nTool 2: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Identify a song by providing an audio file in .wav or .mp3 format, returning details such as the song’s name, artist, album, release year, and identification status.\nTool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 7: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 8: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 9: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 10: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 11: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.\nTool 12: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.\nTool 13: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 14: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 15: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\", \"parameters\": {\"text_content\": {\"type\": \"string\", \"description\": \"The text content that needs to be converted into speech.\", \"required\": true, \"example\": \"Hello, how are you?\"}}, \"response\": \"The tool returns a response containing a single component named `audio_file`. This component represents the output of the text-to-speech conversion process and is structured as a file object. Semantically, `audio_file` contains the audio rendering of the input text (`text_content`) in a speech-like format, allowing it to be played or downloaded as a standard audio file. No additional metadata or fields are specified, so the response consists solely of this audio file.\", \"examples\": [{\"user_intent\": \"Convert this motivational quote into an audio file so I can listen to it while jogging.\", \"tool_call\": {\"name\": \"SpeechGeneration\", \"arguments\": {\"text_content\": \"The only limit to our realization of tomorrow is our doubts of today.\"}}}, {\"user_intent\": \"I want to turn the introduction of my podcast script into speech for a preview.\", \"tool_call\": {\"name\": \"SpeechGeneration\", \"arguments\": {\"text_content\": \"Welcome to our weekly tech podcast, where we explore the latest in AI and robotics.\"}}}, {\"user_intent\": \"Please generate an audio version of this short story excerpt for an audiobook demo.\", \"tool_call\": {\"name\": \"SpeechGeneration\", \"arguments\": {\"text_content\": \"Once upon a time, in a quiet village, there lived a curious little fox named Finn.\"}}}]}\n\n# User Query\nCan you recognize speech from an audio URL?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to transcribe spoken words from an audio file accessible via a URL.",
                    "tool_description": "Perform speech recognition on an audio file, converting the spoken content into written text along with a confidence score indicating transcription accuracy.",
                    "expected_response": "A text transcription of the audio content and an associated confidence score for each segment of recognized speech."
                }
            ],
            "extracted_arguments": {
                "audio_url": "The URL pointing to the audio file from which speech should be recognized."
            }
        }
    },
    {
        "id": "apibank_query_48",
        "query": "Can you please delete my reminder to call the dentist on March 16th at 4:30 pm?",
        "instruction": "Given a `reminder deletion` task, retrieve tools that manage reminders by using authorization tokens and reminder IDs to delete specified entries, ensuring the status of the operation is returned.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_6",
                "doc": {
                    "expressions": "DeleteReminder(token: str, reminder_id: int)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_reminder.py",
                    "parameters": "(token: str, reminder_id: int)",
                    "name": "DeleteReminder",
                    "description": "description = \"Delete a reminder API that takes two parameters - 'token' and 'reminder_id'. The 'token' parameter is a string that represents the user authorization token and the 'reminder_id' parameter represents the unique identifier of the reminder to be deleted.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'A string that represents the user authorization token.'},\n    'reminder_id': {'type': 'int', 'description': 'The unique identifier of the reminder to be deleted.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Success or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 1: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 2: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 7: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 8: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 16: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 17: This API retrieves the definition of a word based on a provided search query.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Generates a caption for a given image."
        ],
        "tool_view": {
            "description": "This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "A string representing the user's authorization token used to authenticate the request.",
                    "required": true,
                    "default": null,
                    "example": "abcd1234token"
                },
                "reminder_id": {
                    "type": "integer",
                    "description": "The unique identifier of the reminder that needs to be deleted.",
                    "required": true,
                    "default": null,
                    "example": 101
                }
            },
            "response": "The tool returns a response that contains a `status` field. \n\n- **status (type: string)**: This field indicates whether the operation (deleting a reminder) was successful or failed. It provides a textual status message that reflects the outcome of the request, such as \"Success\" if the reminder was deleted successfully or \"Failed\" if the operation was unsuccessful. \n\nThe response is a simple indication of whether the deletion request was processed as expected.",
            "examples": [
                {
                    "user_intent": "I want to delete a reminder, can you help me with that?",
                    "tool_call": {
                        "name": "DeleteReminder",
                        "arguments": {
                            "token": "userAuthToken123",
                            "reminder_id": 45
                        }
                    }
                },
                {
                    "user_intent": "Please remove my reminder with ID 10.",
                    "tool_call": {
                        "name": "DeleteReminder",
                        "arguments": {
                            "token": "secureToken567",
                            "reminder_id": 10
                        }
                    }
                },
                {
                    "user_intent": "Can you delete the reminder for me? My token is 'abcToken' and the reminder ID is 100.",
                    "tool_call": {
                        "name": "DeleteReminder",
                        "arguments": {
                            "token": "abcToken",
                            "reminder_id": 100
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 1: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 2: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 7: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 8: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 16: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 17: This API retrieves the definition of a word based on a provided search query.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Generates a caption for a given image.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"A string representing the user's authorization token used to authenticate the request.\", \"required\": true, \"default\": null, \"example\": \"abcd1234token\"}, \"reminder_id\": {\"type\": \"integer\", \"description\": \"The unique identifier of the reminder that needs to be deleted.\", \"required\": true, \"default\": null, \"example\": 101}}, \"response\": \"The tool returns a response that contains a `status` field. \\n\\n- **status (type: string)**: This field indicates whether the operation (deleting a reminder) was successful or failed. It provides a textual status message that reflects the outcome of the request, such as \\\"Success\\\" if the reminder was deleted successfully or \\\"Failed\\\" if the operation was unsuccessful. \\n\\nThe response is a simple indication of whether the deletion request was processed as expected.\", \"examples\": [{\"user_intent\": \"I want to delete a reminder, can you help me with that?\", \"tool_call\": {\"name\": \"DeleteReminder\", \"arguments\": {\"token\": \"userAuthToken123\", \"reminder_id\": 45}}}, {\"user_intent\": \"Please remove my reminder with ID 10.\", \"tool_call\": {\"name\": \"DeleteReminder\", \"arguments\": {\"token\": \"secureToken567\", \"reminder_id\": 10}}}, {\"user_intent\": \"Can you delete the reminder for me? My token is 'abcToken' and the reminder ID is 100.\", \"tool_call\": {\"name\": \"DeleteReminder\", \"arguments\": {\"token\": \"abcToken\", \"reminder_id\": 100}}}]}\n\n# User Query\nCan you please delete my reminder to call the dentist on March 16th at 4:30 pm?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to delete a reminder based on its content and date.",
                    "tool_description": "Delete a reminder based on a user-provided identifier and an authentication token.",
                    "expected_response": "A status field indicating whether the reminder deletion was successful or not."
                }
            ],
            "extracted_arguments": {
                "token": "The user's authentication token.",
                "reminder_id": "The unique identifier of the reminder to be deleted."
            }
        }
    },
    {
        "id": "apibank_query_49",
        "query": "Can you help me modify a reminder for my conference?",
        "instruction": "Given a `reminder modification` task, retrieve tools that handle the updating of reminders by processing parameters such as reminder ID, content, and time to modify existing reminders and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_7",
                "doc": {
                    "expressions": "ModifyReminder(token: str, reminder_id: int, content: str, time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_reminder.py",
                    "parameters": "(token: str, reminder_id: int, content: str, time: datetime)",
                    "name": "ModifyReminder",
                    "description": "description = \"Modify an existing reminder API that takes three parameters - 'reminder_id', 'content' and 'time'. The 'reminder_id' parameter refers to the identifier of the reminder that needs to be modified, 'content' parameter refers to the updated description of the reminder, and 'time' parameter specifies the updated time of the reminder.\"\ninput_parameters = {\n    'reminder_id': {'type': 'int', 'description': 'The identifier of the reminder.'},\n    'content': {'type': 'str', 'description': 'The updated content of the reminder.'},\n    'time': {'type': 'str', 'description': 'The updated time for the reminder. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 2: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 6: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 7: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 8: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 9: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 10: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 11: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 12: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 13: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 14: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 19: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history."
        ],
        "tool_view": {
            "description": "Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "parameters": {
                "reminder_id": {
                    "type": "int",
                    "description": "The unique identifier of the reminder that needs to be modified.",
                    "required": true,
                    "example": 123
                },
                "content": {
                    "type": "string",
                    "description": "The new content or description for the reminder.",
                    "required": true,
                    "example": "Doctor appointment at 3 PM"
                },
                "time": {
                    "type": "string",
                    "description": "The updated date for the reminder in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-15"
                }
            },
            "response": "The tool’s response consists of a single structured object with the following component:\n\n- **status** (string): Indicates the outcome of the reminder modification operation. Its value conveys whether the request was successfully processed or not. Specifically, it can be interpreted as:  \n  - `\"success\"`: The reminder was successfully updated with the provided content and/or time.  \n  - `\"failed\"`: The modification did not succeed, which could occur due to reasons such as an invalid `reminder_id` or incorrect input format.\n\nThis is the only field defined in the response, and it serves as a simple confirmation of the operation’s result without returning the full reminder data or additional metadata.",
            "examples": [
                {
                    "user_intent": "I need to change the reminder for my meeting tomorrow to 3 PM.",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 101,
                            "content": "Meeting with the team",
                            "time": "2025-12-31"
                        }
                    }
                },
                {
                    "user_intent": "Update my doctor's appointment reminder to 2:30 PM on January 5th.",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 204,
                            "content": "Doctor's appointment",
                            "time": "2026-01-05"
                        }
                    }
                },
                {
                    "user_intent": "Can you change my reminder to pick up groceries to 4 PM on December 30th?",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 50,
                            "content": "Pick up groceries",
                            "time": "2025-12-30"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 2: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 6: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 7: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 8: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 9: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 10: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 11: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 12: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 13: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 14: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 19: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder\\u2019s details efficiently.\", \"parameters\": {\"reminder_id\": {\"type\": \"int\", \"description\": \"The unique identifier of the reminder that needs to be modified.\", \"required\": true, \"example\": 123}, \"content\": {\"type\": \"string\", \"description\": \"The new content or description for the reminder.\", \"required\": true, \"example\": \"Doctor appointment at 3 PM\"}, \"time\": {\"type\": \"string\", \"description\": \"The updated date for the reminder in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-15\"}}, \"response\": \"The tool\\u2019s response consists of a single structured object with the following component:\\n\\n- **status** (string): Indicates the outcome of the reminder modification operation. Its value conveys whether the request was successfully processed or not. Specifically, it can be interpreted as:  \\n  - `\\\"success\\\"`: The reminder was successfully updated with the provided content and/or time.  \\n  - `\\\"failed\\\"`: The modification did not succeed, which could occur due to reasons such as an invalid `reminder_id` or incorrect input format.\\n\\nThis is the only field defined in the response, and it serves as a simple confirmation of the operation\\u2019s result without returning the full reminder data or additional metadata.\", \"examples\": [{\"user_intent\": \"I need to change the reminder for my meeting tomorrow to 3 PM.\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 101, \"content\": \"Meeting with the team\", \"time\": \"2025-12-31\"}}}, {\"user_intent\": \"Update my doctor's appointment reminder to 2:30 PM on January 5th.\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 204, \"content\": \"Doctor's appointment\", \"time\": \"2026-01-05\"}}}, {\"user_intent\": \"Can you change my reminder to pick up groceries to 4 PM on December 30th?\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 50, \"content\": \"Pick up groceries\", \"time\": \"2025-12-30\"}}}]}\n\n# User Query\nCan you help me modify a reminder for my conference?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to modify an existing reminder for my conference.",
                    "tool_description": "Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
                    "expected_response": "A structured object indicating whether the reminder was successfully updated or if the operation failed."
                }
            ],
            "extracted_arguments": {
                "reminder_id": "The unique identifier of the reminder to be modified, represented as an integer.",
                "content": "The new description or content for the reminder, represented as a string.",
                "time": "The updated date and/or time for the reminder, represented as a string in YYYY-MM-DD format."
            }
        }
    },
    {
        "id": "apibank_query_50",
        "query": "Can you help me record my recent health data?",
        "instruction": "Given a `health data recording` task, retrieve tools that manage user health information by processing inputs such as user ID, date, and detailed health data to store records accurately and return the operation status.",
        "labels": [
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 5: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 7: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user whose health history is being recorded.",
                    "required": true,
                    "example": "12345"
                },
                "date": {
                    "type": "string",
                    "description": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                },
                "health_data": {
                    "type": "object",
                    "description": "An object containing the health data that is being recorded for the user.",
                    "required": true,
                    "example": {
                        "weight": 70,
                        "blood_pressure": "120/80",
                        "heart_rate": 72
                    }
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\n\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\"success\"` if the health data was recorded correctly, or `\"failed\"` if there was an error or the operation did not complete as intended.  \n\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action’s result.",
            "examples": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for user 1001.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "1001",
                            "date": "2025-12-30",
                            "health_data": {
                                "blood_pressure": "120/80",
                                "heart_rate": 72
                            }
                        }
                    }
                },
                {
                    "user_intent": "Add yesterday's step count and sleep hours for user A42.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "A42",
                            "date": "2025-12-29",
                            "health_data": {
                                "steps": 8500,
                                "sleep_hours": 7.5
                            }
                        }
                    }
                },
                {
                    "user_intent": "Log user 78's weight and body temperature for today.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "78",
                            "date": "2025-12-30",
                            "health_data": {
                                "weight_kg": 68.2,
                                "body_temperature_c": 36.6
                            }
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 5: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 7: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Record and store a user\\u2019s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user whose health history is being recorded.\", \"required\": true, \"example\": \"12345\"}, \"date\": {\"type\": \"string\", \"description\": \"The date when the health data was recorded, in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}, \"health_data\": {\"type\": \"object\", \"description\": \"An object containing the health data that is being recorded for the user.\", \"required\": true, \"example\": {\"weight\": 70, \"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\\n\\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\\\"success\\\"` if the health data was recorded correctly, or `\\\"failed\\\"` if there was an error or the operation did not complete as intended.  \\n\\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action\\u2019s result.\", \"examples\": [{\"user_intent\": \"Record today's blood pressure and heart rate for user 1001.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"1001\", \"date\": \"2025-12-30\", \"health_data\": {\"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}}, {\"user_intent\": \"Add yesterday's step count and sleep hours for user A42.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"A42\", \"date\": \"2025-12-29\", \"health_data\": {\"steps\": 8500, \"sleep_hours\": 7.5}}}}, {\"user_intent\": \"Log user 78's weight and body temperature for today.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"78\", \"date\": \"2025-12-30\", \"health_data\": {\"weight_kg\": 68.2, \"body_temperature_c\": 36.6}}}}]}\n\n# User Query\nCan you help me record my recent health data?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Record my recent health data for tracking purposes.",
                    "tool_description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
                    "expected_response": "A structured object indicating whether the health data recording operation was successful or failed."
                }
            ],
            "extracted_arguments": {
                "user_id": "The unique identifier of the user whose health history is being recorded.",
                "date": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                "health_data": "An object containing the recent health metrics to be recorded for the user, such as weight, blood pressure, heart rate, steps, or sleep hours."
            }
        }
    },
    {
        "id": "apibank_query_51",
        "query": "Can you help me book a hotel room?",
        "instruction": "Given a `hotel booking` task, retrieve tools that facilitate the reservation of hotel rooms by processing parameters such as hotel name, check-in and check-out dates, room count, and number of guests, ultimately providing booking status and reference details as outputs.",
        "labels": [
            {
                "id": "apibank_tool_83",
                "doc": {
                    "expressions": "BookHotel(hotel_name: str, check_in_date: datetime, check_out_date: datetime, room_count: int, adult_count: int, child_count: int)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/book_hotel.py",
                    "parameters": "(hotel_name: str, check_in_date: datetime, check_out_date: datetime, room_count: int, adult_count: int, child_count: int)",
                    "name": "BookHotel",
                    "description": "description = \"Book a hotel API that takes multiple parameters such as 'hotel_name', 'check_in_date', 'check_out_date', 'room_count', 'adult_count', 'child_count'. The 'check_in_date' parameter is the date when the guest is supposed to arrive at the hotel, the 'check_out_date' parameter is the date when the guest is supposed to leave the hotel, 'room_count' parameter is the number of rooms required, 'adult_count' parameter is the count of adults and 'child_count' parameter is the count of children staying in the hotel.\"\n\ninput_parameters = {\n    'hotel_name': {'type': 'str', 'description': 'Name of the hotel'},\n    'check_in_date': {'type': 'str', 'description': 'The check-in date. Format: %Y-%m-%d'},\n    'check_out_date': {'type': 'str', 'description': 'The check-out date. Format: %Y-%m-%d'},\n    'room_count': {'type': 'int', 'description': 'Number of rooms required for stay'},\n    'adult_count': {'type': 'int', 'description': 'Number of adults staying in the hotel'},\n    'child_count': {'type': 'int', 'description': 'Number of children staying in the hotel'}\n}\n\noutput_parameters = {\n    'booking_status': {'type': 'str', 'description': 'Status of the booking. eg. success, failed'},\n    'booking_reference': {'type': 'str', 'description': 'Booking reference code for the hotel reserved.'},\n    'total_cost':{'type': 'str', 'description': 'Total cost of the stay in US Dollars(USD).'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 1: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 6: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 7: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 8: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 9: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 11: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 12: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 13: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 15: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 17: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 18: Generates a caption for a given image.",
            "Tool 19: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription."
        ],
        "tool_view": {
            "description": "Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "parameters": {
                "device_type": {
                    "type": "string",
                    "description": "The type of the device to be queried.",
                    "required": true,
                    "example": "light"
                },
                "room": {
                    "type": "string",
                    "description": "The room where the device is located.",
                    "required": true,
                    "example": "living room"
                }
            },
            "response": "The tool’s response is structured as an object with two main fields:  \n\n1. **`status`** – A string indicating the outcome of the query. It typically conveys whether the request was successfully processed (`success`) or if there was an error or failure in retrieving the information (`failed`). This field serves as a high-level indicator of the operation’s success.  \n\n2. **`result`** – A string containing the actual information retrieved about the specified smart home device. This field provides the query result corresponding to the input parameters (`device_type` and `room`) and may include the device’s current state, configuration, or other relevant details depending on the query.  \n\nIn principle, the response communicates both the success status of the query and the associated device information in a concise, textual form.",
            "examples": [
                {
                    "user_intent": "Check the status of the air conditioner in the living room.",
                    "tool_call": {
                        "name": "QuerySmartHome",
                        "arguments": {
                            "device_type": "air conditioner",
                            "room": "living room"
                        }
                    }
                },
                {
                    "user_intent": "I want to see if the bedroom lights are on.",
                    "tool_call": {
                        "name": "QuerySmartHome",
                        "arguments": {
                            "device_type": "light",
                            "room": "bedroom"
                        }
                    }
                },
                {
                    "user_intent": "Get the current reading from the kitchen temperature sensor.",
                    "tool_call": {
                        "name": "QuerySmartHome",
                        "arguments": {
                            "device_type": "temperature sensor",
                            "room": "kitchen"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 1: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 6: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 7: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 8: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 9: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 11: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 12: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 13: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 15: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 17: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 18: Generates a caption for a given image.\nTool 19: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\", \"parameters\": {\"device_type\": {\"type\": \"string\", \"description\": \"The type of the device to be queried.\", \"required\": true, \"example\": \"light\"}, \"room\": {\"type\": \"string\", \"description\": \"The room where the device is located.\", \"required\": true, \"example\": \"living room\"}}, \"response\": \"The tool\\u2019s response is structured as an object with two main fields:  \\n\\n1. **`status`** \\u2013 A string indicating the outcome of the query. It typically conveys whether the request was successfully processed (`success`) or if there was an error or failure in retrieving the information (`failed`). This field serves as a high-level indicator of the operation\\u2019s success.  \\n\\n2. **`result`** \\u2013 A string containing the actual information retrieved about the specified smart home device. This field provides the query result corresponding to the input parameters (`device_type` and `room`) and may include the device\\u2019s current state, configuration, or other relevant details depending on the query.  \\n\\nIn principle, the response communicates both the success status of the query and the associated device information in a concise, textual form.\", \"examples\": [{\"user_intent\": \"Check the status of the air conditioner in the living room.\", \"tool_call\": {\"name\": \"QuerySmartHome\", \"arguments\": {\"device_type\": \"air conditioner\", \"room\": \"living room\"}}}, {\"user_intent\": \"I want to see if the bedroom lights are on.\", \"tool_call\": {\"name\": \"QuerySmartHome\", \"arguments\": {\"device_type\": \"light\", \"room\": \"bedroom\"}}}, {\"user_intent\": \"Get the current reading from the kitchen temperature sensor.\", \"tool_call\": {\"name\": \"QuerySmartHome\", \"arguments\": {\"device_type\": \"temperature sensor\", \"room\": \"kitchen\"}}}]}\n\n# User Query\nCan you help me book a hotel room?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to search for available hotels for my stay.",
                    "tool_description": "Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
                    "expected_response": "A list of hotels with details such as name, price, availability, and amenities."
                },
                {
                    "user_intent": "Book a selected hotel room from the search results.",
                    "tool_description": "Reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
                    "expected_response": "A booking confirmation including status, reference code, and total cost of the stay."
                }
            ],
            "extracted_arguments": {
                "location": "The city or area where the user wants to stay.",
                "check_in_date": "The date the user intends to start their hotel stay.",
                "check_out_date": "The date the user intends to end their hotel stay.",
                "number_of_rooms": "The total number of rooms the user wants to book.",
                "number_of_adults": "The number of adult guests staying in the room(s).",
                "number_of_children": "The number of child guests staying in the room(s).",
                "hotel_name": "The name of the specific hotel to be booked."
            }
        }
    },
    {
        "id": "apibank_query_52",
        "query": "Can you help me find my upcoming appointment with Dr. Smith?",
        "instruction": "Given an `appointment query` task, retrieve tools that manage and access appointment information by processing patient name and appointment time inputs to locate and provide details of the upcoming appointment.",
        "labels": [
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 5: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 6: This API retrieves the definition of a word based on a provided search query.",
            "Tool 7: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 9: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 10: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 5: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 6: This API retrieves the definition of a word based on a provided search query.\nTool 7: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 9: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 10: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you help me find my upcoming appointment with Dr. Smith?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check my upcoming medical appointment with a specific doctor.",
                    "tool_description": "Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
                    "expected_response": "An object containing appointment details such as patient name, doctor name, date, and time of the scheduled consultation."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient requesting appointment information.",
                "doctor_name": "The full name of the doctor associated with the appointment.",
                "appointment_time": "The scheduled date and time of the appointment; may be optional or inferred if looking for the next upcoming appointment."
            }
        }
    },
    {
        "id": "apibank_query_53",
        "query": "Can you cancel my appointment on April 10th with Dr. Davis under David Brown's name? The appointment ID is 56789012.",
        "instruction": "Given an `appointment cancellation` task, retrieve tools that handle schedules by processing input parameters such as appointment ID, date, and associated name to cancel the specific appointment and return the operation status.",
        "labels": [
            {
                "id": "apibank_tool_59",
                "doc": {
                    "expressions": "CancelRegistration(registration_number: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_registration.py",
                    "parameters": "(registration_number: str)",
                    "name": "CancelRegistration",
                    "description": "description = \"Cancel a registration API that takes one parameter - 'registration_number'. The 'registration_number' parameter refers to the registration number of the conference registration that needs to be cancelled.\"\ninput_parameters = {\n    'registration_number': {'type': 'str', 'description': 'The registration number of the conference registration to be cancelled.'},\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 2: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 5: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 6: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 8: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 10: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 12: Retrieve the business scope of a company by providing its name.",
            "Tool 13: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 14: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 15: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 16: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 17: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 19: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful."
        ],
        "tool_view": {
            "description": "Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "parameters": {
                "patient_name": {
                    "type": "string",
                    "description": "The full name of the patient who wants to register an appointment.",
                    "required": true,
                    "default": null,
                    "example": "John Doe"
                },
                "doctor_name": {
                    "type": "string",
                    "description": "The full name of the doctor who will handle the appointment.",
                    "required": true,
                    "default": null,
                    "example": "Dr. Smith"
                },
                "appointment_time": {
                    "type": "string",
                    "description": "The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "default": null,
                    "example": "2025-12-20 14:30:00"
                }
            },
            "response": "The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \n\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\"success\"` if the appointment was successfully registered, or `\"failed\"` if the registration did not go through.  \n\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.",
            "examples": [
                {
                    "user_intent": "I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "John Doe",
                            "doctor_name": "Dr. Smith",
                            "appointment_time": "2026-01-05 10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Emily Clark",
                            "doctor_name": "Dr. Patel",
                            "appointment_time": "2026-02-15 14:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Michael Johnson",
                            "doctor_name": "Dr. Lee",
                            "appointment_time": "2026-01-31 09:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 2: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 5: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 6: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 8: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 10: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 12: Retrieve the business scope of a company by providing its name.\nTool 13: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 14: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 15: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 16: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 17: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 19: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\", \"parameters\": {\"patient_name\": {\"type\": \"string\", \"description\": \"The full name of the patient who wants to register an appointment.\", \"required\": true, \"default\": null, \"example\": \"John Doe\"}, \"doctor_name\": {\"type\": \"string\", \"description\": \"The full name of the doctor who will handle the appointment.\", \"required\": true, \"default\": null, \"example\": \"Dr. Smith\"}, \"appointment_time\": {\"type\": \"string\", \"description\": \"The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"default\": null, \"example\": \"2025-12-20 14:30:00\"}}, \"response\": \"The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \\n\\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\\\"success\\\"` if the appointment was successfully registered, or `\\\"failed\\\"` if the registration did not go through.  \\n\\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.\", \"examples\": [{\"user_intent\": \"I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"John Doe\", \"doctor_name\": \"Dr. Smith\", \"appointment_time\": \"2026-01-05 10:00:00\"}}}, {\"user_intent\": \"Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Emily Clark\", \"doctor_name\": \"Dr. Patel\", \"appointment_time\": \"2026-02-15 14:30:00\"}}}, {\"user_intent\": \"Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Michael Johnson\", \"doctor_name\": \"Dr. Lee\", \"appointment_time\": \"2026-01-31 09:00:00\"}}}]}\n\n# User Query\nCan you cancel my appointment on April 10th with Dr. Davis under David Brown's name? The appointment ID is 56789012.\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to cancel a scheduled medical appointment using its ID.",
                    "tool_description": "Cancel an existing medical appointment by providing its unique appointment ID, returning a status indicating whether the cancellation was successful.",
                    "expected_response": "An object containing the cancellation status, indicating success or failure."
                }
            ],
            "extracted_arguments": {
                "appointment_id": "The unique identifier for the medical appointment to be canceled."
            }
        }
    },
    {
        "id": "apibank_query_54",
        "query": "Can you change my appointment?",
        "instruction": "Given an `appointment modification` task, retrieve tools that manage scheduling operations by processing registration numbers and new appointment times to update the appointment details and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 6: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 8: Generates a caption for a given image.",
            "Tool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 10: This API retrieves the definition of a word based on a provided search query.",
            "Tool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents."
        ],
        "tool_view": {
            "description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "parameters": {
                "old_password": {
                    "type": "string",
                    "description": "The user's current password that needs to be verified before changing to a new password.",
                    "required": true,
                    "example": "currentPass123"
                },
                "new_password": {
                    "type": "string",
                    "description": "The new password that will replace the existing password for the user account.",
                    "required": true,
                    "example": "newSecurePass456"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \"success\" to indicate the password was changed successfully, or \"failed\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \n\nThis response provides a concise confirmation of the result of the password update request.",
            "examples": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "Summer2025!",
                            "new_password": "Winter2025#Secure"
                        }
                    }
                },
                {
                    "user_intent": "Reset my password because I think my current one is compromised.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "MyOldPass123",
                            "new_password": "SafePass!789"
                        }
                    }
                },
                {
                    "user_intent": "Update my login credentials to a stronger password for better security.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "password2025",
                            "new_password": "StrongerPass#2025"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 6: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 8: Generates a caption for a given image.\nTool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 10: This API retrieves the definition of a word based on a provided search query.\nTool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\", \"parameters\": {\"old_password\": {\"type\": \"string\", \"description\": \"The user's current password that needs to be verified before changing to a new password.\", \"required\": true, \"example\": \"currentPass123\"}, \"new_password\": {\"type\": \"string\", \"description\": \"The new password that will replace the existing password for the user account.\", \"required\": true, \"example\": \"newSecurePass456\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \\\"success\\\" to indicate the password was changed successfully, or \\\"failed\\\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \\n\\nThis response provides a concise confirmation of the result of the password update request.\", \"examples\": [{\"user_intent\": \"I want to change my account password from my old one to a new secure password.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"Summer2025!\", \"new_password\": \"Winter2025#Secure\"}}}, {\"user_intent\": \"Reset my password because I think my current one is compromised.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"MyOldPass123\", \"new_password\": \"SafePass!789\"}}}, {\"user_intent\": \"Update my login credentials to a stronger password for better security.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"password2025\", \"new_password\": \"StrongerPass#2025\"}}}]}\n\n# User Query\nCan you change my appointment?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to update the time of my existing medical appointment.",
                    "tool_description": "Modify the scheduled time of an existing patient appointment by providing the appointment's unique identifier and the new desired date and time.",
                    "expected_response": "An object indicating whether the appointment update was successful."
                }
            ],
            "extracted_arguments": {
                "appointment_id": "The unique identifier of the existing medical appointment to be updated.",
                "new_datetime": "The new date and time to which the appointment should be rescheduled."
            }
        }
    },
    {
        "id": "apibank_query_55",
        "query": "Can you cancel a timed switch for my smart device?",
        "instruction": "Given a `timed switch cancellation` task, retrieve tools that manage smart device operations by processing required inputs such as device ID and switch time to cancel the scheduled operation and provide feedback on the success of the cancellation.",
        "labels": [
            {
                "id": "apibank_tool_69",
                "doc": {
                    "expressions": "CancelTimedSwitch(device_id: str, switch_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_timed_switch.py",
                    "parameters": "(device_id: str, switch_time: datetime)",
                    "name": "CancelTimedSwitch",
                    "description": "description = \"API for canceling a timed switch on a device using its 'device ID' and 'switch time' input parameters.\"\ninput_parameters = {\n    'device_id': {'type': 'str', 'description': 'The ID of the device for which the timed switch needs to be cancelled.'},\n    'switch_time': {'type': 'datetime', 'description': 'The time of the scheduled switch. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'The status of the API call - success or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 1: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 2: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: Send commands to a specific device by providing its unique identifier and the action to execute, allowing real-time control of the device and receiving a status response indicating success or failure.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 7: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 8: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 9: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 10: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 12: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 13: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 17: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 18: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 19: Generates a caption for a given image."
        ],
        "tool_view": {
            "description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "parameters": {
                "device_id": {
                    "type": "string",
                    "description": "The unique identifier of the device for which the scheduled timed switch should be cancelled.",
                    "required": true,
                    "example": "device123"
                },
                "switch_time": {
                    "type": "string",
                    "description": "The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "example": "2025-12-11 14:30:00"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \"success\" or \"failed,\" providing a clear, high-level result of the operation.  \n\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.",
            "examples": [
                {
                    "user_intent": "Cancel the scheduled power-on for my smart lamp at 8 PM tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "lamp_01",
                            "switch_time": "2025-12-30 20:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "thermostat_22",
                            "switch_time": "2025-12-31 07:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Abort the scheduled irrigation system switch that was set for midnight tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "irrigation_05",
                            "switch_time": "2025-12-31 00:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 1: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 2: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: Send commands to a specific device by providing its unique identifier and the action to execute, allowing real-time control of the device and receiving a status response indicating success or failure.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 7: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 8: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 9: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 10: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 12: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 13: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 17: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 18: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 19: Generates a caption for a given image.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\", \"parameters\": {\"device_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the device for which the scheduled timed switch should be cancelled.\", \"required\": true, \"example\": \"device123\"}, \"switch_time\": {\"type\": \"string\", \"description\": \"The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"example\": \"2025-12-11 14:30:00\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \\\"success\\\" or \\\"failed,\\\" providing a clear, high-level result of the operation.  \\n\\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.\", \"examples\": [{\"user_intent\": \"Cancel the scheduled power-on for my smart lamp at 8 PM tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"lamp_01\", \"switch_time\": \"2025-12-30 20:00:00\"}}}, {\"user_intent\": \"I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"thermostat_22\", \"switch_time\": \"2025-12-31 07:30:00\"}}}, {\"user_intent\": \"Abort the scheduled irrigation system switch that was set for midnight tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"irrigation_05\", \"switch_time\": \"2025-12-31 00:00:00\"}}}]}\n\n# User Query\nCan you cancel a timed switch for my smart device?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Cancel a scheduled timed switch for a smart device.",
                    "tool_description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
                    "expected_response": "The status of the cancelation request, indicating success or failure."
                }
            ],
            "extracted_arguments": {
                "device_id": "The unique identifier of the device for which the scheduled timed switch should be cancelled.",
                "switch_time": "The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'."
            }
        }
    },
    {
        "id": "apibank_query_56",
        "query": "Can you help me register an appointment with a specific doctor on a specific date?",
        "instruction": "Given an `appointment registration` task, retrieve tools that facilitate setting up appointments by processing inputs such as patient name, doctor name, and appointment date and time, and providing feedback on the registration status.",
        "labels": [
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 3: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 4: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 6: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 7: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 9: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 10: Assign a priority value to a specific task by providing its content, allowing users to manage and organize tasks based on their importance.",
            "Tool 11: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 12: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 13: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 14: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 15: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 16: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 17: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 18: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 19: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions."
        ],
        "tool_view": {
            "description": "Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "parameters": {
                "patient_name": {
                    "type": "string",
                    "description": "The full name of the patient who wants to register an appointment.",
                    "required": true,
                    "default": null,
                    "example": "John Doe"
                },
                "doctor_name": {
                    "type": "string",
                    "description": "The full name of the doctor who will handle the appointment.",
                    "required": true,
                    "default": null,
                    "example": "Dr. Smith"
                },
                "appointment_time": {
                    "type": "string",
                    "description": "The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "default": null,
                    "example": "2025-12-20 14:30:00"
                }
            },
            "response": "The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \n\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\"success\"` if the appointment was successfully registered, or `\"failed\"` if the registration did not go through.  \n\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.",
            "examples": [
                {
                    "user_intent": "I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "John Doe",
                            "doctor_name": "Dr. Smith",
                            "appointment_time": "2026-01-05 10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Emily Clark",
                            "doctor_name": "Dr. Patel",
                            "appointment_time": "2026-02-15 14:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Michael Johnson",
                            "doctor_name": "Dr. Lee",
                            "appointment_time": "2026-01-31 09:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 3: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 4: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 6: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 7: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 9: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 10: Assign a priority value to a specific task by providing its content, allowing users to manage and organize tasks based on their importance.\nTool 11: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 12: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 13: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 14: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 15: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 16: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 17: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 18: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 19: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\", \"parameters\": {\"patient_name\": {\"type\": \"string\", \"description\": \"The full name of the patient who wants to register an appointment.\", \"required\": true, \"default\": null, \"example\": \"John Doe\"}, \"doctor_name\": {\"type\": \"string\", \"description\": \"The full name of the doctor who will handle the appointment.\", \"required\": true, \"default\": null, \"example\": \"Dr. Smith\"}, \"appointment_time\": {\"type\": \"string\", \"description\": \"The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"default\": null, \"example\": \"2025-12-20 14:30:00\"}}, \"response\": \"The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \\n\\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\\\"success\\\"` if the appointment was successfully registered, or `\\\"failed\\\"` if the registration did not go through.  \\n\\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.\", \"examples\": [{\"user_intent\": \"I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"John Doe\", \"doctor_name\": \"Dr. Smith\", \"appointment_time\": \"2026-01-05 10:00:00\"}}}, {\"user_intent\": \"Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Emily Clark\", \"doctor_name\": \"Dr. Patel\", \"appointment_time\": \"2026-02-15 14:30:00\"}}}, {\"user_intent\": \"Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Michael Johnson\", \"doctor_name\": \"Dr. Lee\", \"appointment_time\": \"2026-01-31 09:00:00\"}}}]}\n\n# User Query\nCan you help me register an appointment with a specific doctor on a specific date?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to schedule an appointment with a specific doctor on a specific date.",
                    "tool_description": "Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
                    "expected_response": "A status message indicating whether the appointment was successfully registered or not."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient who wants to register an appointment.",
                "doctor_name": "The full name of the doctor who will handle the appointment.",
                "appointment_time": "The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'."
            }
        }
    },
    {
        "id": "apibank_query_57",
        "query": "Can you answer a question about a document for me?",
        "instruction": "Given a `document question answering` task, retrieve tools that analyze document content to extract and provide answers to specific questions by processing the text of the document and the related query.",
        "labels": [
            {
                "id": "apibank_tool_45",
                "doc": {
                    "expressions": "DocumentQA(document_content: str, question: str)",
                    "category": "其他AI模型",
                    "path": "apis/document_qa.py",
                    "parameters": "(document_content: str, question: str)",
                    "name": "DocumentQA",
                    "description": "description = \"Document Question Answering (DocumentQA) API to provide answers for questions given a document content.\"\ninput_parameters = {\n    'document_content': {'type': 'str', 'description': 'The content of the document to be analyzed.'},\n    'question': {'type': 'str', 'description': 'The question to answer from the given document.'}\n}\noutput_parameters = {\n    'answer': {'type': 'str', 'description': 'The answer for the given question.'},\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.",
            "Tool 2: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 5: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 6: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 7: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 9: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 12: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 13: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 16: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 17: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\nTool 2: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 5: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 6: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 7: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 9: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 12: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 13: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 16: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 17: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you answer a question about a document for me?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to ask a question about the content of a specific document.",
                    "tool_description": "Analyze the content of a provided document and return answers to specific questions based on that content, enabling users to extract relevant information directly from the document.",
                    "expected_response": "A structured answer or text excerpt that directly addresses the user's question based on the document's content."
                }
            ],
            "extracted_arguments": {
                "document_content": "The full textual or structured content of the document to be analyzed.",
                "question": "The natural language question the user wants answered based on the document."
            }
        }
    },
    {
        "id": "apibank_query_58",
        "query": "Can you help me reschedule my appointment with Dr. Smith on April 12th?",
        "instruction": "Given an `appointment rescheduling` task, retrieve tools that manage and update scheduling information by processing input details such as registration number and new appointment time to modify and confirm the updated schedule.",
        "labels": [
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 5: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 6: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 7: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 11: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 14: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 15: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 17: This API retrieves the definition of a word based on a provided search query.",
            "Tool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 5: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 6: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 7: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 11: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 14: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 15: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 17: This API retrieves the definition of a word based on a provided search query.\nTool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you help me reschedule my appointment with Dr. Smith on April 12th?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to update the appointment time with a specific doctor.",
                    "tool_description": "Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
                    "expected_response": "A status message indicating whether the appointment update was successful."
                }
            ],
            "extracted_arguments": {
                "doctor_name": "The name of the doctor for the appointment.",
                "appointment_date": "The current scheduled date of the appointment.",
                "new_appointment_date": "The new desired date and time for the appointment."
            }
        }
    },
    {
        "id": "apibank_query_59",
        "query": "Can you cancel my appointment on August 5th with Dr. Chen under the name Sarah Johnson? My appointment ID is 78901234.",
        "instruction": "Given an `appointment cancellation` task, retrieve tools that handle appointment management by processing inputs such as patient's name, appointment ID, and date to cancel the scheduled appointment and confirm the operation's status.",
        "labels": [
            {
                "id": "apibank_tool_59",
                "doc": {
                    "expressions": "CancelRegistration(registration_number: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_registration.py",
                    "parameters": "(registration_number: str)",
                    "name": "CancelRegistration",
                    "description": "description = \"Cancel a registration API that takes one parameter - 'registration_number'. The 'registration_number' parameter refers to the registration number of the conference registration that needs to be cancelled.\"\ninput_parameters = {\n    'registration_number': {'type': 'str', 'description': 'The registration number of the conference registration to be cancelled.'},\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 2: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 5: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 6: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 8: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 10: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 12: Retrieve the business scope of a company by providing its name.",
            "Tool 13: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 14: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 15: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 16: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 17: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 19: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful."
        ],
        "tool_view": {
            "description": "Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "parameters": {
                "patient_name": {
                    "type": "string",
                    "description": "The full name of the patient who wants to register an appointment.",
                    "required": true,
                    "default": null,
                    "example": "John Doe"
                },
                "doctor_name": {
                    "type": "string",
                    "description": "The full name of the doctor who will handle the appointment.",
                    "required": true,
                    "default": null,
                    "example": "Dr. Smith"
                },
                "appointment_time": {
                    "type": "string",
                    "description": "The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "default": null,
                    "example": "2025-12-20 14:30:00"
                }
            },
            "response": "The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \n\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\"success\"` if the appointment was successfully registered, or `\"failed\"` if the registration did not go through.  \n\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.",
            "examples": [
                {
                    "user_intent": "I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "John Doe",
                            "doctor_name": "Dr. Smith",
                            "appointment_time": "2026-01-05 10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Emily Clark",
                            "doctor_name": "Dr. Patel",
                            "appointment_time": "2026-02-15 14:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Michael Johnson",
                            "doctor_name": "Dr. Lee",
                            "appointment_time": "2026-01-31 09:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 2: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 5: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 6: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 8: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 10: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 12: Retrieve the business scope of a company by providing its name.\nTool 13: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 14: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 15: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 16: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 17: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 19: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\", \"parameters\": {\"patient_name\": {\"type\": \"string\", \"description\": \"The full name of the patient who wants to register an appointment.\", \"required\": true, \"default\": null, \"example\": \"John Doe\"}, \"doctor_name\": {\"type\": \"string\", \"description\": \"The full name of the doctor who will handle the appointment.\", \"required\": true, \"default\": null, \"example\": \"Dr. Smith\"}, \"appointment_time\": {\"type\": \"string\", \"description\": \"The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"default\": null, \"example\": \"2025-12-20 14:30:00\"}}, \"response\": \"The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \\n\\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\\\"success\\\"` if the appointment was successfully registered, or `\\\"failed\\\"` if the registration did not go through.  \\n\\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.\", \"examples\": [{\"user_intent\": \"I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"John Doe\", \"doctor_name\": \"Dr. Smith\", \"appointment_time\": \"2026-01-05 10:00:00\"}}}, {\"user_intent\": \"Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Emily Clark\", \"doctor_name\": \"Dr. Patel\", \"appointment_time\": \"2026-02-15 14:30:00\"}}}, {\"user_intent\": \"Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Michael Johnson\", \"doctor_name\": \"Dr. Lee\", \"appointment_time\": \"2026-01-31 09:00:00\"}}}]}\n\n# User Query\nCan you cancel my appointment on August 5th with Dr. Chen under the name Sarah Johnson? My appointment ID is 78901234.\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to cancel my scheduled medical appointment using the appointment ID.",
                    "tool_description": "Cancel a scheduled medical appointment by providing its unique appointment ID, returning a status indicating whether the cancellation was successful.",
                    "expected_response": "A confirmation object indicating the success or failure of the appointment cancellation."
                }
            ],
            "extracted_arguments": {
                "appointment_id": "A unique identifier for the scheduled medical appointment to be canceled."
            }
        }
    },
    {
        "id": "apibank_query_60",
        "query": "Can you add a reminder for a meeting on 2022-05-06 at 2 PM?",
        "instruction": "Given a `reminder creation` task, retrieve tools that facilitate the addition of reminders by processing authentication tokens, content descriptions, and time inputs to schedule and confirm the reminder's setup.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_5",
                "doc": {
                    "expressions": "AddReminder(token: str, content: str, time: datetime)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/add_reminder.py",
                    "parameters": "(token: str, content: str, time: datetime)",
                    "name": "AddReminder",
                    "description": "description = \"Add a reminder API that allows users to create new reminders with the specified content and time.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The user authentication token.'},\n    'content': {'type': 'str', 'description': 'The content of the reminder.'},\n    'time': {'type': 'datetime', 'description': 'The time at which the reminder should be triggered.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Indicates whether the request was successful or not.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 2: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 3: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 6: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.",
            "Tool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 8: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 9: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 10: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 11: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 12: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 13: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 14: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 17: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 19: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query."
        ],
        "tool_view": {
            "description": "Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "parameters": {
                "meeting_id": {
                    "type": "int",
                    "description": "The unique identifier of the meeting that needs to be modified.",
                    "required": true,
                    "example": 12345
                },
                "content": {
                    "type": "string",
                    "description": "The updated description or content of the meeting.",
                    "required": true,
                    "example": "Discuss Q1 financial report"
                },
                "time": {
                    "type": "string",
                    "description": "The new scheduled time for the meeting in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-20"
                },
                "attendees": {
                    "type": "list",
                    "description": "A list of email addresses representing the new attendees invited to the meeting.",
                    "required": true,
                    "example": [
                        "alice@example.com",
                        "bob@example.com"
                    ]
                }
            },
            "response": "The tool returns a response object containing a single field:\n\n- **status** (`str`): Indicates the result of the meeting modification operation. Its value will describe whether the request succeeded or failed, typically using strings such as `\"success\"` for a successful update or `\"failed\"` if the modification could not be completed. This field communicates the overall outcome of the API call but does not include detailed error messages or additional metadata.",
            "examples": [
                {
                    "user_intent": "Update the team meeting to discuss the Q1 report and change the date to February 15th, 2026, inviting Alice and Bob.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 1023,
                            "content": "Discuss Q1 report",
                            "time": "2026-02-15",
                            "attendees": [
                                "alice@example.com",
                                "bob@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Reschedule my project sync to March 1st, 2026, and update attendees to include Carol and Dave.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 2045,
                            "time": "2026-03-01",
                            "attendees": [
                                "carol@example.com",
                                "dave@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Change the content of meeting 3098 to cover the new marketing strategy without changing the date or attendees.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 3098,
                            "content": "Review new marketing strategy"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 2: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 3: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 6: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.\nTool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 8: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 9: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 10: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 11: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 12: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 13: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 14: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 17: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 19: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\", \"parameters\": {\"meeting_id\": {\"type\": \"int\", \"description\": \"The unique identifier of the meeting that needs to be modified.\", \"required\": true, \"example\": 12345}, \"content\": {\"type\": \"string\", \"description\": \"The updated description or content of the meeting.\", \"required\": true, \"example\": \"Discuss Q1 financial report\"}, \"time\": {\"type\": \"string\", \"description\": \"The new scheduled time for the meeting in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-20\"}, \"attendees\": {\"type\": \"list\", \"description\": \"A list of email addresses representing the new attendees invited to the meeting.\", \"required\": true, \"example\": [\"alice@example.com\", \"bob@example.com\"]}}, \"response\": \"The tool returns a response object containing a single field:\\n\\n- **status** (`str`): Indicates the result of the meeting modification operation. Its value will describe whether the request succeeded or failed, typically using strings such as `\\\"success\\\"` for a successful update or `\\\"failed\\\"` if the modification could not be completed. This field communicates the overall outcome of the API call but does not include detailed error messages or additional metadata.\", \"examples\": [{\"user_intent\": \"Update the team meeting to discuss the Q1 report and change the date to February 15th, 2026, inviting Alice and Bob.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 1023, \"content\": \"Discuss Q1 report\", \"time\": \"2026-02-15\", \"attendees\": [\"alice@example.com\", \"bob@example.com\"]}}}, {\"user_intent\": \"Reschedule my project sync to March 1st, 2026, and update attendees to include Carol and Dave.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 2045, \"time\": \"2026-03-01\", \"attendees\": [\"carol@example.com\", \"dave@example.com\"]}}}, {\"user_intent\": \"Change the content of meeting 3098 to cover the new marketing strategy without changing the date or attendees.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 3098, \"content\": \"Review new marketing strategy\"}}}]}\n\n# User Query\nCan you add a reminder for a meeting on 2022-05-06 at 2 PM?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Add a new reminder for a meeting at a specified date and time.",
                    "tool_description": "Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
                    "expected_response": "A confirmation object including the reminder ID and status indicating whether the creation was successful."
                }
            ],
            "extracted_arguments": {
                "reminder_content": "The textual description or title of the reminder to be created.",
                "reminder_time": "The specific date and time when the reminder should trigger.",
                "user_auth_token": "A token representing the user's authorization to create the reminder."
            }
        }
    },
    {
        "id": "apibank_query_61",
        "query": "Can you help me reschedule my appointment with Dr. Smith?",
        "instruction": "Given an `appointment rescheduling` task, retrieve tools that handle scheduling operations by processing registration numbers and new appointment times to modify existing appointments and return the status of the update.",
        "labels": [
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 5: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 6: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 7: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 11: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 14: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 15: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 17: This API retrieves the definition of a word based on a provided search query.",
            "Tool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 5: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 6: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 7: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 11: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 14: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 15: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 17: This API retrieves the definition of a word based on a provided search query.\nTool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you help me reschedule my appointment with Dr. Smith?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to update the time of an existing medical appointment.",
                    "tool_description": "Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
                    "expected_response": "A status confirmation indicating whether the appointment was successfully rescheduled."
                }
            ],
            "extracted_arguments": {
                "appointment_id": "The unique identifier for the existing medical appointment to be updated.",
                "new_datetime": "The new date and time to which the appointment should be rescheduled.",
                "doctor_name": "The name of the doctor with whom the appointment is scheduled."
            }
        }
    },
    {
        "id": "apibank_query_62",
        "query": "Can you tell me the definition of the word \"perplexed\"?",
        "instruction": "Given a `word definition retrieval` task, retrieve tools that provide dictionary definitions by processing the query word and returning its meaning or definition.",
        "labels": [
            {
                "id": "apibank_tool_37",
                "doc": {
                    "expressions": "Dictionary(query: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/dictionary.py",
                    "parameters": "(query: str)",
                    "name": "Dictionary",
                    "description": "description = \"API that takes a 'query' parameter as input and retrieves the definition of that word.\"\ninput_parameters = {\n    'query': {'type': 'str', 'description': 'The word to search the definition for.'},\n}\noutput_parameters = {\n    'definition': {'type': 'str', 'description': 'The definition of the requested word.'},\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This API retrieves the definition of a word based on a provided search query.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 8: Generates a caption for a given image.",
            "Tool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term."
        ],
        "tool_view": {
            "description": "This API retrieves the definition of a word based on a provided search query.",
            "parameters": {
                "query": {
                    "type": "string",
                    "description": "The word for which the API will retrieve the definition.",
                    "required": true,
                    "default": null,
                    "example": "apple"
                }
            },
            "response": "The tool returns a response object containing a single field named `definition`. This field holds the meaning or explanation of the word provided in the `query` parameter. Specifically:  \n\n- **definition** (`string`): Contains the textual definition of the requested word. It represents the primary content of the response, providing the user with the explanation, meaning, or description associated with the input word.  \n\nThe response is therefore a simple object with one key-value pair, where the key identifies the type of information returned (the word’s definition) and the value is the actual definition text.",
            "examples": [
                {
                    "user_intent": "I want to know the meaning of the word 'serendipity'.",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "serendipity"
                        }
                    }
                },
                {
                    "user_intent": "Look up the definition of 'quantum mechanics' for me.",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "quantum mechanics"
                        }
                    }
                },
                {
                    "user_intent": "Can you tell me what 'ephemeral' means?",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "ephemeral"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This API retrieves the definition of a word based on a provided search query.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 8: Generates a caption for a given image.\nTool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This API retrieves the definition of a word based on a provided search query.\", \"parameters\": {\"query\": {\"type\": \"string\", \"description\": \"The word for which the API will retrieve the definition.\", \"required\": true, \"default\": null, \"example\": \"apple\"}}, \"response\": \"The tool returns a response object containing a single field named `definition`. This field holds the meaning or explanation of the word provided in the `query` parameter. Specifically:  \\n\\n- **definition** (`string`): Contains the textual definition of the requested word. It represents the primary content of the response, providing the user with the explanation, meaning, or description associated with the input word.  \\n\\nThe response is therefore a simple object with one key-value pair, where the key identifies the type of information returned (the word\\u2019s definition) and the value is the actual definition text.\", \"examples\": [{\"user_intent\": \"I want to know the meaning of the word 'serendipity'.\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"serendipity\"}}}, {\"user_intent\": \"Look up the definition of 'quantum mechanics' for me.\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"quantum mechanics\"}}}, {\"user_intent\": \"Can you tell me what 'ephemeral' means?\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"ephemeral\"}}}]}\n\n# User Query\nCan you tell me the definition of the word \"perplexed\"?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know the meaning of the word 'perplexed'.",
                    "tool_description": "Retrieve the definition of a specified word based on a provided search query.",
                    "expected_response": "An object containing a single field `definition` with the textual meaning or explanation of the requested word."
                }
            ],
            "extracted_arguments": {
                "query": "The word for which the API will retrieve the definition."
            }
        }
    },
    {
        "id": "apibank_query_63",
        "query": "Can you check the registration of patient with ID 34567890 on March 25, 2023 and tell me about his appointments?",
        "instruction": "Given a `patient registration and appointment inquiry` task, retrieve tools that access and query registration databases to provide appointment details based on patient ID and date parameters, ensuring relevant information is accurately returned.",
        "labels": [
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 3: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 4: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 5: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 6: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 7: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 8: Checks whether a scheduled event conflicts with existing events by evaluating the event's description and scheduled time, helping to prevent overlapping appointments or commitments.",
            "Tool 9: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 10: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 11: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 12: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 13: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 16: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 17: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 18: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 19: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely."
        ],
        "tool_view": {
            "description": "Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "parameters": {
                "patient_name": {
                    "type": "string",
                    "description": "The full name of the patient who has made the appointment.",
                    "required": true,
                    "example": "John Doe"
                },
                "appointment_time": {
                    "type": "string",
                    "description": "The scheduled time of the appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "example": "2025-12-11 14:30:00"
                }
            },
            "response": "The tool `QueryRegistration` returns a structured response containing information about a patient’s appointment registration. The response consists of the following components:\n\n1. **status**:  \n   - **Type:** string  \n   - **Meaning:** Indicates the overall result of the query. It reflects whether the query operation was successful (`success`) or if it failed (`failed`). This field provides a high-level indication of whether the requested registration information could be retrieved.  \n\n2. **registration_details**:  \n   - **Type:** string  \n   - **Meaning:** Contains detailed information about the patient’s registration. This typically includes the appointment information associated with the given patient name and appointment time, such as patient identification, appointment specifics, and any other relevant registration metadata. It serves as the main content of the response when the query is successful.  \n\nIn summary, the response provides both a status indicator of the query operation and the detailed registration information corresponding to the requested patient and appointment time.",
            "examples": [
                {
                    "user_intent": "Check the registration details for patient John Smith who has an appointment on December 31, 2025 at 10 AM.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "John Smith",
                            "appointment_time": "2025-12-31 10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I want to see if Emily Chen has any appointments scheduled for January 5, 2026 at 14:30.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "Emily Chen",
                            "appointment_time": "2026-01-05 14:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Retrieve the registration information for patient Michael Lee without specifying the appointment time.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "Michael Lee",
                            "appointment_time": null
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 3: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 4: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.\nTool 5: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 6: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 7: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 8: Checks whether a scheduled event conflicts with existing events by evaluating the event's description and scheduled time, helping to prevent overlapping appointments or commitments.\nTool 9: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 10: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 11: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 12: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 13: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 16: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 17: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 18: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 19: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\", \"parameters\": {\"patient_name\": {\"type\": \"string\", \"description\": \"The full name of the patient who has made the appointment.\", \"required\": true, \"example\": \"John Doe\"}, \"appointment_time\": {\"type\": \"string\", \"description\": \"The scheduled time of the appointment, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"example\": \"2025-12-11 14:30:00\"}}, \"response\": \"The tool `QueryRegistration` returns a structured response containing information about a patient\\u2019s appointment registration. The response consists of the following components:\\n\\n1. **status**:  \\n   - **Type:** string  \\n   - **Meaning:** Indicates the overall result of the query. It reflects whether the query operation was successful (`success`) or if it failed (`failed`). This field provides a high-level indication of whether the requested registration information could be retrieved.  \\n\\n2. **registration_details**:  \\n   - **Type:** string  \\n   - **Meaning:** Contains detailed information about the patient\\u2019s registration. This typically includes the appointment information associated with the given patient name and appointment time, such as patient identification, appointment specifics, and any other relevant registration metadata. It serves as the main content of the response when the query is successful.  \\n\\nIn summary, the response provides both a status indicator of the query operation and the detailed registration information corresponding to the requested patient and appointment time.\", \"examples\": [{\"user_intent\": \"Check the registration details for patient John Smith who has an appointment on December 31, 2025 at 10 AM.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"John Smith\", \"appointment_time\": \"2025-12-31 10:00:00\"}}}, {\"user_intent\": \"I want to see if Emily Chen has any appointments scheduled for January 5, 2026 at 14:30.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"Emily Chen\", \"appointment_time\": \"2026-01-05 14:30:00\"}}}, {\"user_intent\": \"Retrieve the registration information for patient Michael Lee without specifying the appointment time.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"Michael Lee\", \"appointment_time\": null}}}]}\n\n# User Query\nCan you check the registration of patient with ID 34567890 on March 25, 2023 and tell me about his appointments?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Check the registration details for a patient by their ID and appointment date.",
                    "tool_description": "Retrieve patient registration details by querying with a patient's identification number and appointment time, allowing users to confirm or review scheduled appointments.",
                    "expected_response": "A structured response containing the status of the query and detailed registration information for the specified patient and appointment date."
                }
            ],
            "extracted_arguments": {
                "patient_id": "A unique numeric identifier assigned to the patient.",
                "appointment_time": "The scheduled date and time of the patient's appointment."
            }
        }
    },
    {
        "id": "apibank_query_64",
        "query": "Can you please cancel my appointment with id 78901234 for August 5th, 2023 with Dr. Chen under the name Sarah Johnson?",
        "instruction": "Given an `appointment cancellation` task, retrieve tools that manage appointments by processing parameters like appointment ID, date, doctor, and patient name to cancel the specified appointment and return the status of the request.",
        "labels": [
            {
                "id": "apibank_tool_59",
                "doc": {
                    "expressions": "CancelRegistration(registration_number: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_registration.py",
                    "parameters": "(registration_number: str)",
                    "name": "CancelRegistration",
                    "description": "description = \"Cancel a registration API that takes one parameter - 'registration_number'. The 'registration_number' parameter refers to the registration number of the conference registration that needs to be cancelled.\"\ninput_parameters = {\n    'registration_number': {'type': 'str', 'description': 'The registration number of the conference registration to be cancelled.'},\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 3: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 4: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 5: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 7: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 8: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 10: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 12: Retrieve the business scope of a company by providing its name.",
            "Tool 13: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 14: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 15: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 16: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 17: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 19: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 3: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 4: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 5: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 7: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 8: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 10: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 12: Retrieve the business scope of a company by providing its name.\nTool 13: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 14: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 15: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 16: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 17: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 19: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you please cancel my appointment with id 78901234 for August 5th, 2023 with Dr. Chen under the name Sarah Johnson?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to cancel my scheduled medical appointment.",
                    "tool_description": "Cancel a specific medical appointment by providing its unique appointment ID and necessary patient identification, ensuring the appointment is removed from the schedule.",
                    "expected_response": "A status object indicating whether the cancellation was successful or failed."
                }
            ],
            "extracted_arguments": {
                "appointment_id": "The unique identifier of the medical appointment to be cancelled.",
                "patient_name": "The full name of the patient who booked the appointment.",
                "doctor_name": "The full name of the doctor with whom the appointment was scheduled.",
                "appointment_date": "The date of the appointment to be cancelled."
            }
        }
    },
    {
        "id": "apibank_query_65",
        "query": "Can you delete my account?",
        "instruction": "Given an `account deletion` task, retrieve tools that enable user account deletion by processing an authentication token to execute the request and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_2",
                "doc": {
                    "expressions": "DeleteAccount(token: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_account.py",
                    "parameters": "(token: str)",
                    "name": "DeleteAccount",
                    "description": "description = \"Delete account API that takes a token parameter which is the authentication token of the user making the deletion request.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 1: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 4: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 7: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 10: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 11: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 12: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 13: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 14: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 15: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 16: This API retrieves the definition of a word based on a provided search query.",
            "Tool 17: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content."
        ],
        "tool_view": {
            "description": "This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "The authentication token of the user making the account deletion request.",
                    "required": true,
                    "example": "abc123xyz"
                }
            },
            "response": "The tool’s response is an object that contains a single field:  \n\n- **status** (string): Indicates the outcome of the account deletion request. Its value communicates whether the operation was successful or not, typically using indicators such as `\"success\"` for a successful deletion and `\"failed\"` if the deletion could not be completed. This field serves as a simple, high-level status report of the API call.",
            "examples": [
                {
                    "user_intent": "I want to permanently delete my account from the service.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "user_abc123_securetoken"
                        }
                    }
                },
                {
                    "user_intent": "Remove my profile immediately for privacy reasons.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "privacy_request_987xyz"
                        }
                    }
                },
                {
                    "user_intent": "Deactivate my account using the API key I received after login.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "login_session_token_456def"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 1: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 4: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 7: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 10: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 11: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 12: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 13: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 14: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 15: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 16: This API retrieves the definition of a word based on a provided search query.\nTool 17: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"The authentication token of the user making the account deletion request.\", \"required\": true, \"example\": \"abc123xyz\"}}, \"response\": \"The tool\\u2019s response is an object that contains a single field:  \\n\\n- **status** (string): Indicates the outcome of the account deletion request. Its value communicates whether the operation was successful or not, typically using indicators such as `\\\"success\\\"` for a successful deletion and `\\\"failed\\\"` if the deletion could not be completed. This field serves as a simple, high-level status report of the API call.\", \"examples\": [{\"user_intent\": \"I want to permanently delete my account from the service.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"user_abc123_securetoken\"}}}, {\"user_intent\": \"Remove my profile immediately for privacy reasons.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"privacy_request_987xyz\"}}}, {\"user_intent\": \"Deactivate my account using the API key I received after login.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"login_session_token_456def\"}}}]}\n\n# User Query\nCan you delete my account?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to permanently delete my account from the service.",
                    "tool_description": "This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
                    "expected_response": "An object containing a status field indicating whether the account deletion was successful or failed."
                }
            ],
            "extracted_arguments": {
                "token": "The authentication token of the user making the account deletion request."
            }
        }
    },
    {
        "id": "apibank_query_66",
        "query": "Can you help me search artificial intelligence on wikipedia?",
        "instruction": "Given a `Wikipedia search` task, retrieve tools that facilitate information retrieval from Wikipedia by processing a keyword input to return relevant details such as the title, summary, and URL of the corresponding page.",
        "labels": [
            {
                "id": "apibank_tool_35",
                "doc": {
                    "expressions": "Wiki(keyword: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/wiki.py",
                    "parameters": "(keyword: str)",
                    "name": "Wiki",
                    "description": "description = \"Wikipedia search API that takes one parameter - 'keyword'. The 'keyword' parameter refers to the search term to be looked up on Wikipedia.\"\ninput_parameters = {\n    'keyword': {'type': 'str', 'description': 'The keyword to be searched on Wikipedia.'}\n}\noutput_parameters = {\n    'title': {'type': 'str', 'description': 'The title of the Wikipedia page matching the search term.'},\n    'summary': {'type': 'str', 'description': 'The summary of the Wikipedia page matching the search term.'},\n    'url': {'type': 'str', 'description': 'The URL of the Wikipedia page matching the search term.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 1: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 5: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.",
            "Tool 6: This API retrieves the definition of a word based on a provided search query.",
            "Tool 7: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).",
            "Tool 8: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.",
            "Tool 9: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.",
            "Tool 10: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 11: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.",
            "Tool 12: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.",
            "Tool 13: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 14: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 15: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 17: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 19: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity."
        ],
        "tool_view": {
            "description": "An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "parameters": {
                "meeting_name": {
                    "type": "string",
                    "description": "The name of the conference or a keyword that refers to the conference.",
                    "required": true,
                    "example": "AI Symposium"
                }
            },
            "response": "The tool returns a structured response containing information about conferences that match the specified `meeting_name` or keyword. The response has the following structure:\n\n- **conference_details**: A list where each element represents a single conference that matches the search criteria. Each element in the list typically contains details about the conference, such as its name, dates, location, topics, and possibly other relevant metadata. The list may be empty if no conferences match the query.  \n\nThis response allows users to programmatically access and iterate over the conferences returned by the search.",
            "examples": [
                {
                    "user_intent": "Find upcoming AI conferences that focus on natural language processing.",
                    "tool_call": {
                        "name": "AIConferenceSearch",
                        "arguments": {
                            "meeting_name": "natural language processing"
                        }
                    }
                },
                {
                    "user_intent": "I want to see a list of AI conferences happening in Europe this year.",
                    "tool_call": {
                        "name": "AIConferenceSearch",
                        "arguments": {
                            "meeting_name": "AI Europe 2026"
                        }
                    }
                },
                {
                    "user_intent": "Search for major machine learning conferences globally.",
                    "tool_call": {
                        "name": "AIConferenceSearch",
                        "arguments": {
                            "meeting_name": "machine learning"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 1: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 5: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.\nTool 6: This API retrieves the definition of a word based on a provided search query.\nTool 7: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).\nTool 8: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.\nTool 9: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.\nTool 10: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 11: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.\nTool 12: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.\nTool 13: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 14: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 15: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 17: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 19: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\", \"parameters\": {\"meeting_name\": {\"type\": \"string\", \"description\": \"The name of the conference or a keyword that refers to the conference.\", \"required\": true, \"example\": \"AI Symposium\"}}, \"response\": \"The tool returns a structured response containing information about conferences that match the specified `meeting_name` or keyword. The response has the following structure:\\n\\n- **conference_details**: A list where each element represents a single conference that matches the search criteria. Each element in the list typically contains details about the conference, such as its name, dates, location, topics, and possibly other relevant metadata. The list may be empty if no conferences match the query.  \\n\\nThis response allows users to programmatically access and iterate over the conferences returned by the search.\", \"examples\": [{\"user_intent\": \"Find upcoming AI conferences that focus on natural language processing.\", \"tool_call\": {\"name\": \"AIConferenceSearch\", \"arguments\": {\"meeting_name\": \"natural language processing\"}}}, {\"user_intent\": \"I want to see a list of AI conferences happening in Europe this year.\", \"tool_call\": {\"name\": \"AIConferenceSearch\", \"arguments\": {\"meeting_name\": \"AI Europe 2026\"}}}, {\"user_intent\": \"Search for major machine learning conferences globally.\", \"tool_call\": {\"name\": \"AIConferenceSearch\", \"arguments\": {\"meeting_name\": \"machine learning\"}}}]}\n\n# User Query\nCan you help me search artificial intelligence on wikipedia?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to search Wikipedia for information about artificial intelligence.",
                    "tool_description": "Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
                    "expected_response": "An object containing the Wikipedia page title, a brief summary of the page, and the URL to the full article."
                }
            ],
            "extracted_arguments": {
                "keyword": "The topic or term to search for on Wikipedia, as a string."
            }
        }
    },
    {
        "id": "apibank_query_67",
        "query": "Can you help me open a bank account?",
        "instruction": "Given a `bank account creation` task, retrieve tools that facilitate the opening of bank accounts by processing required user information such as account number, password, name, and email to initiate the creation process and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_25",
                "doc": {
                    "expressions": "OpenBankAccount(account: str, password: str, name: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/open_bank_account.py",
                    "parameters": "(account: str, password: str, name: str, email: str)",
                    "name": "OpenBankAccount",
                    "description": "description = \"Open bank account API that takes four parameters: 'account', 'password', 'name' and 'email'. The 'account' parameter refers to the user's bank account number, the 'password' parameter refers to the user's password for the account, the 'name' parameter refers to the user's name and 'email' parameter refers to the user's email address.\"\ninput_parameters = {\n    'account': {'type': 'str', 'description': 'The user’s bank account number.'},\n    'password': {'type': 'str', 'description': 'The password for the bank account.'},\n    'name': {'type': 'str', 'description': 'The name of the user.'},\n    'email': {'type': 'str', 'description': 'The email address of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Whether the bank account opening was successful or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 7: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 9: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 10: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 11: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 12: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 13: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 18: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 19: This API retrieves the definition of a word based on a provided search query."
        ],
        "tool_view": {
            "description": "Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "parameters": {
                "account": {
                    "type": "string",
                    "description": "The user's bank account number used to open the account.",
                    "required": true,
                    "example": "1234567890"
                },
                "password": {
                    "type": "string",
                    "description": "The password associated with the user's bank account for authentication.",
                    "required": true,
                    "example": "P@ssw0rd123"
                },
                "name": {
                    "type": "string",
                    "description": "The full name of the user opening the bank account.",
                    "required": true,
                    "example": "John Doe"
                },
                "email": {
                    "type": "string",
                    "description": "The email address of the user, used for account communication and verification.",
                    "required": true,
                    "example": "john.doe@example.com"
                }
            },
            "response": "The tool’s response consists of a single component named `status`. This field is a string that indicates the outcome of the bank account opening request. Semantically, it conveys whether the operation was successful or failed. There are no additional fields defined, so the response is expected to be a simple status message summarizing the result of the API call.",
            "examples": [
                {
                    "user_intent": "I want to open a new bank account with my details.",
                    "tool_call": {
                        "name": "OpenBankAccount",
                        "arguments": {
                            "account": "6222021234567890",
                            "password": "SecurePass!2025",
                            "name": "Li Wei",
                            "email": "li.wei@example.com"
                        }
                    }
                },
                {
                    "user_intent": "Register a new account for my friend Zhang Hua using his email.",
                    "tool_call": {
                        "name": "OpenBankAccount",
                        "arguments": {
                            "account": "6222029876543210",
                            "password": "ZhangH2025#",
                            "name": "Zhang Hua",
                            "email": "zhang.hua@example.com"
                        }
                    }
                },
                {
                    "user_intent": "Set up a bank account for my business partner, Wang Mei.",
                    "tool_call": {
                        "name": "OpenBankAccount",
                        "arguments": {
                            "account": "6222025556667777",
                            "password": "WangMei$123",
                            "name": "Wang Mei",
                            "email": "wang.mei@businessmail.com"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 7: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 9: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 10: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 11: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 12: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 13: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 18: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 19: This API retrieves the definition of a word based on a provided search query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\", \"parameters\": {\"account\": {\"type\": \"string\", \"description\": \"The user's bank account number used to open the account.\", \"required\": true, \"example\": \"1234567890\"}, \"password\": {\"type\": \"string\", \"description\": \"The password associated with the user's bank account for authentication.\", \"required\": true, \"example\": \"P@ssw0rd123\"}, \"name\": {\"type\": \"string\", \"description\": \"The full name of the user opening the bank account.\", \"required\": true, \"example\": \"John Doe\"}, \"email\": {\"type\": \"string\", \"description\": \"The email address of the user, used for account communication and verification.\", \"required\": true, \"example\": \"john.doe@example.com\"}}, \"response\": \"The tool\\u2019s response consists of a single component named `status`. This field is a string that indicates the outcome of the bank account opening request. Semantically, it conveys whether the operation was successful or failed. There are no additional fields defined, so the response is expected to be a simple status message summarizing the result of the API call.\", \"examples\": [{\"user_intent\": \"I want to open a new bank account with my details.\", \"tool_call\": {\"name\": \"OpenBankAccount\", \"arguments\": {\"account\": \"6222021234567890\", \"password\": \"SecurePass!2025\", \"name\": \"Li Wei\", \"email\": \"li.wei@example.com\"}}}, {\"user_intent\": \"Register a new account for my friend Zhang Hua using his email.\", \"tool_call\": {\"name\": \"OpenBankAccount\", \"arguments\": {\"account\": \"6222029876543210\", \"password\": \"ZhangH2025#\", \"name\": \"Zhang Hua\", \"email\": \"zhang.hua@example.com\"}}}, {\"user_intent\": \"Set up a bank account for my business partner, Wang Mei.\", \"tool_call\": {\"name\": \"OpenBankAccount\", \"arguments\": {\"account\": \"6222025556667777\", \"password\": \"WangMei$123\", \"name\": \"Wang Mei\", \"email\": \"wang.mei@businessmail.com\"}}}]}\n\n# User Query\nCan you help me open a bank account?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to open a new bank account with my details.",
                    "tool_description": "Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
                    "expected_response": "A status message indicating whether the bank account was successfully created or failed."
                }
            ],
            "extracted_arguments": {
                "account": "The user's bank account number used to open the account.",
                "password": "The password associated with the user's bank account for authentication.",
                "name": "The full name of the user opening the bank account.",
                "email": "The email address of the user, used for account communication and verification."
            }
        }
    },
    {
        "id": "apibank_query_68",
        "query": "Can you cancel a timer for my smart device?",
        "instruction": "Given a `timer cancellation` task, retrieve tools that facilitate smart device management by using input parameters such as device ID and scheduled switch time to perform the cancellation of a timed event, subsequently providing the operation status.",
        "labels": [
            {
                "id": "apibank_tool_69",
                "doc": {
                    "expressions": "CancelTimedSwitch(device_id: str, switch_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_timed_switch.py",
                    "parameters": "(device_id: str, switch_time: datetime)",
                    "name": "CancelTimedSwitch",
                    "description": "description = \"API for canceling a timed switch on a device using its 'device ID' and 'switch time' input parameters.\"\ninput_parameters = {\n    'device_id': {'type': 'str', 'description': 'The ID of the device for which the timed switch needs to be cancelled.'},\n    'switch_time': {'type': 'datetime', 'description': 'The time of the scheduled switch. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'The status of the API call - success or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 1: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Send commands to a specific device by providing its unique identifier and the action to execute, allowing real-time control of the device and receiving a status response indicating success or failure.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 6: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 7: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 8: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 9: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 10: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 12: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 13: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.",
            "Tool 14: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 15: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 16: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 17: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 18: Generates a caption for a given image.",
            "Tool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference."
        ],
        "tool_view": {
            "description": "Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "parameters": {
                "device_type": {
                    "type": "string",
                    "description": "The type of the device to be queried.",
                    "required": true,
                    "example": "light"
                },
                "room": {
                    "type": "string",
                    "description": "The room where the device is located.",
                    "required": true,
                    "example": "living room"
                }
            },
            "response": "The tool’s response is structured as an object with two main fields:  \n\n1. **`status`** – A string indicating the outcome of the query. It typically conveys whether the request was successfully processed (`success`) or if there was an error or failure in retrieving the information (`failed`). This field serves as a high-level indicator of the operation’s success.  \n\n2. **`result`** – A string containing the actual information retrieved about the specified smart home device. This field provides the query result corresponding to the input parameters (`device_type` and `room`) and may include the device’s current state, configuration, or other relevant details depending on the query.  \n\nIn principle, the response communicates both the success status of the query and the associated device information in a concise, textual form.",
            "examples": [
                {
                    "user_intent": "Check the status of the air conditioner in the living room.",
                    "tool_call": {
                        "name": "QuerySmartHome",
                        "arguments": {
                            "device_type": "air conditioner",
                            "room": "living room"
                        }
                    }
                },
                {
                    "user_intent": "I want to see if the bedroom lights are on.",
                    "tool_call": {
                        "name": "QuerySmartHome",
                        "arguments": {
                            "device_type": "light",
                            "room": "bedroom"
                        }
                    }
                },
                {
                    "user_intent": "Get the current reading from the kitchen temperature sensor.",
                    "tool_call": {
                        "name": "QuerySmartHome",
                        "arguments": {
                            "device_type": "temperature sensor",
                            "room": "kitchen"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 1: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Send commands to a specific device by providing its unique identifier and the action to execute, allowing real-time control of the device and receiving a status response indicating success or failure.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 6: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 7: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 8: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 9: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 10: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 12: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 13: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\nTool 14: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 15: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 16: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 17: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 18: Generates a caption for a given image.\nTool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\", \"parameters\": {\"device_type\": {\"type\": \"string\", \"description\": \"The type of the device to be queried.\", \"required\": true, \"example\": \"light\"}, \"room\": {\"type\": \"string\", \"description\": \"The room where the device is located.\", \"required\": true, \"example\": \"living room\"}}, \"response\": \"The tool\\u2019s response is structured as an object with two main fields:  \\n\\n1. **`status`** \\u2013 A string indicating the outcome of the query. It typically conveys whether the request was successfully processed (`success`) or if there was an error or failure in retrieving the information (`failed`). This field serves as a high-level indicator of the operation\\u2019s success.  \\n\\n2. **`result`** \\u2013 A string containing the actual information retrieved about the specified smart home device. This field provides the query result corresponding to the input parameters (`device_type` and `room`) and may include the device\\u2019s current state, configuration, or other relevant details depending on the query.  \\n\\nIn principle, the response communicates both the success status of the query and the associated device information in a concise, textual form.\", \"examples\": [{\"user_intent\": \"Check the status of the air conditioner in the living room.\", \"tool_call\": {\"name\": \"QuerySmartHome\", \"arguments\": {\"device_type\": \"air conditioner\", \"room\": \"living room\"}}}, {\"user_intent\": \"I want to see if the bedroom lights are on.\", \"tool_call\": {\"name\": \"QuerySmartHome\", \"arguments\": {\"device_type\": \"light\", \"room\": \"bedroom\"}}}, {\"user_intent\": \"Get the current reading from the kitchen temperature sensor.\", \"tool_call\": {\"name\": \"QuerySmartHome\", \"arguments\": {\"device_type\": \"temperature sensor\", \"room\": \"kitchen\"}}}]}\n\n# User Query\nCan you cancel a timer for my smart device?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Cancel a scheduled timed action for my smart device.",
                    "tool_description": "Cancel a scheduled timed switch on a smart home device by specifying its unique device identifier and the scheduled time, preventing the automated action from executing.",
                    "expected_response": "A status response indicating whether the cancellation of the scheduled timer was successful or failed."
                }
            ],
            "extracted_arguments": {
                "device_id": "The unique identifier of the smart device for which the timer is set.",
                "scheduled_time": "The specific date and time at which the device's timer was scheduled to execute."
            }
        }
    },
    {
        "id": "apibank_query_69",
        "query": "Can you please query the Morning Routine scene for me?",
        "instruction": "Given a `scene query` task, retrieve tools that can access and provide detailed information about specific scenes by processing a scene name and returning comprehensive scene data, including relevant attributes and descriptions.",
        "labels": [
            {
                "id": "apibank_tool_67",
                "doc": {
                    "expressions": "QueryScene(scene_name: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_scene.py",
                    "parameters": "(scene_name: str)",
                    "name": "QueryScene",
                    "description": "description = \"API to query a specific 'scene' by providing a 'scene_name'.\"\ninput_parameters = {\n    'scene_name': {'type': 'str', 'description': 'The name of the scene to be queried.'}\n}\noutput_parameters = {\n    'scene_info': {'type': 'dict', 'description': 'A dictionary containing the information about the queried scene.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 1: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: This API retrieves the definition of a word based on a provided search query.",
            "Tool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 7: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 9: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 10: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 11: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.",
            "Tool 12: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 15: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 16: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 17: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "parameters": {
                "scene_name": {
                    "type": "string",
                    "description": "The name of the scene to be queried using the API.",
                    "required": true,
                    "default": null,
                    "example": "city_park"
                }
            },
            "response": "The tool `QueryScene` returns a single response object named `scene_info`. This response is a dictionary that contains detailed information about the scene specified by the `scene_name` parameter. Each key in the dictionary represents an attribute or property of the queried scene, and the corresponding value provides the relevant data for that attribute. The dictionary as a whole encapsulates all available metadata or characteristics of the scene, allowing the caller to access comprehensive information about it.  \n\nIn summary:  \n\n- **scene_info**: A dictionary containing all relevant details of the queried scene.  \n  - **Keys**: Represent individual attributes or properties of the scene.  \n  - **Values**: Provide the corresponding data for each attribute.  \n\nThe structure is flexible to accommodate multiple types of scene-related information, but the exact keys and their meanings depend on the scene data stored in the backend.",
            "examples": [
                {
                    "user_intent": "Can you provide information about the 'sunset beach' scene?",
                    "tool_call": {
                        "name": "QueryScene",
                        "arguments": {
                            "scene_name": "sunset beach"
                        }
                    }
                },
                {
                    "user_intent": "I need details on the 'mountain view' scene for my project.",
                    "tool_call": {
                        "name": "QueryScene",
                        "arguments": {
                            "scene_name": "mountain view"
                        }
                    }
                },
                {
                    "user_intent": "Give me the data for the 'city skyline' scene.",
                    "tool_call": {
                        "name": "QueryScene",
                        "arguments": {
                            "scene_name": "city skyline"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 1: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: This API retrieves the definition of a word based on a provided search query.\nTool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 7: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 9: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 10: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 11: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.\nTool 12: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 15: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 16: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 17: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\", \"parameters\": {\"scene_name\": {\"type\": \"string\", \"description\": \"The name of the scene to be queried using the API.\", \"required\": true, \"default\": null, \"example\": \"city_park\"}}, \"response\": \"The tool `QueryScene` returns a single response object named `scene_info`. This response is a dictionary that contains detailed information about the scene specified by the `scene_name` parameter. Each key in the dictionary represents an attribute or property of the queried scene, and the corresponding value provides the relevant data for that attribute. The dictionary as a whole encapsulates all available metadata or characteristics of the scene, allowing the caller to access comprehensive information about it.  \\n\\nIn summary:  \\n\\n- **scene_info**: A dictionary containing all relevant details of the queried scene.  \\n  - **Keys**: Represent individual attributes or properties of the scene.  \\n  - **Values**: Provide the corresponding data for each attribute.  \\n\\nThe structure is flexible to accommodate multiple types of scene-related information, but the exact keys and their meanings depend on the scene data stored in the backend.\", \"examples\": [{\"user_intent\": \"Can you provide information about the 'sunset beach' scene?\", \"tool_call\": {\"name\": \"QueryScene\", \"arguments\": {\"scene_name\": \"sunset beach\"}}}, {\"user_intent\": \"I need details on the 'mountain view' scene for my project.\", \"tool_call\": {\"name\": \"QueryScene\", \"arguments\": {\"scene_name\": \"mountain view\"}}}, {\"user_intent\": \"Give me the data for the 'city skyline' scene.\", \"tool_call\": {\"name\": \"QueryScene\", \"arguments\": {\"scene_name\": \"city skyline\"}}}]}\n\n# User Query\nCan you please query the Morning Routine scene for me?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Can you provide information about the 'Morning Routine' scene?",
                    "tool_description": "Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
                    "expected_response": "A dictionary containing all relevant details of the queried scene, with keys representing scene attributes and values providing the corresponding data."
                }
            ],
            "extracted_arguments": {
                "scene_name": "The name of the scene to be queried using the API."
            }
        }
    },
    {
        "id": "apibank_query_70",
        "query": "Can you help me check a meeting on March 20th from 2 PM to 4 PM in Conference Room A for a Sales Meeting with John Smith and Jane Doe attending?",
        "instruction": "Given a `meeting scheduling` task, retrieve tools that facilitate querying meeting details and attendees by utilizing parameters such as date, time, location, and participants to provide comprehensive meeting information.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_12",
                "doc": {
                    "expressions": "QueryMeeting(token: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_meeting.py",
                    "parameters": "(token: str)",
                    "name": "QueryMeeting",
                    "description": "description = \"Query meeting API that takes one parameter - 'token'. The 'token' parameter refers to the authentication token to access the user's data.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token.'}\n}\noutput_parameters = {\n    'meeting_list': {'type': 'list', 'description': 'A list of meetings scheduled by the user.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 1: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 2: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 5: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 6: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 7: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 8: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 9: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 10: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 12: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 13: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 14: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 15: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 16: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 17: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.",
            "Tool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 19: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed."
        ],
        "tool_view": {
            "description": "Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "parameters": {
                "meeting_id": {
                    "type": "int",
                    "description": "The unique identifier of the meeting that needs to be modified.",
                    "required": true,
                    "example": 12345
                },
                "content": {
                    "type": "string",
                    "description": "The updated description or content of the meeting.",
                    "required": true,
                    "example": "Discuss Q1 financial report"
                },
                "time": {
                    "type": "string",
                    "description": "The new scheduled time for the meeting in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-20"
                },
                "attendees": {
                    "type": "list",
                    "description": "A list of email addresses representing the new attendees invited to the meeting.",
                    "required": true,
                    "example": [
                        "alice@example.com",
                        "bob@example.com"
                    ]
                }
            },
            "response": "The tool returns a response object containing a single field:\n\n- **status** (`str`): Indicates the result of the meeting modification operation. Its value will describe whether the request succeeded or failed, typically using strings such as `\"success\"` for a successful update or `\"failed\"` if the modification could not be completed. This field communicates the overall outcome of the API call but does not include detailed error messages or additional metadata.",
            "examples": [
                {
                    "user_intent": "Update the team meeting to discuss the Q1 report and change the date to February 15th, 2026, inviting Alice and Bob.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 1023,
                            "content": "Discuss Q1 report",
                            "time": "2026-02-15",
                            "attendees": [
                                "alice@example.com",
                                "bob@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Reschedule my project sync to March 1st, 2026, and update attendees to include Carol and Dave.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 2045,
                            "time": "2026-03-01",
                            "attendees": [
                                "carol@example.com",
                                "dave@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Change the content of meeting 3098 to cover the new marketing strategy without changing the date or attendees.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 3098,
                            "content": "Review new marketing strategy"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 1: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 2: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 5: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.\nTool 6: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 7: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 8: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 9: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 10: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 12: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 13: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 14: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 15: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 16: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 17: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.\nTool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 19: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\", \"parameters\": {\"meeting_id\": {\"type\": \"int\", \"description\": \"The unique identifier of the meeting that needs to be modified.\", \"required\": true, \"example\": 12345}, \"content\": {\"type\": \"string\", \"description\": \"The updated description or content of the meeting.\", \"required\": true, \"example\": \"Discuss Q1 financial report\"}, \"time\": {\"type\": \"string\", \"description\": \"The new scheduled time for the meeting in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-20\"}, \"attendees\": {\"type\": \"list\", \"description\": \"A list of email addresses representing the new attendees invited to the meeting.\", \"required\": true, \"example\": [\"alice@example.com\", \"bob@example.com\"]}}, \"response\": \"The tool returns a response object containing a single field:\\n\\n- **status** (`str`): Indicates the result of the meeting modification operation. Its value will describe whether the request succeeded or failed, typically using strings such as `\\\"success\\\"` for a successful update or `\\\"failed\\\"` if the modification could not be completed. This field communicates the overall outcome of the API call but does not include detailed error messages or additional metadata.\", \"examples\": [{\"user_intent\": \"Update the team meeting to discuss the Q1 report and change the date to February 15th, 2026, inviting Alice and Bob.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 1023, \"content\": \"Discuss Q1 report\", \"time\": \"2026-02-15\", \"attendees\": [\"alice@example.com\", \"bob@example.com\"]}}}, {\"user_intent\": \"Reschedule my project sync to March 1st, 2026, and update attendees to include Carol and Dave.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 2045, \"time\": \"2026-03-01\", \"attendees\": [\"carol@example.com\", \"dave@example.com\"]}}}, {\"user_intent\": \"Change the content of meeting 3098 to cover the new marketing strategy without changing the date or attendees.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 3098, \"content\": \"Review new marketing strategy\"}}}]}\n\n# User Query\nCan you help me check a meeting on March 20th from 2 PM to 4 PM in Conference Room A for a Sales Meeting with John Smith and Jane Doe attending?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Find details of a scheduled meeting based on date, time, location, and participants.",
                    "tool_description": "Query the system for a meeting matching the specified date, time range, location, and attendee names.",
                    "expected_response": "Details of the meeting including meeting ID, content, time, location, and list of attendees if found; otherwise, a not found status."
                }
            ],
            "extracted_arguments": {
                "date": "The specific calendar date of the meeting to be checked, in YYYY-MM-DD format.",
                "time_range": "The time interval during which the meeting is scheduled, including start and end times.",
                "location": "The designated room or venue where the meeting is held.",
                "attendees": "A list of full names or identifiers of participants expected to attend the meeting.",
                "meeting_subject": "The description or topic of the meeting to be checked."
            }
        }
    },
    {
        "id": "apibank_query_71",
        "query": "Can you help me reschedule my appointment with Dr. Smith on April 12th, 2023?",
        "instruction": "Given an `appointment rescheduling` task, retrieve tools that manage scheduling operations by processing parameters like identification numbers and new appointment times, to adjust existing appointments and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 5: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 6: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 7: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 11: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 14: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 15: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 17: This API retrieves the definition of a word based on a provided search query.",
            "Tool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 5: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 6: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 7: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 11: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 14: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 15: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 17: This API retrieves the definition of a word based on a provided search query.\nTool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you help me reschedule my appointment with Dr. Smith on April 12th, 2023?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to update the time of an existing medical appointment.",
                    "tool_description": "Update the appointment time for an existing registration by providing its identification number and the new desired date and time.",
                    "expected_response": "An object indicating whether the appointment update was successful, including status and any relevant messages."
                }
            ],
            "extracted_arguments": {
                "appointment_id": "The unique identifier of the existing appointment to be rescheduled.",
                "new_date_time": "The new desired date and time for the appointment."
            }
        }
    },
    {
        "id": "apibank_query_72",
        "query": "I forgot my password, can you help me reset it?",
        "instruction": "Given a `password reset` task, retrieve tools that facilitate the resetting of an account password by processing user credentials such as username and email, and returning the status of the reset operation.",
        "labels": [
            {
                "id": "apibank_tool_2",
                "doc": {
                    "expressions": "DeleteAccount(token: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_account.py",
                    "parameters": "(token: str)",
                    "name": "DeleteAccount",
                    "description": "description = \"Delete account API that takes a token parameter which is the authentication token of the user making the deletion request.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_4",
                "doc": {
                    "expressions": "ForgotPassword(username: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/forgot_password.py",
                    "parameters": "(username: str, email: str)",
                    "name": "ForgotPassword",
                    "description": "description = \"Forgot Password API that takes two parameters - 'username' and 'email'. The 'username' parameter refers to the username of the account for which the password is forgotten and the 'email' parameter specifies the email address associated with the account.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the account.'},\n    'email': {'type': 'str', 'description': 'The email address associated with the account.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_1",
                "doc": {
                    "expressions": "RegisterUser(username: str, password: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/register_user.py",
                    "parameters": "(username: str, password: str, email: str)",
                    "name": "RegisterUser",
                    "description": "description = \"API to register a new user with their username, password, and email.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the new user.'},\n    'password': {'type': 'str', 'description': 'The password of the new user.'},\n    'email': {'type': 'str', 'description': 'The email of the new user.'},\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.",
            "Tool 4: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 5: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 7: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 9: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 18: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 19: This API retrieves the definition of a word based on a provided search query."
        ],
        "tool_view": {
            "description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "parameters": {
                "old_password": {
                    "type": "string",
                    "description": "The user's current password that needs to be verified before changing to a new password.",
                    "required": true,
                    "example": "currentPass123"
                },
                "new_password": {
                    "type": "string",
                    "description": "The new password that will replace the existing password for the user account.",
                    "required": true,
                    "example": "newSecurePass456"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \"success\" to indicate the password was changed successfully, or \"failed\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \n\nThis response provides a concise confirmation of the result of the password update request.",
            "examples": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "Summer2025!",
                            "new_password": "Winter2025#Secure"
                        }
                    }
                },
                {
                    "user_intent": "Reset my password because I think my current one is compromised.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "MyOldPass123",
                            "new_password": "SafePass!789"
                        }
                    }
                },
                {
                    "user_intent": "Update my login credentials to a stronger password for better security.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "password2025",
                            "new_password": "StrongerPass#2025"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.\nTool 4: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 5: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 7: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 9: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 18: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 19: This API retrieves the definition of a word based on a provided search query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\", \"parameters\": {\"old_password\": {\"type\": \"string\", \"description\": \"The user's current password that needs to be verified before changing to a new password.\", \"required\": true, \"example\": \"currentPass123\"}, \"new_password\": {\"type\": \"string\", \"description\": \"The new password that will replace the existing password for the user account.\", \"required\": true, \"example\": \"newSecurePass456\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \\\"success\\\" to indicate the password was changed successfully, or \\\"failed\\\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \\n\\nThis response provides a concise confirmation of the result of the password update request.\", \"examples\": [{\"user_intent\": \"I want to change my account password from my old one to a new secure password.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"Summer2025!\", \"new_password\": \"Winter2025#Secure\"}}}, {\"user_intent\": \"Reset my password because I think my current one is compromised.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"MyOldPass123\", \"new_password\": \"SafePass!789\"}}}, {\"user_intent\": \"Update my login credentials to a stronger password for better security.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"password2025\", \"new_password\": \"StrongerPass#2025\"}}}]}\n\n# User Query\nI forgot my password, can you help me reset it?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to initiate a password recovery for my account because I forgot my password.",
                    "tool_description": "Submit a password recovery request by providing the account's username and associated email, triggering a process to reset the forgotten password.",
                    "expected_response": "A status message indicating whether the password recovery request was successfully initiated or failed."
                }
            ],
            "extracted_arguments": {
                "username": "The account's username that identifies the user requesting password recovery.",
                "email": "The email address associated with the account used to verify identity for password reset."
            }
        }
    },
    {
        "id": "apibank_query_73",
        "query": "Can you check my account balance, please?",
        "instruction": "Given an `account balance inquiry` task, retrieve tools that access and manage bank account information by processing user identification details and authentication credentials to obtain and provide current account balance data.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_25",
                "doc": {
                    "expressions": "OpenBankAccount(account: str, password: str, name: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/open_bank_account.py",
                    "parameters": "(account: str, password: str, name: str, email: str)",
                    "name": "OpenBankAccount",
                    "description": "description = \"Open bank account API that takes four parameters: 'account', 'password', 'name' and 'email'. The 'account' parameter refers to the user's bank account number, the 'password' parameter refers to the user's password for the account, the 'name' parameter refers to the user's name and 'email' parameter refers to the user's email address.\"\ninput_parameters = {\n    'account': {'type': 'str', 'description': 'The user’s bank account number.'},\n    'password': {'type': 'str', 'description': 'The password for the bank account.'},\n    'name': {'type': 'str', 'description': 'The name of the user.'},\n    'email': {'type': 'str', 'description': 'The email address of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Whether the bank account opening was successful or failed.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_31",
                "doc": {
                    "expressions": "QueryStock(stock_code: str, time: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_stock.py",
                    "parameters": "(stock_code: str, time: datetime)",
                    "name": "QueryStock",
                    "description": "description = \"Query stock API that takes two parameters - 'stock_code' and 'time'. The 'stock_code' parameter refers to the code of the stock and the 'time' parameter specifies the time for fetching the stock data.\"\ninput_parameters = {\n    'stock_code': {'type': 'str', 'description': 'The code of the stock.'},\n    'time': {'type': 'str', 'description': 'The time for fetching the stock data. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'stock_data': {'type': 'json', 'description': 'JSON object containing the stock data.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 4: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 5: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 11: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 12: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 13: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 14: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 15: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 16: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "parameters": {
                "account": {
                    "type": "string",
                    "description": "The identifier of the account to query the balance for.",
                    "required": true,
                    "default": null,
                    "example": "1234567890"
                }
            },
            "response": "The tool returns a single response object containing information about the account's current balance. The structure of the response is as follows:\n\n- **balance**: A numeric field of type float representing the monetary balance of the specified account. This value indicates how much is currently available or held in the account identified by the `account` parameter.  \n\nNo additional fields are specified, so the response consists solely of this balance information.",
            "examples": [
                {
                    "user_intent": "I want to check the current balance of my savings account with ID 987654321.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "987654321"
                        }
                    }
                },
                {
                    "user_intent": "Show me the balance for my business account 'BUS12345'.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "BUS12345"
                        }
                    }
                },
                {
                    "user_intent": "Retrieve the balance for account number A10001 before making a payment.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "A10001"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 4: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 5: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 11: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 12: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 13: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 14: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 15: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 16: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\", \"parameters\": {\"account\": {\"type\": \"string\", \"description\": \"The identifier of the account to query the balance for.\", \"required\": true, \"default\": null, \"example\": \"1234567890\"}}, \"response\": \"The tool returns a single response object containing information about the account's current balance. The structure of the response is as follows:\\n\\n- **balance**: A numeric field of type float representing the monetary balance of the specified account. This value indicates how much is currently available or held in the account identified by the `account` parameter.  \\n\\nNo additional fields are specified, so the response consists solely of this balance information.\", \"examples\": [{\"user_intent\": \"I want to check the current balance of my savings account with ID 987654321.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"987654321\"}}}, {\"user_intent\": \"Show me the balance for my business account 'BUS12345'.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"BUS12345\"}}}, {\"user_intent\": \"Retrieve the balance for account number A10001 before making a payment.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"A10001\"}}}]}\n\n# User Query\nCan you check my account balance, please?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check the current balance of my account.",
                    "tool_description": "Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
                    "expected_response": "A response object containing the numeric balance of the specified account."
                }
            ],
            "extracted_arguments": {
                "account": "The identifier of the account to query the balance for."
            }
        }
    },
    {
        "id": "apibank_query_74",
        "query": "Can you help me book an appointment with Dr. Smith?",
        "instruction": "Given an `appointment booking` task, retrieve tools that facilitate scheduling appointments by processing inputs such as patient name, doctor name, and appointment time to ensure a successful booking and return the status of the reservation.",
        "labels": [
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 5: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 6: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 7: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 8: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 9: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 11: This API retrieves the definition of a word based on a provided search query.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents."
        ],
        "tool_view": {
            "description": "Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "parameters": {
                "patient_name": {
                    "type": "string",
                    "description": "The full name of the patient who wants to register an appointment.",
                    "required": true,
                    "default": null,
                    "example": "John Doe"
                },
                "doctor_name": {
                    "type": "string",
                    "description": "The full name of the doctor who will handle the appointment.",
                    "required": true,
                    "default": null,
                    "example": "Dr. Smith"
                },
                "appointment_time": {
                    "type": "string",
                    "description": "The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "default": null,
                    "example": "2025-12-20 14:30:00"
                }
            },
            "response": "The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \n\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\"success\"` if the appointment was successfully registered, or `\"failed\"` if the registration did not go through.  \n\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.",
            "examples": [
                {
                    "user_intent": "I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "John Doe",
                            "doctor_name": "Dr. Smith",
                            "appointment_time": "2026-01-05 10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Emily Clark",
                            "doctor_name": "Dr. Patel",
                            "appointment_time": "2026-02-15 14:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Michael Johnson",
                            "doctor_name": "Dr. Lee",
                            "appointment_time": "2026-01-31 09:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 5: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 6: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 7: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 8: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 9: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 11: This API retrieves the definition of a word based on a provided search query.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\", \"parameters\": {\"patient_name\": {\"type\": \"string\", \"description\": \"The full name of the patient who wants to register an appointment.\", \"required\": true, \"default\": null, \"example\": \"John Doe\"}, \"doctor_name\": {\"type\": \"string\", \"description\": \"The full name of the doctor who will handle the appointment.\", \"required\": true, \"default\": null, \"example\": \"Dr. Smith\"}, \"appointment_time\": {\"type\": \"string\", \"description\": \"The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"default\": null, \"example\": \"2025-12-20 14:30:00\"}}, \"response\": \"The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \\n\\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\\\"success\\\"` if the appointment was successfully registered, or `\\\"failed\\\"` if the registration did not go through.  \\n\\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.\", \"examples\": [{\"user_intent\": \"I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"John Doe\", \"doctor_name\": \"Dr. Smith\", \"appointment_time\": \"2026-01-05 10:00:00\"}}}, {\"user_intent\": \"Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Emily Clark\", \"doctor_name\": \"Dr. Patel\", \"appointment_time\": \"2026-02-15 14:30:00\"}}}, {\"user_intent\": \"Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Michael Johnson\", \"doctor_name\": \"Dr. Lee\", \"appointment_time\": \"2026-01-31 09:00:00\"}}}]}\n\n# User Query\nCan you help me book an appointment with Dr. Smith?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to schedule an appointment with Dr. Smith.",
                    "tool_description": "Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
                    "expected_response": "A response object indicating whether the appointment registration was successful or failed."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient who wants to register an appointment.",
                "doctor_name": "The full name of the doctor who will handle the appointment.",
                "appointment_time": "The date and time for the appointment, formatted as a string."
            }
        }
    },
    {
        "id": "apibank_query_75",
        "query": "Can you tell me about my history for today, please?",
        "instruction": "Given a `historical query` task, retrieve tools that process date inputs to provide a list of historical events or personal history corresponding to the specified date.",
        "labels": [
            {
                "id": "apibank_tool_33",
                "doc": {
                    "expressions": "QueryHistoryToday(date: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_history_today.py",
                    "parameters": "(date: datetime)",
                    "name": "QueryHistoryToday",
                    "description": "description = \"QueryHistoryToday API takes one parameter 'date'. The parameter 'date' refers to the date for which historical events are to be queried.\"\ninput_parameters = {\n    'date': {'type': 'str', 'description': 'The date for which historical events are to be queried. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'events': {'type': 'list', 'description': 'List of historical events that occurred on the given date.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 1: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 5: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 6: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 7: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 9: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 11: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 12: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 13: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 18: Generates a caption for a given image.",
            "Tool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content."
        ],
        "tool_view": {
            "description": "Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "parameters": {},
            "response": "The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\n\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system’s task model. The list may be empty if there are no incomplete tasks for the day.",
            "examples": [
                {
                    "user_intent": "Show me all the tasks I still need to complete today.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "I want to check my pending tasks for today before my meeting.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "List all unfinished tasks scheduled for today so I can prioritize them.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 1: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 5: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 6: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 7: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 9: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 11: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 12: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 13: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 18: Generates a caption for a given image.\nTool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\", \"parameters\": {}, \"response\": \"The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\\n\\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system\\u2019s task model. The list may be empty if there are no incomplete tasks for the day.\", \"examples\": [{\"user_intent\": \"Show me all the tasks I still need to complete today.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"I want to check my pending tasks for today before my meeting.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"List all unfinished tasks scheduled for today so I can prioritize them.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}]}\n\n# User Query\nCan you tell me about my history for today, please?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know about events or tasks from today.",
                    "tool_description": "Retrieve a list of historical events or tasks scheduled for today, providing a summary of what has happened or is planned for today.",
                    "expected_response": "A list of tasks scheduled for today that have not yet been completed, including their titles, descriptions, statuses, due times, or other relevant metadata."
                }
            ],
            "extracted_arguments": {}
        }
    },
    {
        "id": "apibank_query_76",
        "query": "Can you calculate (5+6)*3 for me?",
        "instruction": "Given a `arithmetic calculation` task, retrieve tools that perform computations on mathematical expressions provided in infix notation by processing the input expression to return the calculated result.",
        "labels": [
            {
                "id": "apibank_tool_53",
                "doc": {
                    "expressions": "Calculator(infix_expression: str)",
                    "category": "获取信息 - 工具",
                    "path": "apis/calculator.py",
                    "parameters": "(infix_expression: str)",
                    "name": "Calculator",
                    "description": "description = \"An API to perform arithmetic calculations on an infix expression.\"\ninput_parameters = {\n    'infix_expression': {'type': 'str', 'description': \"A string representing an arithmetic expression in infix notation.\"}\n}\noutput_parameters = {\n    'result': {'type': 'float/int', 'description': 'Result of the arithmetic expression.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 3: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: This API retrieves the definition of a word based on a provided search query."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 3: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: This API retrieves the definition of a word based on a provided search query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you calculate (5+6)*3 for me?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to calculate a mathematical expression.",
                    "tool_description": "Perform a mathematical operation based on the given expression.",
                    "expected_response": "The result of the calculated expression."
                }
            ],
            "extracted_arguments": {
                "expression": "The mathematical expression to be evaluated."
            }
        }
    },
    {
        "id": "apibank_query_77",
        "query": "Can you record my health data?",
        "instruction": "Given a `health data recording` task, retrieve tools that can record user-specific health information by processing inputs such as user ID, date, and health data to store the data and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 5: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 7: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user whose health history is being recorded.",
                    "required": true,
                    "example": "12345"
                },
                "date": {
                    "type": "string",
                    "description": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                },
                "health_data": {
                    "type": "object",
                    "description": "An object containing the health data that is being recorded for the user.",
                    "required": true,
                    "example": {
                        "weight": 70,
                        "blood_pressure": "120/80",
                        "heart_rate": 72
                    }
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\n\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\"success\"` if the health data was recorded correctly, or `\"failed\"` if there was an error or the operation did not complete as intended.  \n\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action’s result.",
            "examples": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for user 1001.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "1001",
                            "date": "2025-12-30",
                            "health_data": {
                                "blood_pressure": "120/80",
                                "heart_rate": 72
                            }
                        }
                    }
                },
                {
                    "user_intent": "Add yesterday's step count and sleep hours for user A42.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "A42",
                            "date": "2025-12-29",
                            "health_data": {
                                "steps": 8500,
                                "sleep_hours": 7.5
                            }
                        }
                    }
                },
                {
                    "user_intent": "Log user 78's weight and body temperature for today.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "78",
                            "date": "2025-12-30",
                            "health_data": {
                                "weight_kg": 68.2,
                                "body_temperature_c": 36.6
                            }
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 5: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 7: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Record and store a user\\u2019s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user whose health history is being recorded.\", \"required\": true, \"example\": \"12345\"}, \"date\": {\"type\": \"string\", \"description\": \"The date when the health data was recorded, in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}, \"health_data\": {\"type\": \"object\", \"description\": \"An object containing the health data that is being recorded for the user.\", \"required\": true, \"example\": {\"weight\": 70, \"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\\n\\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\\\"success\\\"` if the health data was recorded correctly, or `\\\"failed\\\"` if there was an error or the operation did not complete as intended.  \\n\\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action\\u2019s result.\", \"examples\": [{\"user_intent\": \"Record today's blood pressure and heart rate for user 1001.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"1001\", \"date\": \"2025-12-30\", \"health_data\": {\"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}}, {\"user_intent\": \"Add yesterday's step count and sleep hours for user A42.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"A42\", \"date\": \"2025-12-29\", \"health_data\": {\"steps\": 8500, \"sleep_hours\": 7.5}}}}, {\"user_intent\": \"Log user 78's weight and body temperature for today.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"78\", \"date\": \"2025-12-30\", \"health_data\": {\"weight_kg\": 68.2, \"body_temperature_c\": 36.6}}}}]}\n\n# User Query\nCan you record my health data?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Record the user's health data for tracking purposes.",
                    "tool_description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
                    "expected_response": "A structured object indicating whether the health data recording operation was successful or failed."
                }
            ],
            "extracted_arguments": {
                "user_id": "The unique identifier of the user whose health history is being recorded.",
                "date": "The date when the health data is being recorded, in the format YYYY-MM-DD.",
                "health_data": "An object containing the specific health metrics and measurements to be recorded for the user."
            }
        }
    },
    {
        "id": "apibank_query_78",
        "query": "Can you help me record my health history?",
        "instruction": "Given a `health history recording` task, retrieve tools that support storing health-related data by processing user identifiers, dates, and complex data inputs to maintain and update health records systematically.",
        "labels": [
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 1: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 6: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 7: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 9: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 11: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 12: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 13: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 15: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 17: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 19: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic."
        ],
        "tool_view": {
            "description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user whose health history is being recorded.",
                    "required": true,
                    "example": "12345"
                },
                "date": {
                    "type": "string",
                    "description": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                },
                "health_data": {
                    "type": "object",
                    "description": "An object containing the health data that is being recorded for the user.",
                    "required": true,
                    "example": {
                        "weight": 70,
                        "blood_pressure": "120/80",
                        "heart_rate": 72
                    }
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\n\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\"success\"` if the health data was recorded correctly, or `\"failed\"` if there was an error or the operation did not complete as intended.  \n\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action’s result.",
            "examples": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for user 1001.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "1001",
                            "date": "2025-12-30",
                            "health_data": {
                                "blood_pressure": "120/80",
                                "heart_rate": 72
                            }
                        }
                    }
                },
                {
                    "user_intent": "Add yesterday's step count and sleep hours for user A42.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "A42",
                            "date": "2025-12-29",
                            "health_data": {
                                "steps": 8500,
                                "sleep_hours": 7.5
                            }
                        }
                    }
                },
                {
                    "user_intent": "Log user 78's weight and body temperature for today.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "78",
                            "date": "2025-12-30",
                            "health_data": {
                                "weight_kg": 68.2,
                                "body_temperature_c": 36.6
                            }
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 1: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 6: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 7: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 9: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 11: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 12: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 13: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 15: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 17: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 19: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Record and store a user\\u2019s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user whose health history is being recorded.\", \"required\": true, \"example\": \"12345\"}, \"date\": {\"type\": \"string\", \"description\": \"The date when the health data was recorded, in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}, \"health_data\": {\"type\": \"object\", \"description\": \"An object containing the health data that is being recorded for the user.\", \"required\": true, \"example\": {\"weight\": 70, \"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\\n\\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\\\"success\\\"` if the health data was recorded correctly, or `\\\"failed\\\"` if there was an error or the operation did not complete as intended.  \\n\\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action\\u2019s result.\", \"examples\": [{\"user_intent\": \"Record today's blood pressure and heart rate for user 1001.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"1001\", \"date\": \"2025-12-30\", \"health_data\": {\"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}}, {\"user_intent\": \"Add yesterday's step count and sleep hours for user A42.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"A42\", \"date\": \"2025-12-29\", \"health_data\": {\"steps\": 8500, \"sleep_hours\": 7.5}}}}, {\"user_intent\": \"Log user 78's weight and body temperature for today.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"78\", \"date\": \"2025-12-30\", \"health_data\": {\"weight_kg\": 68.2, \"body_temperature_c\": 36.6}}}}]}\n\n# User Query\nCan you help me record my health history?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to record my health history with relevant data.",
                    "tool_description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
                    "expected_response": "A structured object indicating the status of the health data recording operation, either 'success' or 'failed'."
                }
            ],
            "extracted_arguments": {
                "user_id": "The unique identifier of the user whose health history is being recorded.",
                "date": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                "health_data": "An object containing the health data that is being recorded for the user."
            }
        }
    },
    {
        "id": "apibank_query_79",
        "query": "Can you search for the possible diseases and first-aid methods for shortness of breath?",
        "instruction": "Given a `health advisory retrieval` task, retrieve tools that can provide information regarding diseases and corresponding first-aid methods by processing a disease or condition name to deliver relevant emergency procedures and first aid activities.",
        "labels": [
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 4: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.",
            "Tool 5: This API retrieves the definition of a word based on a provided search query.",
            "Tool 6: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).",
            "Tool 7: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.",
            "Tool 8: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.",
            "Tool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 10: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.",
            "Tool 11: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 14: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 17: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content."
        ],
        "tool_view": {
            "description": "Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.",
            "parameters": {
                "disease_injury_name": {
                    "type": "string",
                    "description": "The name of the disease or injury for which emergency procedures and first aid information are requested.",
                    "required": true,
                    "default": null,
                    "example": "burn"
                }
            },
            "response": "The tool returns emergency knowledge related to a specified disease or injury. The response contains the following components:\n\n1. **emergency_procedures**: A string that provides detailed instructions or steps on how to handle an emergency situation for the given disease or injury. This could include critical procedures, warnings, or immediate actions to take in response to the condition.\n\n2. **first_aid_activities**: A string that describes recommended first aid actions for the specified disease or injury. This would typically include basic interventions that could be performed by non-medical personnel before professional help arrives.\n\nBoth fields are described as strings and provide textual information relevant to emergency procedures and first aid for a particular condition, as identified by the `disease_injury_name` input parameter.",
            "examples": [
                {
                    "user_intent": "What should I do in case of a heart attack?",
                    "tool_call": {
                        "name": "EmergencyKnowledge",
                        "arguments": {
                            "disease_injury_name": "heart attack"
                        }
                    }
                },
                {
                    "user_intent": "Can you provide first aid steps for a broken bone?",
                    "tool_call": {
                        "name": "EmergencyKnowledge",
                        "arguments": {
                            "disease_injury_name": "broken bone"
                        }
                    }
                },
                {
                    "user_intent": "I need emergency procedures for a severe allergic reaction.",
                    "tool_call": {
                        "name": "EmergencyKnowledge",
                        "arguments": {
                            "disease_injury_name": "severe allergic reaction"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 4: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.\nTool 5: This API retrieves the definition of a word based on a provided search query.\nTool 6: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).\nTool 7: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.\nTool 8: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.\nTool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 10: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.\nTool 11: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 14: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 17: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.\", \"parameters\": {\"disease_injury_name\": {\"type\": \"string\", \"description\": \"The name of the disease or injury for which emergency procedures and first aid information are requested.\", \"required\": true, \"default\": null, \"example\": \"burn\"}}, \"response\": \"The tool returns emergency knowledge related to a specified disease or injury. The response contains the following components:\\n\\n1. **emergency_procedures**: A string that provides detailed instructions or steps on how to handle an emergency situation for the given disease or injury. This could include critical procedures, warnings, or immediate actions to take in response to the condition.\\n\\n2. **first_aid_activities**: A string that describes recommended first aid actions for the specified disease or injury. This would typically include basic interventions that could be performed by non-medical personnel before professional help arrives.\\n\\nBoth fields are described as strings and provide textual information relevant to emergency procedures and first aid for a particular condition, as identified by the `disease_injury_name` input parameter.\", \"examples\": [{\"user_intent\": \"What should I do in case of a heart attack?\", \"tool_call\": {\"name\": \"EmergencyKnowledge\", \"arguments\": {\"disease_injury_name\": \"heart attack\"}}}, {\"user_intent\": \"Can you provide first aid steps for a broken bone?\", \"tool_call\": {\"name\": \"EmergencyKnowledge\", \"arguments\": {\"disease_injury_name\": \"broken bone\"}}}, {\"user_intent\": \"I need emergency procedures for a severe allergic reaction.\", \"tool_call\": {\"name\": \"EmergencyKnowledge\", \"arguments\": {\"disease_injury_name\": \"severe allergic reaction\"}}}]}\n\n# User Query\nCan you search for the possible diseases and first-aid methods for shortness of breath?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to find emergency procedures and first aid guidance for shortness of breath.",
                    "tool_description": "Retrieve detailed emergency procedures and first aid guidance for a specified disease or injury, given the condition's name.",
                    "expected_response": "A collection of emergency procedures and first aid activities specific to shortness of breath."
                }
            ],
            "extracted_arguments": {
                "disease_injury_name": "The name of the disease or injury, in this case, 'shortness of breath'."
            }
        }
    },
    {
        "id": "apibank_query_80",
        "query": "Can you please modify my appointment scheduled for March 25th with Dr. Kim to March 26th with Dr. Lee?",
        "instruction": "Given an `appointment modification` task, retrieve tools that facilitate the rescheduling of appointments by processing parameters such as registration number, new appointment date, and contact details to modify existing appointments and confirm the status of the update.",
        "labels": [
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_55",
                "doc": {
                    "expressions": "QueryHealthData(user_id: str, time_period: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_health_data.py",
                    "parameters": "(user_id: str, time_period: datetime)",
                    "name": "QueryHealthData",
                    "description": "description = \"API that retrieves the health data of a user for a specific time period. The 'user_id' parameter is used to identify the user for whom the data is to be fetched and the 'time_period' parameter specifies the time range for which the data should be retrieved.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The ID of the user whose health data is to be retrieved.'},\n    'time_period': {'type': 'str', 'description': 'The time period for which health data is required in the format %Y-%m-%d to %Y-%m-%d'}\n}\noutput_parameters = {\n    'data': {'type': 'list of dictionaries', 'description': 'The health data of the user for the specified time period.'},\n    'status': {'type': 'str', 'description': 'Success or failure of the API call.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_59",
                "doc": {
                    "expressions": "CancelRegistration(registration_number: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_registration.py",
                    "parameters": "(registration_number: str)",
                    "name": "CancelRegistration",
                    "description": "description = \"Cancel a registration API that takes one parameter - 'registration_number'. The 'registration_number' parameter refers to the registration number of the conference registration that needs to be cancelled.\"\ninput_parameters = {\n    'registration_number': {'type': 'str', 'description': 'The registration number of the conference registration to be cancelled.'},\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 1: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 2: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 7: Checks whether a scheduled event conflicts with existing events by evaluating the event's description and scheduled time, helping to prevent overlapping appointments or commitments.",
            "Tool 8: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 9: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 10: Retrieve a list of meetings scheduled by a user by querying the API with an authentication token.",
            "Tool 11: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 12: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 13: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 14: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 15: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 16: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 17: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.",
            "Tool 18: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 19: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful."
        ],
        "tool_view": {
            "description": "Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "parameters": {
                "patient_name": {
                    "type": "string",
                    "description": "The full name of the patient who has made the appointment.",
                    "required": true,
                    "example": "John Doe"
                },
                "appointment_time": {
                    "type": "string",
                    "description": "The scheduled time of the appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "example": "2025-12-11 14:30:00"
                }
            },
            "response": "The tool `QueryRegistration` returns a structured response containing information about a patient’s appointment registration. The response consists of the following components:\n\n1. **status**:  \n   - **Type:** string  \n   - **Meaning:** Indicates the overall result of the query. It reflects whether the query operation was successful (`success`) or if it failed (`failed`). This field provides a high-level indication of whether the requested registration information could be retrieved.  \n\n2. **registration_details**:  \n   - **Type:** string  \n   - **Meaning:** Contains detailed information about the patient’s registration. This typically includes the appointment information associated with the given patient name and appointment time, such as patient identification, appointment specifics, and any other relevant registration metadata. It serves as the main content of the response when the query is successful.  \n\nIn summary, the response provides both a status indicator of the query operation and the detailed registration information corresponding to the requested patient and appointment time.",
            "examples": [
                {
                    "user_intent": "Check the registration details for patient John Smith who has an appointment on December 31, 2025 at 10 AM.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "John Smith",
                            "appointment_time": "2025-12-31 10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I want to see if Emily Chen has any appointments scheduled for January 5, 2026 at 14:30.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "Emily Chen",
                            "appointment_time": "2026-01-05 14:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Retrieve the registration information for patient Michael Lee without specifying the appointment time.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "Michael Lee",
                            "appointment_time": null
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 1: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 2: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 7: Checks whether a scheduled event conflicts with existing events by evaluating the event's description and scheduled time, helping to prevent overlapping appointments or commitments.\nTool 8: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 9: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 10: Retrieve a list of meetings scheduled by a user by querying the API with an authentication token.\nTool 11: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 12: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 13: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 14: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 15: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 16: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 17: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.\nTool 18: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 19: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\", \"parameters\": {\"patient_name\": {\"type\": \"string\", \"description\": \"The full name of the patient who has made the appointment.\", \"required\": true, \"example\": \"John Doe\"}, \"appointment_time\": {\"type\": \"string\", \"description\": \"The scheduled time of the appointment, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"example\": \"2025-12-11 14:30:00\"}}, \"response\": \"The tool `QueryRegistration` returns a structured response containing information about a patient\\u2019s appointment registration. The response consists of the following components:\\n\\n1. **status**:  \\n   - **Type:** string  \\n   - **Meaning:** Indicates the overall result of the query. It reflects whether the query operation was successful (`success`) or if it failed (`failed`). This field provides a high-level indication of whether the requested registration information could be retrieved.  \\n\\n2. **registration_details**:  \\n   - **Type:** string  \\n   - **Meaning:** Contains detailed information about the patient\\u2019s registration. This typically includes the appointment information associated with the given patient name and appointment time, such as patient identification, appointment specifics, and any other relevant registration metadata. It serves as the main content of the response when the query is successful.  \\n\\nIn summary, the response provides both a status indicator of the query operation and the detailed registration information corresponding to the requested patient and appointment time.\", \"examples\": [{\"user_intent\": \"Check the registration details for patient John Smith who has an appointment on December 31, 2025 at 10 AM.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"John Smith\", \"appointment_time\": \"2025-12-31 10:00:00\"}}}, {\"user_intent\": \"I want to see if Emily Chen has any appointments scheduled for January 5, 2026 at 14:30.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"Emily Chen\", \"appointment_time\": \"2026-01-05 14:30:00\"}}}, {\"user_intent\": \"Retrieve the registration information for patient Michael Lee without specifying the appointment time.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"Michael Lee\", \"appointment_time\": null}}}]}\n\n# User Query\nCan you please modify my appointment scheduled for March 25th with Dr. Kim to March 26th with Dr. Lee?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to find the details of my current appointment scheduled for a specific date with a specific doctor.",
                    "tool_description": "Retrieve patient registration details by querying with a patient's name and the original appointment time to confirm the existing booking.",
                    "expected_response": "A structured response containing the status of the query and the details of the existing appointment, including patient name, doctor, and appointment time."
                },
                {
                    "user_intent": "Modify my existing appointment to a new date and with a different doctor.",
                    "tool_description": "Update the appointment time and doctor for an existing patient registration by providing the registration identifier along with the new appointment details.",
                    "expected_response": "A status indicating whether the appointment update was successful."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient requesting the appointment change.",
                "current_appointment_time": "The original scheduled date and time of the appointment to be modified.",
                "new_appointment_time": "The new desired date and time for the appointment.",
                "current_doctor_name": "The name of the doctor associated with the original appointment.",
                "new_doctor_name": "The name of the doctor for the updated appointment."
            }
        }
    },
    {
        "id": "apibank_query_81",
        "query": "Can you switch off my smart bulb at 10 pm tonight? Today is 2022-03-01.",
        "instruction": "Given a `smart device operation` task, retrieve tools that schedule and execute commands for smart devices by processing device ID, switch time, and on/off command inputs to perform the desired operation at the specified time.",
        "labels": [
            {
                "id": "apibank_tool_68",
                "doc": {
                    "expressions": "TimedSwitch(device_id: str, switch_time: datetime, on_off_command: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/timed_switch.py",
                    "parameters": "(device_id: str, switch_time: datetime, on_off_command: str)",
                    "name": "TimedSwitch",
                    "description": "description = \"API for scheduling a timed switch. Sets a switch-time for the specified device-id and executes an on/off command at the specified time.\"\ninput_parameters = {\n    'device_id': {'type': 'str', 'description': 'ID of the device on which to schedule a timed switch'},\n    'switch_time': {'type': 'datetime', 'description': 'Time at which to execute the on/off command. Format: %Y-%m-%d %H:%M:%S'},\n    'on_off_command': {'type': 'str', 'description': 'The command to execute when the switch time is reached. Should be \"on\" or \"off\".'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 1: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 2: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 3: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 8: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 11: This API retrieves the definition of a word based on a provided search query.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content."
        ],
        "tool_view": {
            "description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "parameters": {
                "device_id": {
                    "type": "string",
                    "description": "The unique identifier of the device for which the scheduled timed switch should be cancelled.",
                    "required": true,
                    "example": "device123"
                },
                "switch_time": {
                    "type": "string",
                    "description": "The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "example": "2025-12-11 14:30:00"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \"success\" or \"failed,\" providing a clear, high-level result of the operation.  \n\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.",
            "examples": [
                {
                    "user_intent": "Cancel the scheduled power-on for my smart lamp at 8 PM tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "lamp_01",
                            "switch_time": "2025-12-30 20:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "thermostat_22",
                            "switch_time": "2025-12-31 07:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Abort the scheduled irrigation system switch that was set for midnight tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "irrigation_05",
                            "switch_time": "2025-12-31 00:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 1: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 2: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 3: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 8: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 11: This API retrieves the definition of a word based on a provided search query.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\", \"parameters\": {\"device_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the device for which the scheduled timed switch should be cancelled.\", \"required\": true, \"example\": \"device123\"}, \"switch_time\": {\"type\": \"string\", \"description\": \"The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"example\": \"2025-12-11 14:30:00\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \\\"success\\\" or \\\"failed,\\\" providing a clear, high-level result of the operation.  \\n\\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.\", \"examples\": [{\"user_intent\": \"Cancel the scheduled power-on for my smart lamp at 8 PM tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"lamp_01\", \"switch_time\": \"2025-12-30 20:00:00\"}}}, {\"user_intent\": \"I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"thermostat_22\", \"switch_time\": \"2025-12-31 07:30:00\"}}}, {\"user_intent\": \"Abort the scheduled irrigation system switch that was set for midnight tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"irrigation_05\", \"switch_time\": \"2025-12-31 00:00:00\"}}}]}\n\n# User Query\nCan you switch off my smart bulb at 10 pm tonight? Today is 2022-03-01.\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Schedule my smart bulb to turn off at a specific time tonight.",
                    "tool_description": "Schedule a timed off command for a specific smart device, executing the command automatically at the specified date and time.",
                    "expected_response": "A confirmation object indicating that the timed switch has been successfully scheduled, including the device ID and scheduled switch time."
                }
            ],
            "extracted_arguments": {
                "device_id": "The unique identifier of the smart bulb to be switched off.",
                "switch_time": "The exact date and time when the smart bulb should be turned off, formatted as '%Y-%m-%d %H:%M:%S'."
            }
        }
    },
    {
        "id": "apibank_query_82",
        "query": "Can you please tell me the stock price of SQ on March 14th, 2022?",
        "instruction": "Given a `stock data retrieval` task, retrieve tools that query historical stock prices by processing stock code and date inputs to return the relevant stock data.",
        "labels": [
            {
                "id": "apibank_tool_31",
                "doc": {
                    "expressions": "QueryStock(stock_code: str, time: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_stock.py",
                    "parameters": "(stock_code: str, time: datetime)",
                    "name": "QueryStock",
                    "description": "description = \"Query stock API that takes two parameters - 'stock_code' and 'time'. The 'stock_code' parameter refers to the code of the stock and the 'time' parameter specifies the time for fetching the stock data.\"\ninput_parameters = {\n    'stock_code': {'type': 'str', 'description': 'The code of the stock.'},\n    'time': {'type': 'str', 'description': 'The time for fetching the stock data. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'stock_data': {'type': 'json', 'description': 'JSON object containing the stock data.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: This API retrieves the definition of a word based on a provided search query."
        ],
        "tool_view": {
            "description": "Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "parameters": {
                "stock_code": {
                    "type": "string",
                    "description": "The unique code representing the stock to query.",
                    "required": true,
                    "example": "AAPL"
                },
                "time": {
                    "type": "string",
                    "description": "The date for which to fetch the stock data, formatted as YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                }
            },
            "response": "The tool returns a JSON object under the key `stock_data`, which contains detailed information about the requested stock for the specified date. The `stock_data` object typically includes multiple fields describing the stock's attributes at that time, such as price, volume, opening and closing values, and potentially other financial metrics. Each field within `stock_data` represents a specific aspect of the stock's performance or market data. The response is structured to provide a complete snapshot of the stock's state at the requested time, allowing clients to retrieve historical or current stock information in a standardized format.",
            "examples": [
                {
                    "user_intent": "Get the stock data for Apple Inc. (AAPL) for December 15, 2025.",
                    "tool_call": {
                        "name": "QueryStock",
                        "arguments": {
                            "stock_code": "AAPL",
                            "time": "2025-12-15"
                        }
                    }
                },
                {
                    "user_intent": "Fetch the stock information for Tesla (TSLA) today.",
                    "tool_call": {
                        "name": "QueryStock",
                        "arguments": {
                            "stock_code": "TSLA",
                            "time": "2025-12-30"
                        }
                    }
                },
                {
                    "user_intent": "I want historical stock data for Microsoft (MSFT) on January 1, 2024.",
                    "tool_call": {
                        "name": "QueryStock",
                        "arguments": {
                            "stock_code": "MSFT",
                            "time": "2024-01-01"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: This API retrieves the definition of a word based on a provided search query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\", \"parameters\": {\"stock_code\": {\"type\": \"string\", \"description\": \"The unique code representing the stock to query.\", \"required\": true, \"example\": \"AAPL\"}, \"time\": {\"type\": \"string\", \"description\": \"The date for which to fetch the stock data, formatted as YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}}, \"response\": \"The tool returns a JSON object under the key `stock_data`, which contains detailed information about the requested stock for the specified date. The `stock_data` object typically includes multiple fields describing the stock's attributes at that time, such as price, volume, opening and closing values, and potentially other financial metrics. Each field within `stock_data` represents a specific aspect of the stock's performance or market data. The response is structured to provide a complete snapshot of the stock's state at the requested time, allowing clients to retrieve historical or current stock information in a standardized format.\", \"examples\": [{\"user_intent\": \"Get the stock data for Apple Inc. (AAPL) for December 15, 2025.\", \"tool_call\": {\"name\": \"QueryStock\", \"arguments\": {\"stock_code\": \"AAPL\", \"time\": \"2025-12-15\"}}}, {\"user_intent\": \"Fetch the stock information for Tesla (TSLA) today.\", \"tool_call\": {\"name\": \"QueryStock\", \"arguments\": {\"stock_code\": \"TSLA\", \"time\": \"2025-12-30\"}}}, {\"user_intent\": \"I want historical stock data for Microsoft (MSFT) on January 1, 2024.\", \"tool_call\": {\"name\": \"QueryStock\", \"arguments\": {\"stock_code\": \"MSFT\", \"time\": \"2024-01-01\"}}}]}\n\n# User Query\nCan you please tell me the stock price of SQ on March 14th, 2022?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Get the stock data for Square Inc. (SQ) for March 14, 2022.",
                    "tool_description": "Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
                    "expected_response": "A JSON object containing detailed information about the stock's performance on the specified date, including price, volume, opening and closing values."
                }
            ],
            "extracted_arguments": {
                "stock_code": "The unique code representing the stock to query.",
                "time": "The date for which to fetch the stock data, formatted as YYYY-MM-DD."
            }
        }
    },
    {
        "id": "apibank_query_83",
        "query": "Can you help me modify a reminder for paying bills on March 20th at 12 PM?",
        "instruction": "Given a `reminder modification` task, retrieve tools that handle updating reminders by processing parameters such as reminder ID, updated content, and updated time to modify the reminder and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_7",
                "doc": {
                    "expressions": "ModifyReminder(token: str, reminder_id: int, content: str, time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_reminder.py",
                    "parameters": "(token: str, reminder_id: int, content: str, time: datetime)",
                    "name": "ModifyReminder",
                    "description": "description = \"Modify an existing reminder API that takes three parameters - 'reminder_id', 'content' and 'time'. The 'reminder_id' parameter refers to the identifier of the reminder that needs to be modified, 'content' parameter refers to the updated description of the reminder, and 'time' parameter specifies the updated time of the reminder.\"\ninput_parameters = {\n    'reminder_id': {'type': 'int', 'description': 'The identifier of the reminder.'},\n    'content': {'type': 'str', 'description': 'The updated content of the reminder.'},\n    'time': {'type': 'str', 'description': 'The updated time for the reminder. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 5: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 6: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 7: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 8: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 9: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 10: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 11: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 12: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 13: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference."
        ],
        "tool_view": {
            "description": "Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "parameters": {
                "reminder_id": {
                    "type": "int",
                    "description": "The unique identifier of the reminder that needs to be modified.",
                    "required": true,
                    "example": 123
                },
                "content": {
                    "type": "string",
                    "description": "The new content or description for the reminder.",
                    "required": true,
                    "example": "Doctor appointment at 3 PM"
                },
                "time": {
                    "type": "string",
                    "description": "The updated date for the reminder in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-15"
                }
            },
            "response": "The tool’s response consists of a single structured object with the following component:\n\n- **status** (string): Indicates the outcome of the reminder modification operation. Its value conveys whether the request was successfully processed or not. Specifically, it can be interpreted as:  \n  - `\"success\"`: The reminder was successfully updated with the provided content and/or time.  \n  - `\"failed\"`: The modification did not succeed, which could occur due to reasons such as an invalid `reminder_id` or incorrect input format.\n\nThis is the only field defined in the response, and it serves as a simple confirmation of the operation’s result without returning the full reminder data or additional metadata.",
            "examples": [
                {
                    "user_intent": "I need to change the reminder for my meeting tomorrow to 3 PM.",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 101,
                            "content": "Meeting with the team",
                            "time": "2025-12-31"
                        }
                    }
                },
                {
                    "user_intent": "Update my doctor's appointment reminder to 2:30 PM on January 5th.",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 204,
                            "content": "Doctor's appointment",
                            "time": "2026-01-05"
                        }
                    }
                },
                {
                    "user_intent": "Can you change my reminder to pick up groceries to 4 PM on December 30th?",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 50,
                            "content": "Pick up groceries",
                            "time": "2025-12-30"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 5: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 6: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 7: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 8: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 9: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 10: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 11: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 12: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 13: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder\\u2019s details efficiently.\", \"parameters\": {\"reminder_id\": {\"type\": \"int\", \"description\": \"The unique identifier of the reminder that needs to be modified.\", \"required\": true, \"example\": 123}, \"content\": {\"type\": \"string\", \"description\": \"The new content or description for the reminder.\", \"required\": true, \"example\": \"Doctor appointment at 3 PM\"}, \"time\": {\"type\": \"string\", \"description\": \"The updated date for the reminder in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-15\"}}, \"response\": \"The tool\\u2019s response consists of a single structured object with the following component:\\n\\n- **status** (string): Indicates the outcome of the reminder modification operation. Its value conveys whether the request was successfully processed or not. Specifically, it can be interpreted as:  \\n  - `\\\"success\\\"`: The reminder was successfully updated with the provided content and/or time.  \\n  - `\\\"failed\\\"`: The modification did not succeed, which could occur due to reasons such as an invalid `reminder_id` or incorrect input format.\\n\\nThis is the only field defined in the response, and it serves as a simple confirmation of the operation\\u2019s result without returning the full reminder data or additional metadata.\", \"examples\": [{\"user_intent\": \"I need to change the reminder for my meeting tomorrow to 3 PM.\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 101, \"content\": \"Meeting with the team\", \"time\": \"2025-12-31\"}}}, {\"user_intent\": \"Update my doctor's appointment reminder to 2:30 PM on January 5th.\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 204, \"content\": \"Doctor's appointment\", \"time\": \"2026-01-05\"}}}, {\"user_intent\": \"Can you change my reminder to pick up groceries to 4 PM on December 30th?\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 50, \"content\": \"Pick up groceries\", \"time\": \"2025-12-30\"}}}]}\n\n# User Query\nCan you help me modify a reminder for paying bills on March 20th at 12 PM?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to update my reminder for paying bills to a new date and time.",
                    "tool_description": "Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
                    "expected_response": "A structured object indicating whether the reminder update was successful or failed."
                }
            ],
            "extracted_arguments": {
                "reminder_id": "The unique identifier of the reminder that needs to be modified.",
                "content": "The new content or description for the reminder.",
                "time": "The updated date and time for the reminder in the format YYYY-MM-DD HH:MM."
            }
        }
    },
    {
        "id": "apibank_query_84",
        "query": "Can you help me find possible diseases related to fatigue?",
        "instruction": "Given a `symptom-based diagnosis` task, retrieve tools that search and provide potential medical conditions by processing symptom descriptions to align with the query's requirements.",
        "labels": [
            {
                "id": "apibank_tool_56",
                "doc": {
                    "expressions": "SymptomSearch(symptom_description: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/symptom_search.py",
                    "parameters": "(symptom_description: str)",
                    "name": "SymptomSearch",
                    "description": "description = \"An API that searches for medical conditions based on symptom descriptions.\"\ninput_parameters = {\n    'symptom_description': {'type': 'str', 'description': 'A description of the symptoms being experienced.'}\n}\noutput_parameters = {\n    'medical_conditions': {'type': 'list', 'description': 'A list of medical conditions that match the given symptom description.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 5: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 6: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 7: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 8: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 9: This API retrieves the definition of a word based on a provided search query.",
            "Tool 10: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 12: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content."
        ],
        "tool_view": {
            "description": "An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "parameters": {
                "meeting_name": {
                    "type": "string",
                    "description": "The name of the conference or a keyword that refers to the conference.",
                    "required": true,
                    "example": "AI Symposium"
                }
            },
            "response": "The tool returns a structured response containing information about conferences that match the specified `meeting_name` or keyword. The response has the following structure:\n\n- **conference_details**: A list where each element represents a single conference that matches the search criteria. Each element in the list typically contains details about the conference, such as its name, dates, location, topics, and possibly other relevant metadata. The list may be empty if no conferences match the query.  \n\nThis response allows users to programmatically access and iterate over the conferences returned by the search.",
            "examples": [
                {
                    "user_intent": "Find upcoming AI conferences that focus on natural language processing.",
                    "tool_call": {
                        "name": "AIConferenceSearch",
                        "arguments": {
                            "meeting_name": "natural language processing"
                        }
                    }
                },
                {
                    "user_intent": "I want to see a list of AI conferences happening in Europe this year.",
                    "tool_call": {
                        "name": "AIConferenceSearch",
                        "arguments": {
                            "meeting_name": "AI Europe 2026"
                        }
                    }
                },
                {
                    "user_intent": "Search for major machine learning conferences globally.",
                    "tool_call": {
                        "name": "AIConferenceSearch",
                        "arguments": {
                            "meeting_name": "machine learning"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 5: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 6: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 7: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 8: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 9: This API retrieves the definition of a word based on a provided search query.\nTool 10: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 12: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\", \"parameters\": {\"meeting_name\": {\"type\": \"string\", \"description\": \"The name of the conference or a keyword that refers to the conference.\", \"required\": true, \"example\": \"AI Symposium\"}}, \"response\": \"The tool returns a structured response containing information about conferences that match the specified `meeting_name` or keyword. The response has the following structure:\\n\\n- **conference_details**: A list where each element represents a single conference that matches the search criteria. Each element in the list typically contains details about the conference, such as its name, dates, location, topics, and possibly other relevant metadata. The list may be empty if no conferences match the query.  \\n\\nThis response allows users to programmatically access and iterate over the conferences returned by the search.\", \"examples\": [{\"user_intent\": \"Find upcoming AI conferences that focus on natural language processing.\", \"tool_call\": {\"name\": \"AIConferenceSearch\", \"arguments\": {\"meeting_name\": \"natural language processing\"}}}, {\"user_intent\": \"I want to see a list of AI conferences happening in Europe this year.\", \"tool_call\": {\"name\": \"AIConferenceSearch\", \"arguments\": {\"meeting_name\": \"AI Europe 2026\"}}}, {\"user_intent\": \"Search for major machine learning conferences globally.\", \"tool_call\": {\"name\": \"AIConferenceSearch\", \"arguments\": {\"meeting_name\": \"machine learning\"}}}]}\n\n# User Query\nCan you help me find possible diseases related to fatigue?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to search for diseases associated with fatigue.",
                    "tool_description": "Retrieve a list of possible medical conditions or diseases that are linked to a specified symptom, such as fatigue.",
                    "expected_response": "A structured list of diseases or conditions including names, brief descriptions, and potentially related symptoms."
                }
            ],
            "extracted_arguments": {
                "symptom": "The specific symptom or health concern to investigate, represented as a string."
            }
        }
    },
    {
        "id": "apibank_query_85",
        "query": "Can you help me modify a meeting reservation?",
        "instruction": "Given a `meeting modification` task, retrieve tools that manage meeting details by processing parameters such as meeting ID, content, time, and attendees to modify the reservation and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_11",
                "doc": {
                    "expressions": "ModifyMeeting(token: str, meeting_id: int, content: str, time: datetime, attendees: List[str])",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_meeting.py",
                    "parameters": "(token: str, meeting_id: int, content: str, time: datetime, attendees: List[str])",
                    "name": "ModifyMeeting",
                    "description": "description = \"Modify a meeting API that takes four parameters - 'meeting_id', 'content', 'time' and 'attendees'. The 'content' parameter refers to the new description of the meeting, 'time' parameter specifies the new time of the meeting, 'attendees' parameter is a list of email addresses of the new attendees who are invited to the meeting.\"\ninput_parameters = {\n    'meeting_id': {'type': 'int', 'description': 'The ID of the meeting to be modified.'},\n    'content': {'type': 'str', 'description': 'The new content of the meeting.'},\n    'time': {'type': 'str', 'description': 'The new time for meeting. Format: %Y-%m-%d'},\n    'attendees': {'type': 'List[str]', 'description': 'The new attendees (their emails) for the meeting.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 1: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 2: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 3: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 4: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 5: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 6: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 8: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 9: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 10: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 11: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 12: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 13: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 14: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 15: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 16: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 17: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 18: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 19: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity."
        ],
        "tool_view": {
            "description": "Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "parameters": {
                "meeting_id": {
                    "type": "int",
                    "description": "The unique identifier of the meeting that needs to be modified.",
                    "required": true,
                    "example": 12345
                },
                "content": {
                    "type": "string",
                    "description": "The updated description or content of the meeting.",
                    "required": true,
                    "example": "Discuss Q1 financial report"
                },
                "time": {
                    "type": "string",
                    "description": "The new scheduled time for the meeting in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-20"
                },
                "attendees": {
                    "type": "list",
                    "description": "A list of email addresses representing the new attendees invited to the meeting.",
                    "required": true,
                    "example": [
                        "alice@example.com",
                        "bob@example.com"
                    ]
                }
            },
            "response": "The tool returns a response object containing a single field:\n\n- **status** (`str`): Indicates the result of the meeting modification operation. Its value will describe whether the request succeeded or failed, typically using strings such as `\"success\"` for a successful update or `\"failed\"` if the modification could not be completed. This field communicates the overall outcome of the API call but does not include detailed error messages or additional metadata.",
            "examples": [
                {
                    "user_intent": "Update the team meeting to discuss the Q1 report and change the date to February 15th, 2026, inviting Alice and Bob.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 1023,
                            "content": "Discuss Q1 report",
                            "time": "2026-02-15",
                            "attendees": [
                                "alice@example.com",
                                "bob@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Reschedule my project sync to March 1st, 2026, and update attendees to include Carol and Dave.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 2045,
                            "time": "2026-03-01",
                            "attendees": [
                                "carol@example.com",
                                "dave@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Change the content of meeting 3098 to cover the new marketing strategy without changing the date or attendees.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 3098,
                            "content": "Review new marketing strategy"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 1: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 2: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 3: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 4: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 5: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 6: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 8: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 9: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 10: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 11: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 12: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 13: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 14: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 15: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 16: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 17: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 18: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 19: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\", \"parameters\": {\"meeting_id\": {\"type\": \"int\", \"description\": \"The unique identifier of the meeting that needs to be modified.\", \"required\": true, \"example\": 12345}, \"content\": {\"type\": \"string\", \"description\": \"The updated description or content of the meeting.\", \"required\": true, \"example\": \"Discuss Q1 financial report\"}, \"time\": {\"type\": \"string\", \"description\": \"The new scheduled time for the meeting in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-20\"}, \"attendees\": {\"type\": \"list\", \"description\": \"A list of email addresses representing the new attendees invited to the meeting.\", \"required\": true, \"example\": [\"alice@example.com\", \"bob@example.com\"]}}, \"response\": \"The tool returns a response object containing a single field:\\n\\n- **status** (`str`): Indicates the result of the meeting modification operation. Its value will describe whether the request succeeded or failed, typically using strings such as `\\\"success\\\"` for a successful update or `\\\"failed\\\"` if the modification could not be completed. This field communicates the overall outcome of the API call but does not include detailed error messages or additional metadata.\", \"examples\": [{\"user_intent\": \"Update the team meeting to discuss the Q1 report and change the date to February 15th, 2026, inviting Alice and Bob.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 1023, \"content\": \"Discuss Q1 report\", \"time\": \"2026-02-15\", \"attendees\": [\"alice@example.com\", \"bob@example.com\"]}}}, {\"user_intent\": \"Reschedule my project sync to March 1st, 2026, and update attendees to include Carol and Dave.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 2045, \"time\": \"2026-03-01\", \"attendees\": [\"carol@example.com\", \"dave@example.com\"]}}}, {\"user_intent\": \"Change the content of meeting 3098 to cover the new marketing strategy without changing the date or attendees.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 3098, \"content\": \"Review new marketing strategy\"}}}]}\n\n# User Query\nCan you help me modify a meeting reservation?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to modify the details of an existing meeting, including its content, time, or attendees.",
                    "tool_description": "Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
                    "expected_response": "A status indicating whether the meeting modification was successful or failed."
                }
            ],
            "extracted_arguments": {
                "meeting_id": "The unique identifier of the meeting that needs to be modified.",
                "content": "The updated description or content of the meeting.",
                "time": "The new scheduled time for the meeting in date-time format.",
                "attendees": "A list of email addresses representing the new attendees invited to the meeting."
            }
        }
    },
    {
        "id": "apibank_query_86",
        "query": "Can you please help me query a reminder for \"Attend meeting\" on March 18th, 2023 at 10:30am?",
        "instruction": "Given a `reminder query` task, retrieve tools that facilitate accessing and listing reminders by employing user authentication through token input to ensure secure retrieval of scheduled events.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_8",
                "doc": {
                    "expressions": "QueryReminder(token: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_reminder.py",
                    "parameters": "(token: str)",
                    "name": "QueryReminder",
                    "description": "description = \"Get a list of all reminders API. This API takes a single parameter 'token' which is used for user authentication.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'User authentication token.'}\n}\noutput_parameters = {\n    'reminders': {'type': 'list', 'description': 'List of all the user reminders.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 2: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 3: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 6: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 8: This API retrieves the definition of a word based on a provided search query.",
            "Tool 9: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 10: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 11: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 12: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 14: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 15: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 16: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.",
            "Tool 17: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 18: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.",
            "Tool 19: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping."
        ],
        "tool_view": {
            "description": "Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "parameters": {
                "meeting_id": {
                    "type": "int",
                    "description": "The unique identifier of the meeting that needs to be modified.",
                    "required": true,
                    "example": 12345
                },
                "content": {
                    "type": "string",
                    "description": "The updated description or content of the meeting.",
                    "required": true,
                    "example": "Discuss Q1 financial report"
                },
                "time": {
                    "type": "string",
                    "description": "The new scheduled time for the meeting in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-20"
                },
                "attendees": {
                    "type": "list",
                    "description": "A list of email addresses representing the new attendees invited to the meeting.",
                    "required": true,
                    "example": [
                        "alice@example.com",
                        "bob@example.com"
                    ]
                }
            },
            "response": "The tool returns a response object containing a single field:\n\n- **status** (`str`): Indicates the result of the meeting modification operation. Its value will describe whether the request succeeded or failed, typically using strings such as `\"success\"` for a successful update or `\"failed\"` if the modification could not be completed. This field communicates the overall outcome of the API call but does not include detailed error messages or additional metadata.",
            "examples": [
                {
                    "user_intent": "Update the team meeting to discuss the Q1 report and change the date to February 15th, 2026, inviting Alice and Bob.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 1023,
                            "content": "Discuss Q1 report",
                            "time": "2026-02-15",
                            "attendees": [
                                "alice@example.com",
                                "bob@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Reschedule my project sync to March 1st, 2026, and update attendees to include Carol and Dave.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 2045,
                            "time": "2026-03-01",
                            "attendees": [
                                "carol@example.com",
                                "dave@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Change the content of meeting 3098 to cover the new marketing strategy without changing the date or attendees.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 3098,
                            "content": "Review new marketing strategy"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 2: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 3: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 6: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 8: This API retrieves the definition of a word based on a provided search query.\nTool 9: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 10: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 11: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 12: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 14: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 15: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 16: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.\nTool 17: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 18: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\nTool 19: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\", \"parameters\": {\"meeting_id\": {\"type\": \"int\", \"description\": \"The unique identifier of the meeting that needs to be modified.\", \"required\": true, \"example\": 12345}, \"content\": {\"type\": \"string\", \"description\": \"The updated description or content of the meeting.\", \"required\": true, \"example\": \"Discuss Q1 financial report\"}, \"time\": {\"type\": \"string\", \"description\": \"The new scheduled time for the meeting in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-20\"}, \"attendees\": {\"type\": \"list\", \"description\": \"A list of email addresses representing the new attendees invited to the meeting.\", \"required\": true, \"example\": [\"alice@example.com\", \"bob@example.com\"]}}, \"response\": \"The tool returns a response object containing a single field:\\n\\n- **status** (`str`): Indicates the result of the meeting modification operation. Its value will describe whether the request succeeded or failed, typically using strings such as `\\\"success\\\"` for a successful update or `\\\"failed\\\"` if the modification could not be completed. This field communicates the overall outcome of the API call but does not include detailed error messages or additional metadata.\", \"examples\": [{\"user_intent\": \"Update the team meeting to discuss the Q1 report and change the date to February 15th, 2026, inviting Alice and Bob.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 1023, \"content\": \"Discuss Q1 report\", \"time\": \"2026-02-15\", \"attendees\": [\"alice@example.com\", \"bob@example.com\"]}}}, {\"user_intent\": \"Reschedule my project sync to March 1st, 2026, and update attendees to include Carol and Dave.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 2045, \"time\": \"2026-03-01\", \"attendees\": [\"carol@example.com\", \"dave@example.com\"]}}}, {\"user_intent\": \"Change the content of meeting 3098 to cover the new marketing strategy without changing the date or attendees.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 3098, \"content\": \"Review new marketing strategy\"}}}]}\n\n# User Query\nCan you please help me query a reminder for \"Attend meeting\" on March 18th, 2023 at 10:30am?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Retrieve a reminder with specific content and scheduled time.",
                    "tool_description": "Query the user's reminders using the authentication token, filtering by reminder content and scheduled time to find matching entries.",
                    "expected_response": "A list of reminder objects containing details such as reminder ID, content, scheduled time, and status."
                }
            ],
            "extracted_arguments": {
                "reminder_content": "The text or description of the reminder to search for, as a string.",
                "reminder_time": "The scheduled date and time of the reminder in a standard datetime format.",
                "auth_token": "The user's authentication token to authorize access to their reminders."
            }
        }
    },
    {
        "id": "apibank_query_87",
        "query": "Can you help me find out my next appointment with Dr. Smith on October 10th, 2023? My patient ID is 90123456 and my name is Olivia Davis.",
        "instruction": "Given an `appointment retrieval` task, retrieve tools that help in querying appointment details by processing inputs such as patient name, patient ID, and appointment date to provide the relevant appointment information.",
        "labels": [
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 1: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 6: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 7: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 8: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 9: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 10: Retrieve the business scope of a company by providing its name.",
            "Tool 11: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 12: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 13: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 14: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 15: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 16: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 17: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 19: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful."
        ],
        "tool_view": {
            "description": "Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "parameters": {
                "patient_name": {
                    "type": "string",
                    "description": "The full name of the patient who has made the appointment.",
                    "required": true,
                    "example": "John Doe"
                },
                "appointment_time": {
                    "type": "string",
                    "description": "The scheduled time of the appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "example": "2025-12-11 14:30:00"
                }
            },
            "response": "The tool `QueryRegistration` returns a structured response containing information about a patient’s appointment registration. The response consists of the following components:\n\n1. **status**:  \n   - **Type:** string  \n   - **Meaning:** Indicates the overall result of the query. It reflects whether the query operation was successful (`success`) or if it failed (`failed`). This field provides a high-level indication of whether the requested registration information could be retrieved.  \n\n2. **registration_details**:  \n   - **Type:** string  \n   - **Meaning:** Contains detailed information about the patient’s registration. This typically includes the appointment information associated with the given patient name and appointment time, such as patient identification, appointment specifics, and any other relevant registration metadata. It serves as the main content of the response when the query is successful.  \n\nIn summary, the response provides both a status indicator of the query operation and the detailed registration information corresponding to the requested patient and appointment time.",
            "examples": [
                {
                    "user_intent": "Check the registration details for patient John Smith who has an appointment on December 31, 2025 at 10 AM.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "John Smith",
                            "appointment_time": "2025-12-31 10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I want to see if Emily Chen has any appointments scheduled for January 5, 2026 at 14:30.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "Emily Chen",
                            "appointment_time": "2026-01-05 14:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Retrieve the registration information for patient Michael Lee without specifying the appointment time.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "Michael Lee",
                            "appointment_time": null
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 1: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 6: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 7: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 8: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 9: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 10: Retrieve the business scope of a company by providing its name.\nTool 11: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 12: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 13: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 14: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 15: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 16: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 17: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 19: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\", \"parameters\": {\"patient_name\": {\"type\": \"string\", \"description\": \"The full name of the patient who has made the appointment.\", \"required\": true, \"example\": \"John Doe\"}, \"appointment_time\": {\"type\": \"string\", \"description\": \"The scheduled time of the appointment, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"example\": \"2025-12-11 14:30:00\"}}, \"response\": \"The tool `QueryRegistration` returns a structured response containing information about a patient\\u2019s appointment registration. The response consists of the following components:\\n\\n1. **status**:  \\n   - **Type:** string  \\n   - **Meaning:** Indicates the overall result of the query. It reflects whether the query operation was successful (`success`) or if it failed (`failed`). This field provides a high-level indication of whether the requested registration information could be retrieved.  \\n\\n2. **registration_details**:  \\n   - **Type:** string  \\n   - **Meaning:** Contains detailed information about the patient\\u2019s registration. This typically includes the appointment information associated with the given patient name and appointment time, such as patient identification, appointment specifics, and any other relevant registration metadata. It serves as the main content of the response when the query is successful.  \\n\\nIn summary, the response provides both a status indicator of the query operation and the detailed registration information corresponding to the requested patient and appointment time.\", \"examples\": [{\"user_intent\": \"Check the registration details for patient John Smith who has an appointment on December 31, 2025 at 10 AM.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"John Smith\", \"appointment_time\": \"2025-12-31 10:00:00\"}}}, {\"user_intent\": \"I want to see if Emily Chen has any appointments scheduled for January 5, 2026 at 14:30.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"Emily Chen\", \"appointment_time\": \"2026-01-05 14:30:00\"}}}, {\"user_intent\": \"Retrieve the registration information for patient Michael Lee without specifying the appointment time.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"Michael Lee\", \"appointment_time\": null}}}]}\n\n# User Query\nCan you help me find out my next appointment with Dr. Smith on October 10th, 2023? My patient ID is 90123456 and my name is Olivia Davis.\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Check the registration details for patient Olivia Davis who has an appointment with Dr. Smith on October 10th, 2023.",
                    "tool_description": "Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
                    "expected_response": "A structured response containing the status of the query and detailed information about Olivia Davis's appointment registration with Dr. Smith on the specified date."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient whose appointment details are being queried.",
                "appointment_time": "The scheduled date and time of the patient's appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                "patient_id": "A unique identifier assigned to the patient in the medical system."
            }
        }
    },
    {
        "id": "apibank_query_88",
        "query": "Can you delete the agenda of picking up my dry cleaning on March 21st at the Cleaners?",
        "instruction": "Given an `agenda deletion` task, retrieve tools that handle schedule management operations by processing security credentials and schedule identification inputs to delete specified agendas and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_14",
                "doc": {
                    "expressions": "DeleteAgenda(token: str, schedule_id: int)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_agenda.py",
                    "parameters": "(token: str, schedule_id: int)",
                    "name": "DeleteAgenda",
                    "description": "description = \"Delete an agenda API that takes two parameters - 'token' and 'schedule_id'. The 'token' parameter is a security measure while the 'schedule_id' parameter specifies the schedule to be deleted.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'A security measure to check user authenticity.'},\n    'schedule_id': {'type': 'int', 'description': 'The ID of the schedule to be deleted.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 1: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 4: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.",
            "Tool 7: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 8: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 9: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 10: This API retrieves the definition of a word based on a provided search query.",
            "Tool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 12: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content."
        ],
        "tool_view": {
            "description": "This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "The authentication token of the user making the account deletion request.",
                    "required": true,
                    "example": "abc123xyz"
                }
            },
            "response": "The tool’s response is an object that contains a single field:  \n\n- **status** (string): Indicates the outcome of the account deletion request. Its value communicates whether the operation was successful or not, typically using indicators such as `\"success\"` for a successful deletion and `\"failed\"` if the deletion could not be completed. This field serves as a simple, high-level status report of the API call.",
            "examples": [
                {
                    "user_intent": "I want to permanently delete my account from the service.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "user_abc123_securetoken"
                        }
                    }
                },
                {
                    "user_intent": "Remove my profile immediately for privacy reasons.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "privacy_request_987xyz"
                        }
                    }
                },
                {
                    "user_intent": "Deactivate my account using the API key I received after login.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "login_session_token_456def"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 1: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 4: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\nTool 7: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 8: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 9: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 10: This API retrieves the definition of a word based on a provided search query.\nTool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 12: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"The authentication token of the user making the account deletion request.\", \"required\": true, \"example\": \"abc123xyz\"}}, \"response\": \"The tool\\u2019s response is an object that contains a single field:  \\n\\n- **status** (string): Indicates the outcome of the account deletion request. Its value communicates whether the operation was successful or not, typically using indicators such as `\\\"success\\\"` for a successful deletion and `\\\"failed\\\"` if the deletion could not be completed. This field serves as a simple, high-level status report of the API call.\", \"examples\": [{\"user_intent\": \"I want to permanently delete my account from the service.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"user_abc123_securetoken\"}}}, {\"user_intent\": \"Remove my profile immediately for privacy reasons.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"privacy_request_987xyz\"}}}, {\"user_intent\": \"Deactivate my account using the API key I received after login.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"login_session_token_456def\"}}}]}\n\n# User Query\nCan you delete the agenda of picking up my dry cleaning on March 21st at the Cleaners?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to delete a specific agenda entry from my schedule.",
                    "tool_description": "Remove an existing agenda item by specifying its unique schedule ID and using the user's authentication token to authorize the deletion.",
                    "expected_response": "An object indicating the status of the deletion request, such as `success` or `failed`."
                }
            ],
            "extracted_arguments": {
                "schedule_id": "The unique identifier of the agenda entry to be deleted.",
                "token": "The authentication token of the user making the deletion request."
            }
        }
    },
    {
        "id": "apibank_query_89",
        "query": "Can you please tell me the current date?",
        "instruction": "Given a `date retrieval` task, retrieve tools that provide the current date by processing minimal or no input and returning the present date information.",
        "labels": [
            {
                "id": "apibank_tool_23",
                "doc": {
                    "expressions": "GetTodayNone",
                    "category": "获取信息 - 外界信息查询",
                    "path": "apis/get_today.py",
                    "parameters": "",
                    "name": "GetToday",
                    "description": "description = \"Get a list of today's tasks which are not completed yet.\"\ninput_parameters = {\n    None\n}\noutput_parameters = {\n    'tasks': {'type': 'list', 'description': 'A list of task objects with their details.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 1: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 5: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 6: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 7: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 8: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 11: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 12: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 13: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 14: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 15: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 16: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 19: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time."
        ],
        "tool_view": {
            "description": "Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "parameters": {
                "currency_type": {
                    "type": "string",
                    "description": "The type of currency for which the exchange rate is to be queried.",
                    "required": true,
                    "example": "USD"
                },
                "time": {
                    "type": "string",
                    "description": "The date and time at which the exchange rate is to be retrieved.",
                    "required": true,
                    "example": "2025-12-10T12:00:00"
                }
            },
            "response": "The tool returns a structured response containing the exchange rate of a specified currency at a particular point in time. The response includes the following component:\n\n- **exchange_rate**: A numeric value (floating-point) representing the exchange rate of the currency specified by the `currency_type` parameter at the date and time specified by the `time` parameter. This value quantifies how much one unit of the specified currency is worth relative to a reference currency at the given time.",
            "examples": [
                {
                    "user_intent": "What's the current exchange rate for USD?",
                    "tool_call": {
                        "name": "QueryExchangeRate",
                        "arguments": {
                            "currency_type": "USD"
                        }
                    }
                },
                {
                    "user_intent": "I want to know the exchange rate of EUR on December 1, 2025 at 10:00 AM.",
                    "tool_call": {
                        "name": "QueryExchangeRate",
                        "arguments": {
                            "currency_type": "EUR",
                            "time": "2025-12-01T10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Check the historical exchange rate for JPY from January 15, 2023.",
                    "tool_call": {
                        "name": "QueryExchangeRate",
                        "arguments": {
                            "currency_type": "JPY",
                            "time": "2023-01-15T00:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 1: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 5: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 6: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 7: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 8: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 11: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 12: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 13: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 14: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 15: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 16: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 19: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\", \"parameters\": {\"currency_type\": {\"type\": \"string\", \"description\": \"The type of currency for which the exchange rate is to be queried.\", \"required\": true, \"example\": \"USD\"}, \"time\": {\"type\": \"string\", \"description\": \"The date and time at which the exchange rate is to be retrieved.\", \"required\": true, \"example\": \"2025-12-10T12:00:00\"}}, \"response\": \"The tool returns a structured response containing the exchange rate of a specified currency at a particular point in time. The response includes the following component:\\n\\n- **exchange_rate**: A numeric value (floating-point) representing the exchange rate of the currency specified by the `currency_type` parameter at the date and time specified by the `time` parameter. This value quantifies how much one unit of the specified currency is worth relative to a reference currency at the given time.\", \"examples\": [{\"user_intent\": \"What's the current exchange rate for USD?\", \"tool_call\": {\"name\": \"QueryExchangeRate\", \"arguments\": {\"currency_type\": \"USD\"}}}, {\"user_intent\": \"I want to know the exchange rate of EUR on December 1, 2025 at 10:00 AM.\", \"tool_call\": {\"name\": \"QueryExchangeRate\", \"arguments\": {\"currency_type\": \"EUR\", \"time\": \"2025-12-01T10:00:00\"}}}, {\"user_intent\": \"Check the historical exchange rate for JPY from January 15, 2023.\", \"tool_call\": {\"name\": \"QueryExchangeRate\", \"arguments\": {\"currency_type\": \"JPY\", \"time\": \"2023-01-15T00:00:00\"}}}]}\n\n# User Query\nCan you please tell me the current date?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know the current date.",
                    "tool_description": "Retrieve the system's current date and time, allowing users to obtain the present date for reference or scheduling purposes.",
                    "expected_response": "A structured response containing the current date in a standard format (e.g., YYYY-MM-DD)."
                }
            ],
            "extracted_arguments": {}
        }
    },
    {
        "id": "apibank_query_90",
        "query": "Hi, I forgot my password. Can you help me reset it?",
        "instruction": "Given a `password reset` task, retrieve tools that assist in recovering account access by processing user credentials such as username and email to initiate and execute the password reset process, providing feedback on the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_4",
                "doc": {
                    "expressions": "ForgotPassword(username: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/forgot_password.py",
                    "parameters": "(username: str, email: str)",
                    "name": "ForgotPassword",
                    "description": "description = \"Forgot Password API that takes two parameters - 'username' and 'email'. The 'username' parameter refers to the username of the account for which the password is forgotten and the 'email' parameter specifies the email address associated with the account.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the account.'},\n    'email': {'type': 'str', 'description': 'The email address associated with the account.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.",
            "Tool 4: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 5: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 7: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 9: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 18: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 19: This API retrieves the definition of a word based on a provided search query."
        ],
        "tool_view": {
            "description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "parameters": {
                "old_password": {
                    "type": "string",
                    "description": "The user's current password that needs to be verified before changing to a new password.",
                    "required": true,
                    "example": "currentPass123"
                },
                "new_password": {
                    "type": "string",
                    "description": "The new password that will replace the existing password for the user account.",
                    "required": true,
                    "example": "newSecurePass456"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \"success\" to indicate the password was changed successfully, or \"failed\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \n\nThis response provides a concise confirmation of the result of the password update request.",
            "examples": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "Summer2025!",
                            "new_password": "Winter2025#Secure"
                        }
                    }
                },
                {
                    "user_intent": "Reset my password because I think my current one is compromised.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "MyOldPass123",
                            "new_password": "SafePass!789"
                        }
                    }
                },
                {
                    "user_intent": "Update my login credentials to a stronger password for better security.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "password2025",
                            "new_password": "StrongerPass#2025"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.\nTool 4: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 5: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 7: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 9: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 18: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 19: This API retrieves the definition of a word based on a provided search query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\", \"parameters\": {\"old_password\": {\"type\": \"string\", \"description\": \"The user's current password that needs to be verified before changing to a new password.\", \"required\": true, \"example\": \"currentPass123\"}, \"new_password\": {\"type\": \"string\", \"description\": \"The new password that will replace the existing password for the user account.\", \"required\": true, \"example\": \"newSecurePass456\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \\\"success\\\" to indicate the password was changed successfully, or \\\"failed\\\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \\n\\nThis response provides a concise confirmation of the result of the password update request.\", \"examples\": [{\"user_intent\": \"I want to change my account password from my old one to a new secure password.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"Summer2025!\", \"new_password\": \"Winter2025#Secure\"}}}, {\"user_intent\": \"Reset my password because I think my current one is compromised.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"MyOldPass123\", \"new_password\": \"SafePass!789\"}}}, {\"user_intent\": \"Update my login credentials to a stronger password for better security.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"password2025\", \"new_password\": \"StrongerPass#2025\"}}}]}\n\n# User Query\nHi, I forgot my password. Can you help me reset it?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to initiate a password recovery for my account because I forgot my password.",
                    "tool_description": "Start the password recovery process by submitting the account's username and associated email, returning a status indicating whether the recovery request was successful.",
                    "expected_response": "An object indicating the status of the password recovery request, such as 'success' or 'failed'."
                }
            ],
            "extracted_arguments": {
                "username": "The account's username used for identification and recovery purposes.",
                "email": "The email address associated with the account for verification and recovery notifications."
            }
        }
    },
    {
        "id": "apibank_query_91",
        "query": "Can you search for the definition of the word 'perplexed'?",
        "instruction": "Given a `word definition search` task, retrieve tools that can process a text query to find and return a precise definition of the specified word.",
        "labels": [
            {
                "id": "apibank_tool_37",
                "doc": {
                    "expressions": "Dictionary(query: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/dictionary.py",
                    "parameters": "(query: str)",
                    "name": "Dictionary",
                    "description": "description = \"API that takes a 'query' parameter as input and retrieves the definition of that word.\"\ninput_parameters = {\n    'query': {'type': 'str', 'description': 'The word to search the definition for.'},\n}\noutput_parameters = {\n    'definition': {'type': 'str', 'description': 'The definition of the requested word.'},\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This API retrieves the definition of a word based on a provided search query.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 4: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.",
            "Tool 5: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).",
            "Tool 6: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.",
            "Tool 7: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.",
            "Tool 8: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 9: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.",
            "Tool 10: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.",
            "Tool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 12: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 13: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 15: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data."
        ],
        "tool_view": {
            "description": "This API retrieves the definition of a word based on a provided search query.",
            "parameters": {
                "query": {
                    "type": "string",
                    "description": "The word for which the API will retrieve the definition.",
                    "required": true,
                    "default": null,
                    "example": "apple"
                }
            },
            "response": "The tool returns a response object containing a single field named `definition`. This field holds the meaning or explanation of the word provided in the `query` parameter. Specifically:  \n\n- **definition** (`string`): Contains the textual definition of the requested word. It represents the primary content of the response, providing the user with the explanation, meaning, or description associated with the input word.  \n\nThe response is therefore a simple object with one key-value pair, where the key identifies the type of information returned (the word’s definition) and the value is the actual definition text.",
            "examples": [
                {
                    "user_intent": "I want to know the meaning of the word 'serendipity'.",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "serendipity"
                        }
                    }
                },
                {
                    "user_intent": "Look up the definition of 'quantum mechanics' for me.",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "quantum mechanics"
                        }
                    }
                },
                {
                    "user_intent": "Can you tell me what 'ephemeral' means?",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "ephemeral"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This API retrieves the definition of a word based on a provided search query.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 4: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.\nTool 5: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).\nTool 6: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.\nTool 7: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.\nTool 8: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 9: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.\nTool 10: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.\nTool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 12: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 13: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 15: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This API retrieves the definition of a word based on a provided search query.\", \"parameters\": {\"query\": {\"type\": \"string\", \"description\": \"The word for which the API will retrieve the definition.\", \"required\": true, \"default\": null, \"example\": \"apple\"}}, \"response\": \"The tool returns a response object containing a single field named `definition`. This field holds the meaning or explanation of the word provided in the `query` parameter. Specifically:  \\n\\n- **definition** (`string`): Contains the textual definition of the requested word. It represents the primary content of the response, providing the user with the explanation, meaning, or description associated with the input word.  \\n\\nThe response is therefore a simple object with one key-value pair, where the key identifies the type of information returned (the word\\u2019s definition) and the value is the actual definition text.\", \"examples\": [{\"user_intent\": \"I want to know the meaning of the word 'serendipity'.\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"serendipity\"}}}, {\"user_intent\": \"Look up the definition of 'quantum mechanics' for me.\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"quantum mechanics\"}}}, {\"user_intent\": \"Can you tell me what 'ephemeral' means?\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"ephemeral\"}}}]}\n\n# User Query\nCan you search for the definition of the word 'perplexed'?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know the meaning of the word 'perplexed'.",
                    "tool_description": "Retrieve the definition of a given word based on a search query.",
                    "expected_response": "An object containing the textual definition of the requested word."
                }
            ],
            "extracted_arguments": {
                "query": "The word or term for which the user wants to obtain the definition."
            }
        }
    },
    {
        "id": "apibank_query_92",
        "query": "Can you please give me the health data for user A12345 from 2023-03-01 to 2023-03-31?",
        "instruction": "Given a `user health data retrieval` task, retrieve tools that access and query health information by processing user ID and time period inputs to return detailed user health data for the specified range.",
        "labels": [
            {
                "id": "apibank_tool_55",
                "doc": {
                    "expressions": "QueryHealthData(user_id: str, time_period: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_health_data.py",
                    "parameters": "(user_id: str, time_period: datetime)",
                    "name": "QueryHealthData",
                    "description": "description = \"API that retrieves the health data of a user for a specific time period. The 'user_id' parameter is used to identify the user for whom the data is to be fetched and the 'time_period' parameter specifies the time range for which the data should be retrieved.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The ID of the user whose health data is to be retrieved.'},\n    'time_period': {'type': 'str', 'description': 'The time period for which health data is required in the format %Y-%m-%d to %Y-%m-%d'}\n}\noutput_parameters = {\n    'data': {'type': 'list of dictionaries', 'description': 'The health data of the user for the specified time period.'},\n    'status': {'type': 'str', 'description': 'Success or failure of the API call.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 5: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 6: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.",
            "Tool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 8: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 9: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 11: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 12: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 13: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 14: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.",
            "Tool 15: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 16: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 17: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: Retrieve a list of meetings scheduled by a user by querying the API with an authentication token."
        ],
        "tool_view": {
            "description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user whose health history is being recorded.",
                    "required": true,
                    "example": "12345"
                },
                "date": {
                    "type": "string",
                    "description": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                },
                "health_data": {
                    "type": "object",
                    "description": "An object containing the health data that is being recorded for the user.",
                    "required": true,
                    "example": {
                        "weight": 70,
                        "blood_pressure": "120/80",
                        "heart_rate": 72
                    }
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\n\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\"success\"` if the health data was recorded correctly, or `\"failed\"` if there was an error or the operation did not complete as intended.  \n\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action’s result.",
            "examples": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for user 1001.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "1001",
                            "date": "2025-12-30",
                            "health_data": {
                                "blood_pressure": "120/80",
                                "heart_rate": 72
                            }
                        }
                    }
                },
                {
                    "user_intent": "Add yesterday's step count and sleep hours for user A42.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "A42",
                            "date": "2025-12-29",
                            "health_data": {
                                "steps": 8500,
                                "sleep_hours": 7.5
                            }
                        }
                    }
                },
                {
                    "user_intent": "Log user 78's weight and body temperature for today.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "78",
                            "date": "2025-12-30",
                            "health_data": {
                                "weight_kg": 68.2,
                                "body_temperature_c": 36.6
                            }
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 5: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 6: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.\nTool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 8: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 9: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 11: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 12: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 13: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 14: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.\nTool 15: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 16: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 17: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: Retrieve a list of meetings scheduled by a user by querying the API with an authentication token.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Record and store a user\\u2019s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user whose health history is being recorded.\", \"required\": true, \"example\": \"12345\"}, \"date\": {\"type\": \"string\", \"description\": \"The date when the health data was recorded, in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}, \"health_data\": {\"type\": \"object\", \"description\": \"An object containing the health data that is being recorded for the user.\", \"required\": true, \"example\": {\"weight\": 70, \"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\\n\\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\\\"success\\\"` if the health data was recorded correctly, or `\\\"failed\\\"` if there was an error or the operation did not complete as intended.  \\n\\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action\\u2019s result.\", \"examples\": [{\"user_intent\": \"Record today's blood pressure and heart rate for user 1001.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"1001\", \"date\": \"2025-12-30\", \"health_data\": {\"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}}, {\"user_intent\": \"Add yesterday's step count and sleep hours for user A42.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"A42\", \"date\": \"2025-12-29\", \"health_data\": {\"steps\": 8500, \"sleep_hours\": 7.5}}}}, {\"user_intent\": \"Log user 78's weight and body temperature for today.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"78\", \"date\": \"2025-12-30\", \"health_data\": {\"weight_kg\": 68.2, \"body_temperature_c\": 36.6}}}}]}\n\n# User Query\nCan you please give me the health data for user A12345 from 2023-03-01 to 2023-03-31?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Retrieve health data for a specific user within a given date range.",
                    "tool_description": "This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
                    "expected_response": "A structured collection of health records for the specified user and time range, including details such as measurements, observations, and timestamps."
                }
            ],
            "extracted_arguments": {
                "user_id": "The unique identifier of the user whose health data is being requested.",
                "start_date": "The beginning date of the period for which health data is requested, in YYYY-MM-DD format.",
                "end_date": "The ending date of the period for which health data is requested, in YYYY-MM-DD format."
            }
        }
    },
    {
        "id": "apibank_query_93",
        "query": "Can you modify my alarm for tomorrow morning at 7am? Today is 2023-03-15.",
        "instruction": "Given an `alarm modification` task, retrieve tools that facilitate the adjustment of alarms by processing the necessary authorization token, timer ID, and desired alarm time to update the alarm settings and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_20",
                "doc": {
                    "expressions": "ModifyAlarm(token: str, timer_id: int, time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_alarm.py",
                    "parameters": "(token: str, timer_id: int, time: datetime)",
                    "name": "ModifyAlarm",
                    "description": "description = \"Modify an alarm API that takes three parameters - 'timer_id', 'time' and 'token'. The 'timer_id' parameter refers to the existing alarm that needs to be modified. The 'time' parameter specifies the new time at which the alarm should be triggered.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authorization token.'},\n    'timer_id': {'type': 'int', 'description': 'The id of the timer that needs to be modified.'},\n    'time': {'type': 'str', 'description': 'The new time for the timer. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'message': {'type': 'str', 'description': 'Additional information about the status.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 1: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 2: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 6: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 7: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 8: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 9: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 10: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 11: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 12: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 13: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information."
        ],
        "tool_view": {
            "description": "Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "The authorization token required to authenticate the request.",
                    "required": true,
                    "example": "abcd1234token"
                },
                "timer_id": {
                    "type": "integer",
                    "description": "The unique identifier of the timer that needs to be modified.",
                    "required": true,
                    "example": 42
                },
                "time": {
                    "type": "string",
                    "description": "The new time for the timer in the format '%Y-%m-%d %H:%M:%S', specifying when the alarm should trigger.",
                    "required": true,
                    "example": "2025-12-11 08:30:00"
                }
            },
            "response": "The tool returns a JSON object representing the outcome of the alarm modification request. The response contains two components:  \n\n1. **status**: A string indicating whether the operation succeeded or failed. It serves as a high-level indicator of the result. Typical values would be `\"success\"` if the alarm was successfully updated, or `\"failed\"` if there was an error.  \n\n2. **message**: A string providing additional context or details about the operation’s result. This may include error descriptions, validation feedback, or confirmation messages explaining why the operation succeeded or failed.  \n\nTogether, these fields allow the caller to programmatically check the result of the modification and obtain human-readable information for logging or debugging.",
            "examples": [
                {
                    "user_intent": "I want to change the time of my existing alarm to 7:00 AM tomorrow.",
                    "tool_call": {
                        "name": "ModifyAlarm",
                        "arguments": {
                            "token": "abc123xyz",
                            "timer_id": 101,
                            "time": "2025-12-31 07:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Can you update the timer with ID 50 to trigger at 3:30 PM today?",
                    "tool_call": {
                        "name": "ModifyAlarm",
                        "arguments": {
                            "token": "securetoken789",
                            "timer_id": 50,
                            "time": "2025-12-30 15:30:00"
                        }
                    }
                },
                {
                    "user_intent": "I need to reschedule my alarm to 8:15 AM next Monday.",
                    "tool_call": {
                        "name": "ModifyAlarm",
                        "arguments": {
                            "token": "def456ghj",
                            "timer_id": 200,
                            "time": "2025-01-05 08:15:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 1: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 2: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 6: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 7: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 8: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 9: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 10: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 11: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 12: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 13: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"The authorization token required to authenticate the request.\", \"required\": true, \"example\": \"abcd1234token\"}, \"timer_id\": {\"type\": \"integer\", \"description\": \"The unique identifier of the timer that needs to be modified.\", \"required\": true, \"example\": 42}, \"time\": {\"type\": \"string\", \"description\": \"The new time for the timer in the format '%Y-%m-%d %H:%M:%S', specifying when the alarm should trigger.\", \"required\": true, \"example\": \"2025-12-11 08:30:00\"}}, \"response\": \"The tool returns a JSON object representing the outcome of the alarm modification request. The response contains two components:  \\n\\n1. **status**: A string indicating whether the operation succeeded or failed. It serves as a high-level indicator of the result. Typical values would be `\\\"success\\\"` if the alarm was successfully updated, or `\\\"failed\\\"` if there was an error.  \\n\\n2. **message**: A string providing additional context or details about the operation\\u2019s result. This may include error descriptions, validation feedback, or confirmation messages explaining why the operation succeeded or failed.  \\n\\nTogether, these fields allow the caller to programmatically check the result of the modification and obtain human-readable information for logging or debugging.\", \"examples\": [{\"user_intent\": \"I want to change the time of my existing alarm to 7:00 AM tomorrow.\", \"tool_call\": {\"name\": \"ModifyAlarm\", \"arguments\": {\"token\": \"abc123xyz\", \"timer_id\": 101, \"time\": \"2025-12-31 07:00:00\"}}}, {\"user_intent\": \"Can you update the timer with ID 50 to trigger at 3:30 PM today?\", \"tool_call\": {\"name\": \"ModifyAlarm\", \"arguments\": {\"token\": \"securetoken789\", \"timer_id\": 50, \"time\": \"2025-12-30 15:30:00\"}}}, {\"user_intent\": \"I need to reschedule my alarm to 8:15 AM next Monday.\", \"tool_call\": {\"name\": \"ModifyAlarm\", \"arguments\": {\"token\": \"def456ghj\", \"timer_id\": 200, \"time\": \"2025-01-05 08:15:00\"}}}]}\n\n# User Query\nCan you modify my alarm for tomorrow morning at 7am? Today is 2023-03-15.\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to change the time of my existing alarm to 7:00 AM tomorrow.",
                    "tool_description": "Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
                    "expected_response": "A JSON object containing the status of the alarm modification and a message describing the result."
                }
            ],
            "extracted_arguments": {
                "token": "The authorization token required to authenticate the request.",
                "timer_id": "The unique identifier of the alarm that needs to be modified.",
                "time": "The new time for the alarm in the format '%Y-%m-%d %H:%M:%S', representing 7:00 AM on the day after the current date."
            }
        }
    },
    {
        "id": "apibank_query_94",
        "query": "Can you help me set an alarm for 8 am tomorrow?",
        "instruction": "Given an `alarm setting` task, retrieve tools that manage alarm operations by authenticating the user and processing time inputs to set an alarm, ensuring successful scheduling and returning the operation status.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_18",
                "doc": {
                    "expressions": "AddAlarm(token: str, time: datetime)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/add_alarm.py",
                    "parameters": "(token: str, time: datetime)",
                    "name": "AddAlarm",
                    "description": "description = \"Add an alarm clock API that takes two parameters - 'token' and 'time'. The 'token' parameter authenticates the user and the 'time' parameter specifies the time at which the alarm should go off.\"\n\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'Authentication token for the user.'},\n    'time': {'type': 'datetime', 'description': 'The time for the alarm clock in the format of \"%Y-%m-%d %H:%M:%S\".'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'The status of the request - success or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 4: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 5: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 7: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 9: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 11: This API retrieves the definition of a word based on a provided search query.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 16: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 17: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 18: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 19: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content."
        ],
        "tool_view": {
            "description": "Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "The authentication token for the user, used to verify access to add an alarm.",
                    "required": true,
                    "default": null,
                    "example": "abc123xyz"
                },
                "time": {
                    "type": "datetime",
                    "description": "The time at which the alarm should go off, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "default": null,
                    "example": "2025-12-12 07:30:00"
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the request to add an alarm. It contains the following component:  \n\n- **status** (string): This field communicates whether the request to add the alarm was successful or not. Its value typically reflects one of two states: a success state indicating that the alarm was successfully created, or a failure state indicating that the alarm could not be added, possibly due to authentication issues, invalid time format, or other errors.  \n\nThis is the only component defined in the response, and it serves as a concise indicator of the operation’s result.",
            "examples": [
                {
                    "user_intent": "Set an alarm for tomorrow morning at 7 AM.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "user_abc123token",
                            "time": "2026-01-01 07:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I want to schedule an alarm for my meeting next Monday at 9:30 AM.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "secureToken456xyz",
                            "time": "2026-01-05 09:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Create a reminder alarm for December 31st at 11:59 PM for New Year's Eve.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "token789secure",
                            "time": "2025-12-31 23:59:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 4: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 5: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 7: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 9: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 11: This API retrieves the definition of a word based on a provided search query.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 16: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 17: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 18: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 19: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"The authentication token for the user, used to verify access to add an alarm.\", \"required\": true, \"default\": null, \"example\": \"abc123xyz\"}, \"time\": {\"type\": \"datetime\", \"description\": \"The time at which the alarm should go off, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"default\": null, \"example\": \"2025-12-12 07:30:00\"}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the request to add an alarm. It contains the following component:  \\n\\n- **status** (string): This field communicates whether the request to add the alarm was successful or not. Its value typically reflects one of two states: a success state indicating that the alarm was successfully created, or a failure state indicating that the alarm could not be added, possibly due to authentication issues, invalid time format, or other errors.  \\n\\nThis is the only component defined in the response, and it serves as a concise indicator of the operation\\u2019s result.\", \"examples\": [{\"user_intent\": \"Set an alarm for tomorrow morning at 7 AM.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"user_abc123token\", \"time\": \"2026-01-01 07:00:00\"}}}, {\"user_intent\": \"I want to schedule an alarm for my meeting next Monday at 9:30 AM.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"secureToken456xyz\", \"time\": \"2026-01-05 09:30:00\"}}}, {\"user_intent\": \"Create a reminder alarm for December 31st at 11:59 PM for New Year's Eve.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"token789secure\", \"time\": \"2025-12-31 23:59:00\"}}}]}\n\n# User Query\nCan you help me set an alarm for 8 am tomorrow?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Set an alarm for 8 AM tomorrow.",
                    "tool_description": "Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
                    "expected_response": "A structured object indicating whether the alarm was successfully created or not, including a status field."
                }
            ],
            "extracted_arguments": {
                "token": "The authentication token for the user, used to verify access to add an alarm.",
                "time": "The date and time at which the alarm should go off, formatted as '%Y-%m-%d %H:%M:%S'."
            }
        }
    },
    {
        "id": "apibank_query_95",
        "query": "Can you help me delete my account?",
        "instruction": "Given an `account deletion` task, retrieve tools that facilitate account management by processing authentication tokens to perform the deletion operation and return the status outcome.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_2",
                "doc": {
                    "expressions": "DeleteAccount(token: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_account.py",
                    "parameters": "(token: str)",
                    "name": "DeleteAccount",
                    "description": "description = \"Delete account API that takes a token parameter which is the authentication token of the user making the deletion request.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 1: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 4: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 7: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 10: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 11: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 12: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 13: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 14: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 15: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 16: This API retrieves the definition of a word based on a provided search query.",
            "Tool 17: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content."
        ],
        "tool_view": {
            "description": "This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "The authentication token of the user making the account deletion request.",
                    "required": true,
                    "example": "abc123xyz"
                }
            },
            "response": "The tool’s response is an object that contains a single field:  \n\n- **status** (string): Indicates the outcome of the account deletion request. Its value communicates whether the operation was successful or not, typically using indicators such as `\"success\"` for a successful deletion and `\"failed\"` if the deletion could not be completed. This field serves as a simple, high-level status report of the API call.",
            "examples": [
                {
                    "user_intent": "I want to permanently delete my account from the service.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "user_abc123_securetoken"
                        }
                    }
                },
                {
                    "user_intent": "Remove my profile immediately for privacy reasons.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "privacy_request_987xyz"
                        }
                    }
                },
                {
                    "user_intent": "Deactivate my account using the API key I received after login.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "login_session_token_456def"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 1: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 4: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 7: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 10: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 11: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 12: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 13: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 14: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 15: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 16: This API retrieves the definition of a word based on a provided search query.\nTool 17: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"The authentication token of the user making the account deletion request.\", \"required\": true, \"example\": \"abc123xyz\"}}, \"response\": \"The tool\\u2019s response is an object that contains a single field:  \\n\\n- **status** (string): Indicates the outcome of the account deletion request. Its value communicates whether the operation was successful or not, typically using indicators such as `\\\"success\\\"` for a successful deletion and `\\\"failed\\\"` if the deletion could not be completed. This field serves as a simple, high-level status report of the API call.\", \"examples\": [{\"user_intent\": \"I want to permanently delete my account from the service.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"user_abc123_securetoken\"}}}, {\"user_intent\": \"Remove my profile immediately for privacy reasons.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"privacy_request_987xyz\"}}}, {\"user_intent\": \"Deactivate my account using the API key I received after login.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"login_session_token_456def\"}}}]}\n\n# User Query\nCan you help me delete my account?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to permanently delete my account from the service.",
                    "tool_description": "This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
                    "expected_response": "An object containing a status field, which indicates the outcome of the account deletion request, such as 'success' or 'failed'."
                }
            ],
            "extracted_arguments": {
                "token": "The authentication token of the user making the account deletion request."
            }
        }
    },
    {
        "id": "apibank_query_96",
        "query": "Please cancel the timed switch of my device with ID 10000025 set for March 19th at 9:30 AM.",
        "instruction": "Given a `device operation cancellation` task, retrieve tools that execute cancellation actions on smart devices by processing specific device IDs and scheduled times to terminate planned operations and confirm the status of the request.",
        "labels": [
            {
                "id": "apibank_tool_69",
                "doc": {
                    "expressions": "CancelTimedSwitch(device_id: str, switch_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_timed_switch.py",
                    "parameters": "(device_id: str, switch_time: datetime)",
                    "name": "CancelTimedSwitch",
                    "description": "description = \"API for canceling a timed switch on a device using its 'device ID' and 'switch time' input parameters.\"\ninput_parameters = {\n    'device_id': {'type': 'str', 'description': 'The ID of the device for which the timed switch needs to be cancelled.'},\n    'switch_time': {'type': 'datetime', 'description': 'The time of the scheduled switch. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'The status of the API call - success or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 1: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 2: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 3: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 4: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 5: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 6: Send commands to a specific device by providing its unique identifier and the action to execute, allowing real-time control of the device and receiving a status response indicating success or failure.",
            "Tool 7: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 8: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 9: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 10: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 11: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 12: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 13: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 14: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 15: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 16: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 17: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.",
            "Tool 18: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 19: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed."
        ],
        "tool_view": {
            "description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "parameters": {
                "device_id": {
                    "type": "string",
                    "description": "The unique identifier of the device for which the scheduled timed switch should be cancelled.",
                    "required": true,
                    "example": "device123"
                },
                "switch_time": {
                    "type": "string",
                    "description": "The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "example": "2025-12-11 14:30:00"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \"success\" or \"failed,\" providing a clear, high-level result of the operation.  \n\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.",
            "examples": [
                {
                    "user_intent": "Cancel the scheduled power-on for my smart lamp at 8 PM tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "lamp_01",
                            "switch_time": "2025-12-30 20:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "thermostat_22",
                            "switch_time": "2025-12-31 07:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Abort the scheduled irrigation system switch that was set for midnight tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "irrigation_05",
                            "switch_time": "2025-12-31 00:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 1: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 2: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 3: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 4: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 5: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 6: Send commands to a specific device by providing its unique identifier and the action to execute, allowing real-time control of the device and receiving a status response indicating success or failure.\nTool 7: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 8: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 9: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 10: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 11: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 12: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 13: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 14: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 15: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 16: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 17: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\nTool 18: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 19: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\", \"parameters\": {\"device_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the device for which the scheduled timed switch should be cancelled.\", \"required\": true, \"example\": \"device123\"}, \"switch_time\": {\"type\": \"string\", \"description\": \"The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"example\": \"2025-12-11 14:30:00\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \\\"success\\\" or \\\"failed,\\\" providing a clear, high-level result of the operation.  \\n\\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.\", \"examples\": [{\"user_intent\": \"Cancel the scheduled power-on for my smart lamp at 8 PM tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"lamp_01\", \"switch_time\": \"2025-12-30 20:00:00\"}}}, {\"user_intent\": \"I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"thermostat_22\", \"switch_time\": \"2025-12-31 07:30:00\"}}}, {\"user_intent\": \"Abort the scheduled irrigation system switch that was set for midnight tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"irrigation_05\", \"switch_time\": \"2025-12-31 00:00:00\"}}}]}\n\n# User Query\nPlease cancel the timed switch of my device with ID 10000025 set for March 19th at 9:30 AM.\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Cancel the scheduled timed switch for a specific device at a specified time.",
                    "tool_description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
                    "expected_response": "An object containing a status field indicating whether the cancellation was successful or failed."
                }
            ],
            "extracted_arguments": {
                "device_id": "The unique identifier of the device for which the scheduled timed switch should be cancelled.",
                "switch_time": "The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'."
            }
        }
    },
    {
        "id": "apibank_query_97",
        "query": "Can you perform some basic arithmetic calculation for me?",
        "instruction": "Given an `arithmetic calculation` task, retrieve tools that perform mathematical computations by processing arithmetic expressions in infix notation to return the calculation result.",
        "labels": [
            {
                "id": "apibank_tool_53",
                "doc": {
                    "expressions": "Calculator(infix_expression: str)",
                    "category": "获取信息 - 工具",
                    "path": "apis/calculator.py",
                    "parameters": "(infix_expression: str)",
                    "name": "Calculator",
                    "description": "description = \"An API to perform arithmetic calculations on an infix expression.\"\ninput_parameters = {\n    'infix_expression': {'type': 'str', 'description': \"A string representing an arithmetic expression in infix notation.\"}\n}\noutput_parameters = {\n    'result': {'type': 'float/int', 'description': 'Result of the arithmetic expression.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This tool performs arithmetic calculations on an infix expression and returns the result as a float or integer.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 4: This API retrieves the definition of a word based on a provided search query.",
            "Tool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 8: Generates a caption for a given image.",
            "Tool 9: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term."
        ],
        "tool_view": {
            "description": "This tool performs arithmetic calculations on an infix expression and returns the result as a float or integer.",
            "parameters": {
                "infix_expression": {
                    "type": "string",
                    "description": "A string representing an arithmetic expression in infix notation.",
                    "required": true,
                    "example": "(2 + 3) * 5"
                }
            },
            "response": "The tool returns the result of evaluating the provided arithmetic expression. The response contains a single field:  \n\n- **result**: A numeric value representing the outcome of the calculation. This can be either an integer or a floating-point number, depending on the nature of the arithmetic expression. It reflects the computed value of the input infix expression supplied to the tool.",
            "examples": [
                {
                    "user_intent": "I want to calculate 5 plus 3 times 2.",
                    "tool_call": {
                        "name": "Calculator",
                        "arguments": {
                            "infix_expression": "5 + 3 * 2"
                        }
                    }
                },
                {
                    "user_intent": "What is 12 divided by 4 plus 7?",
                    "tool_call": {
                        "name": "Calculator",
                        "arguments": {
                            "infix_expression": "12 / 4 + 7"
                        }
                    }
                },
                {
                    "user_intent": "Calculate the result of (8 + 2) * (5 - 3).",
                    "tool_call": {
                        "name": "Calculator",
                        "arguments": {
                            "infix_expression": "(8 + 2) * (5 - 3)"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This tool performs arithmetic calculations on an infix expression and returns the result as a float or integer.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 4: This API retrieves the definition of a word based on a provided search query.\nTool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 8: Generates a caption for a given image.\nTool 9: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This tool performs arithmetic calculations on an infix expression and returns the result as a float or integer.\", \"parameters\": {\"infix_expression\": {\"type\": \"string\", \"description\": \"A string representing an arithmetic expression in infix notation.\", \"required\": true, \"example\": \"(2 + 3) * 5\"}}, \"response\": \"The tool returns the result of evaluating the provided arithmetic expression. The response contains a single field:  \\n\\n- **result**: A numeric value representing the outcome of the calculation. This can be either an integer or a floating-point number, depending on the nature of the arithmetic expression. It reflects the computed value of the input infix expression supplied to the tool.\", \"examples\": [{\"user_intent\": \"I want to calculate 5 plus 3 times 2.\", \"tool_call\": {\"name\": \"Calculator\", \"arguments\": {\"infix_expression\": \"5 + 3 * 2\"}}}, {\"user_intent\": \"What is 12 divided by 4 plus 7?\", \"tool_call\": {\"name\": \"Calculator\", \"arguments\": {\"infix_expression\": \"12 / 4 + 7\"}}}, {\"user_intent\": \"Calculate the result of (8 + 2) * (5 - 3).\", \"tool_call\": {\"name\": \"Calculator\", \"arguments\": {\"infix_expression\": \"(8 + 2) * (5 - 3)\"}}}]}\n\n# User Query\nCan you perform some basic arithmetic calculation for me?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to calculate the result of a basic arithmetic expression.",
                    "tool_description": "This tool performs arithmetic calculations on an infix expression and returns the result as a float or integer.",
                    "expected_response": "A numeric value representing the computed result of the arithmetic expression."
                }
            ],
            "extracted_arguments": {
                "infix_expression": "A string representing an arithmetic expression in standard infix notation, including operators and operands."
            }
        }
    },
    {
        "id": "apibank_query_98",
        "query": "Can you help me change my appointment?",
        "instruction": "Given an `appointment modification` task, retrieve tools that manage scheduling operations by processing registration number and new appointment time inputs to update existing appointments and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 6: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 8: Generates a caption for a given image.",
            "Tool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 10: This API retrieves the definition of a word based on a provided search query.",
            "Tool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents."
        ],
        "tool_view": {
            "description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "parameters": {
                "old_password": {
                    "type": "string",
                    "description": "The user's current password that needs to be verified before changing to a new password.",
                    "required": true,
                    "example": "currentPass123"
                },
                "new_password": {
                    "type": "string",
                    "description": "The new password that will replace the existing password for the user account.",
                    "required": true,
                    "example": "newSecurePass456"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \"success\" to indicate the password was changed successfully, or \"failed\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \n\nThis response provides a concise confirmation of the result of the password update request.",
            "examples": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "Summer2025!",
                            "new_password": "Winter2025#Secure"
                        }
                    }
                },
                {
                    "user_intent": "Reset my password because I think my current one is compromised.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "MyOldPass123",
                            "new_password": "SafePass!789"
                        }
                    }
                },
                {
                    "user_intent": "Update my login credentials to a stronger password for better security.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "password2025",
                            "new_password": "StrongerPass#2025"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 6: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 8: Generates a caption for a given image.\nTool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 10: This API retrieves the definition of a word based on a provided search query.\nTool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\", \"parameters\": {\"old_password\": {\"type\": \"string\", \"description\": \"The user's current password that needs to be verified before changing to a new password.\", \"required\": true, \"example\": \"currentPass123\"}, \"new_password\": {\"type\": \"string\", \"description\": \"The new password that will replace the existing password for the user account.\", \"required\": true, \"example\": \"newSecurePass456\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \\\"success\\\" to indicate the password was changed successfully, or \\\"failed\\\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \\n\\nThis response provides a concise confirmation of the result of the password update request.\", \"examples\": [{\"user_intent\": \"I want to change my account password from my old one to a new secure password.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"Summer2025!\", \"new_password\": \"Winter2025#Secure\"}}}, {\"user_intent\": \"Reset my password because I think my current one is compromised.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"MyOldPass123\", \"new_password\": \"SafePass!789\"}}}, {\"user_intent\": \"Update my login credentials to a stronger password for better security.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"password2025\", \"new_password\": \"StrongerPass#2025\"}}}]}\n\n# User Query\nCan you help me change my appointment?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to update the time of an existing medical appointment.",
                    "tool_description": "Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
                    "expected_response": "An object indicating whether the appointment update was successful or not."
                }
            ],
            "extracted_arguments": {
                "appointment_id": "The unique identifier for the existing appointment to be changed.",
                "new_date_time": "The new desired date and time for the appointment."
            }
        }
    },
    {
        "id": "apibank_query_99",
        "query": "Hi, can you help me modify a reminder?",
        "instruction": "Given a `reminder modification` task, retrieve tools that assist in updating reminders by processing inputs such as a reminder ID, updated content, and updated time to modify the existing reminder details and provide the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_7",
                "doc": {
                    "expressions": "ModifyReminder(token: str, reminder_id: int, content: str, time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_reminder.py",
                    "parameters": "(token: str, reminder_id: int, content: str, time: datetime)",
                    "name": "ModifyReminder",
                    "description": "description = \"Modify an existing reminder API that takes three parameters - 'reminder_id', 'content' and 'time'. The 'reminder_id' parameter refers to the identifier of the reminder that needs to be modified, 'content' parameter refers to the updated description of the reminder, and 'time' parameter specifies the updated time of the reminder.\"\ninput_parameters = {\n    'reminder_id': {'type': 'int', 'description': 'The identifier of the reminder.'},\n    'content': {'type': 'str', 'description': 'The updated content of the reminder.'},\n    'time': {'type': 'str', 'description': 'The updated time for the reminder. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 5: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 6: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 7: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 8: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 9: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 10: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 11: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 12: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 13: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference."
        ],
        "tool_view": {
            "description": "Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "parameters": {
                "reminder_id": {
                    "type": "int",
                    "description": "The unique identifier of the reminder that needs to be modified.",
                    "required": true,
                    "example": 123
                },
                "content": {
                    "type": "string",
                    "description": "The new content or description for the reminder.",
                    "required": true,
                    "example": "Doctor appointment at 3 PM"
                },
                "time": {
                    "type": "string",
                    "description": "The updated date for the reminder in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-15"
                }
            },
            "response": "The tool’s response consists of a single structured object with the following component:\n\n- **status** (string): Indicates the outcome of the reminder modification operation. Its value conveys whether the request was successfully processed or not. Specifically, it can be interpreted as:  \n  - `\"success\"`: The reminder was successfully updated with the provided content and/or time.  \n  - `\"failed\"`: The modification did not succeed, which could occur due to reasons such as an invalid `reminder_id` or incorrect input format.\n\nThis is the only field defined in the response, and it serves as a simple confirmation of the operation’s result without returning the full reminder data or additional metadata.",
            "examples": [
                {
                    "user_intent": "I need to change the reminder for my meeting tomorrow to 3 PM.",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 101,
                            "content": "Meeting with the team",
                            "time": "2025-12-31"
                        }
                    }
                },
                {
                    "user_intent": "Update my doctor's appointment reminder to 2:30 PM on January 5th.",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 204,
                            "content": "Doctor's appointment",
                            "time": "2026-01-05"
                        }
                    }
                },
                {
                    "user_intent": "Can you change my reminder to pick up groceries to 4 PM on December 30th?",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 50,
                            "content": "Pick up groceries",
                            "time": "2025-12-30"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 5: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 6: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 7: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 8: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 9: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 10: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 11: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 12: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 13: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder\\u2019s details efficiently.\", \"parameters\": {\"reminder_id\": {\"type\": \"int\", \"description\": \"The unique identifier of the reminder that needs to be modified.\", \"required\": true, \"example\": 123}, \"content\": {\"type\": \"string\", \"description\": \"The new content or description for the reminder.\", \"required\": true, \"example\": \"Doctor appointment at 3 PM\"}, \"time\": {\"type\": \"string\", \"description\": \"The updated date for the reminder in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-15\"}}, \"response\": \"The tool\\u2019s response consists of a single structured object with the following component:\\n\\n- **status** (string): Indicates the outcome of the reminder modification operation. Its value conveys whether the request was successfully processed or not. Specifically, it can be interpreted as:  \\n  - `\\\"success\\\"`: The reminder was successfully updated with the provided content and/or time.  \\n  - `\\\"failed\\\"`: The modification did not succeed, which could occur due to reasons such as an invalid `reminder_id` or incorrect input format.\\n\\nThis is the only field defined in the response, and it serves as a simple confirmation of the operation\\u2019s result without returning the full reminder data or additional metadata.\", \"examples\": [{\"user_intent\": \"I need to change the reminder for my meeting tomorrow to 3 PM.\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 101, \"content\": \"Meeting with the team\", \"time\": \"2025-12-31\"}}}, {\"user_intent\": \"Update my doctor's appointment reminder to 2:30 PM on January 5th.\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 204, \"content\": \"Doctor's appointment\", \"time\": \"2026-01-05\"}}}, {\"user_intent\": \"Can you change my reminder to pick up groceries to 4 PM on December 30th?\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 50, \"content\": \"Pick up groceries\", \"time\": \"2025-12-30\"}}}]}\n\n# User Query\nHi, can you help me modify a reminder?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to modify the details of an existing reminder.",
                    "tool_description": "Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
                    "expected_response": "A status object indicating whether the reminder was successfully updated or if the modification failed."
                }
            ],
            "extracted_arguments": {
                "reminder_id": "The unique identifier of the reminder that needs to be modified.",
                "content": "The new content or description for the reminder.",
                "time": "The updated date and time for the reminder in the format YYYY-MM-DD or full timestamp."
            }
        }
    },
    {
        "id": "apibank_query_100",
        "query": "Can you help me reset my password for my account?",
        "instruction": "Given a `password reset` task, retrieve tools that assist with account recovery by processing user credentials such as username and email to facilitate password reset and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_2",
                "doc": {
                    "expressions": "DeleteAccount(token: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_account.py",
                    "parameters": "(token: str)",
                    "name": "DeleteAccount",
                    "description": "description = \"Delete account API that takes a token parameter which is the authentication token of the user making the deletion request.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_4",
                "doc": {
                    "expressions": "ForgotPassword(username: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/forgot_password.py",
                    "parameters": "(username: str, email: str)",
                    "name": "ForgotPassword",
                    "description": "description = \"Forgot Password API that takes two parameters - 'username' and 'email'. The 'username' parameter refers to the username of the account for which the password is forgotten and the 'email' parameter specifies the email address associated with the account.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the account.'},\n    'email': {'type': 'str', 'description': 'The email address associated with the account.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 1: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 3: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 7: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.",
            "Tool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 12: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 13: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 14: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 15: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference."
        ],
        "tool_view": {
            "description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "parameters": {
                "old_password": {
                    "type": "string",
                    "description": "The user's current password that needs to be verified before changing to a new password.",
                    "required": true,
                    "example": "currentPass123"
                },
                "new_password": {
                    "type": "string",
                    "description": "The new password that will replace the existing password for the user account.",
                    "required": true,
                    "example": "newSecurePass456"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \"success\" to indicate the password was changed successfully, or \"failed\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \n\nThis response provides a concise confirmation of the result of the password update request.",
            "examples": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "Summer2025!",
                            "new_password": "Winter2025#Secure"
                        }
                    }
                },
                {
                    "user_intent": "Reset my password because I think my current one is compromised.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "MyOldPass123",
                            "new_password": "SafePass!789"
                        }
                    }
                },
                {
                    "user_intent": "Update my login credentials to a stronger password for better security.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "password2025",
                            "new_password": "StrongerPass#2025"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 1: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 3: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 7: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.\nTool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 12: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 13: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 14: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 15: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\", \"parameters\": {\"old_password\": {\"type\": \"string\", \"description\": \"The user's current password that needs to be verified before changing to a new password.\", \"required\": true, \"example\": \"currentPass123\"}, \"new_password\": {\"type\": \"string\", \"description\": \"The new password that will replace the existing password for the user account.\", \"required\": true, \"example\": \"newSecurePass456\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \\\"success\\\" to indicate the password was changed successfully, or \\\"failed\\\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \\n\\nThis response provides a concise confirmation of the result of the password update request.\", \"examples\": [{\"user_intent\": \"I want to change my account password from my old one to a new secure password.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"Summer2025!\", \"new_password\": \"Winter2025#Secure\"}}}, {\"user_intent\": \"Reset my password because I think my current one is compromised.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"MyOldPass123\", \"new_password\": \"SafePass!789\"}}}, {\"user_intent\": \"Update my login credentials to a stronger password for better security.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"password2025\", \"new_password\": \"StrongerPass#2025\"}}}]}\n\n# User Query\nCan you help me reset my password for my account?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to reset my account password because I can't remember or want to change it.",
                    "tool_description": "Initiate a password recovery or modification by verifying the user's identity and allowing them to set a new password.",
                    "expected_response": "A status object indicating whether the password reset request was successful or failed."
                }
            ],
            "extracted_arguments": {
                "username": "The unique identifier or login name of the user requesting the password reset.",
                "email": "The email address associated with the user account, used for verification or password recovery."
            }
        }
    }
]