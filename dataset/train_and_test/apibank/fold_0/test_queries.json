[
    {
        "id": "apibank_query_44",
        "query": "Can you please check if there is any appointment for Olivia Davis with Dr. Smith on 10th Oct 2023?",
        "instruction": "Given an `appointment check` task, retrieve tools that verify scheduled appointments by processing patient name and appointment date inputs to confirm the details and status of the reservation.",
        "labels": [
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 2: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 3: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 4: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 16: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 17: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 19: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 2: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 3: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 4: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 16: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 17: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 19: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you please check if there is any appointment for Olivia Davis with Dr. Smith on 10th Oct 2023?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check if a patient has a scheduled appointment with a specific doctor on a certain date.",
                    "tool_description": "Retrieve patient registration details by querying with the patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
                    "expected_response": "An object containing the appointment details if it exists, including patient name, doctor name, and scheduled date and time."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient whose appointment is being queried.",
                "doctor_name": "The full name of the doctor with whom the appointment may be scheduled.",
                "appointment_date": "The specific date for which the appointment needs to be checked."
            }
        }
    },
    {
        "id": "apibank_query_32",
        "query": "Can you help me delete a scene named \"Relaxing Time\"?",
        "instruction": "Given a `scene deletion` task, retrieve tools that facilitate the removal of specified items by accepting inputs like scene names and returning the success or failure status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_65",
                "doc": {
                    "expressions": "DeleteScene(scene_name: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_scene.py",
                    "parameters": "(scene_name: str)",
                    "name": "DeleteScene",
                    "description": "description = \"Delete a scene API that takes one parameter - 'scene_name'. The 'scene_name' parameter refers to the name of the scene that needs to be deleted.\"\ninput_parameters = {\n    'scene_name': {'type': 'str', 'description': 'The name of the scene to be deleted.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 1: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 2: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 7: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 9: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 10: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 11: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 12: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 13: Receive notifications of incoming emails in real time, returning the email details and the status of the request.",
            "Tool 14: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 15: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 16: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 17: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 18: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 19: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments."
        ],
        "tool_view": {
            "description": "Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "parameters": {
                "scene_name": {
                    "type": "string",
                    "description": "The name of the scene that needs to be modified.",
                    "required": true,
                    "example": "Living Room"
                },
                "new_device_list": {
                    "type": "array",
                    "description": "A list of strings containing the new device names to be added to the scene.",
                    "required": true,
                    "example": [
                        "Smart Light",
                        "Smart Thermostat"
                    ]
                }
            },
            "response": "The tool returns a response object that indicates the outcome of the scene modification operation. The response contains the following component:  \n\n- **status** (string): This field conveys whether the request to modify the scene was successful or not. Its value is expected to indicate either success or failure of the operation.  \n\nNo other fields are defined in the response; the focus is solely on reporting the result of the modification attempt.",
            "examples": [
                {
                    "user_intent": "I want to add new devices to the 'Living Room' scene.",
                    "tool_call": {
                        "name": "ModifyScene",
                        "arguments": {
                            "scene_name": "Living Room",
                            "new_device_list": [
                                "Smart TV",
                                "Smart Speaker",
                                "Air Conditioner"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Update the 'Bedroom' scene by adding a few more devices like a smart lamp and thermostat.",
                    "tool_call": {
                        "name": "ModifyScene",
                        "arguments": {
                            "scene_name": "Bedroom",
                            "new_device_list": [
                                "Smart Lamp",
                                "Smart Thermostat"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Change the devices in the 'Office' scene by replacing the old ones with new ones.",
                    "tool_call": {
                        "name": "ModifyScene",
                        "arguments": {
                            "scene_name": "Office",
                            "new_device_list": [
                                "Laptop",
                                "Smart Desk",
                                "Voice Assistant"
                            ]
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 1: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 2: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 7: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 9: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 10: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 11: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 12: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 13: Receive notifications of incoming emails in real time, returning the email details and the status of the request.\nTool 14: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 15: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 16: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 17: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 18: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 19: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\", \"parameters\": {\"scene_name\": {\"type\": \"string\", \"description\": \"The name of the scene that needs to be modified.\", \"required\": true, \"example\": \"Living Room\"}, \"new_device_list\": {\"type\": \"array\", \"description\": \"A list of strings containing the new device names to be added to the scene.\", \"required\": true, \"example\": [\"Smart Light\", \"Smart Thermostat\"]}}, \"response\": \"The tool returns a response object that indicates the outcome of the scene modification operation. The response contains the following component:  \\n\\n- **status** (string): This field conveys whether the request to modify the scene was successful or not. Its value is expected to indicate either success or failure of the operation.  \\n\\nNo other fields are defined in the response; the focus is solely on reporting the result of the modification attempt.\", \"examples\": [{\"user_intent\": \"I want to add new devices to the 'Living Room' scene.\", \"tool_call\": {\"name\": \"ModifyScene\", \"arguments\": {\"scene_name\": \"Living Room\", \"new_device_list\": [\"Smart TV\", \"Smart Speaker\", \"Air Conditioner\"]}}}, {\"user_intent\": \"Update the 'Bedroom' scene by adding a few more devices like a smart lamp and thermostat.\", \"tool_call\": {\"name\": \"ModifyScene\", \"arguments\": {\"scene_name\": \"Bedroom\", \"new_device_list\": [\"Smart Lamp\", \"Smart Thermostat\"]}}}, {\"user_intent\": \"Change the devices in the 'Office' scene by replacing the old ones with new ones.\", \"tool_call\": {\"name\": \"ModifyScene\", \"arguments\": {\"scene_name\": \"Office\", \"new_device_list\": [\"Laptop\", \"Smart Desk\", \"Voice Assistant\"]}}}]}\n\n# User Query\nCan you help me delete a scene named \"Relaxing Time\"?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to delete a scene by specifying its name.",
                    "tool_description": "Delete a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
                    "expected_response": "A status indicating whether the deletion of the scene was successful or not."
                }
            ],
            "extracted_arguments": {
                "scene_name": "The name of the scene to be deleted."
            }
        }
    },
    {
        "id": "apibank_query_63",
        "query": "Can you check the registration of patient with ID 34567890 on March 25, 2023 and tell me about his appointments?",
        "instruction": "Given a `patient registration and appointment inquiry` task, retrieve tools that access and query registration databases to provide appointment details based on patient ID and date parameters, ensuring relevant information is accurately returned.",
        "labels": [
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 3: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 4: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 5: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 6: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 7: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 8: Checks whether a scheduled event conflicts with existing events by evaluating the event's description and scheduled time, helping to prevent overlapping appointments or commitments.",
            "Tool 9: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 10: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 11: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 12: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 13: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 16: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 17: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 18: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 19: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely."
        ],
        "tool_view": {
            "description": "Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "parameters": {
                "patient_name": {
                    "type": "string",
                    "description": "The full name of the patient who has made the appointment.",
                    "required": true,
                    "example": "John Doe"
                },
                "appointment_time": {
                    "type": "string",
                    "description": "The scheduled time of the appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "example": "2025-12-11 14:30:00"
                }
            },
            "response": "The tool `QueryRegistration` returns a structured response containing information about a patient’s appointment registration. The response consists of the following components:\n\n1. **status**:  \n   - **Type:** string  \n   - **Meaning:** Indicates the overall result of the query. It reflects whether the query operation was successful (`success`) or if it failed (`failed`). This field provides a high-level indication of whether the requested registration information could be retrieved.  \n\n2. **registration_details**:  \n   - **Type:** string  \n   - **Meaning:** Contains detailed information about the patient’s registration. This typically includes the appointment information associated with the given patient name and appointment time, such as patient identification, appointment specifics, and any other relevant registration metadata. It serves as the main content of the response when the query is successful.  \n\nIn summary, the response provides both a status indicator of the query operation and the detailed registration information corresponding to the requested patient and appointment time.",
            "examples": [
                {
                    "user_intent": "Check the registration details for patient John Smith who has an appointment on December 31, 2025 at 10 AM.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "John Smith",
                            "appointment_time": "2025-12-31 10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I want to see if Emily Chen has any appointments scheduled for January 5, 2026 at 14:30.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "Emily Chen",
                            "appointment_time": "2026-01-05 14:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Retrieve the registration information for patient Michael Lee without specifying the appointment time.",
                    "tool_call": {
                        "name": "QueryRegistration",
                        "arguments": {
                            "patient_name": "Michael Lee",
                            "appointment_time": null
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 3: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 4: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.\nTool 5: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 6: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 7: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 8: Checks whether a scheduled event conflicts with existing events by evaluating the event's description and scheduled time, helping to prevent overlapping appointments or commitments.\nTool 9: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 10: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 11: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 12: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 13: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 16: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 17: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 18: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 19: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\", \"parameters\": {\"patient_name\": {\"type\": \"string\", \"description\": \"The full name of the patient who has made the appointment.\", \"required\": true, \"example\": \"John Doe\"}, \"appointment_time\": {\"type\": \"string\", \"description\": \"The scheduled time of the appointment, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"example\": \"2025-12-11 14:30:00\"}}, \"response\": \"The tool `QueryRegistration` returns a structured response containing information about a patient\\u2019s appointment registration. The response consists of the following components:\\n\\n1. **status**:  \\n   - **Type:** string  \\n   - **Meaning:** Indicates the overall result of the query. It reflects whether the query operation was successful (`success`) or if it failed (`failed`). This field provides a high-level indication of whether the requested registration information could be retrieved.  \\n\\n2. **registration_details**:  \\n   - **Type:** string  \\n   - **Meaning:** Contains detailed information about the patient\\u2019s registration. This typically includes the appointment information associated with the given patient name and appointment time, such as patient identification, appointment specifics, and any other relevant registration metadata. It serves as the main content of the response when the query is successful.  \\n\\nIn summary, the response provides both a status indicator of the query operation and the detailed registration information corresponding to the requested patient and appointment time.\", \"examples\": [{\"user_intent\": \"Check the registration details for patient John Smith who has an appointment on December 31, 2025 at 10 AM.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"John Smith\", \"appointment_time\": \"2025-12-31 10:00:00\"}}}, {\"user_intent\": \"I want to see if Emily Chen has any appointments scheduled for January 5, 2026 at 14:30.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"Emily Chen\", \"appointment_time\": \"2026-01-05 14:30:00\"}}}, {\"user_intent\": \"Retrieve the registration information for patient Michael Lee without specifying the appointment time.\", \"tool_call\": {\"name\": \"QueryRegistration\", \"arguments\": {\"patient_name\": \"Michael Lee\", \"appointment_time\": null}}}]}\n\n# User Query\nCan you check the registration of patient with ID 34567890 on March 25, 2023 and tell me about his appointments?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Check the registration details for a patient by their ID and appointment date.",
                    "tool_description": "Retrieve patient registration details by querying with a patient's identification number and appointment time, allowing users to confirm or review scheduled appointments.",
                    "expected_response": "A structured response containing the status of the query and detailed registration information for the specified patient and appointment date."
                }
            ],
            "extracted_arguments": {
                "patient_id": "A unique numeric identifier assigned to the patient.",
                "appointment_time": "The scheduled date and time of the patient's appointment."
            }
        }
    },
    {
        "id": "apibank_query_9",
        "query": "Can you record my recent health data please?",
        "instruction": "Given a `health data recording` task, retrieve tools that support the entry of personal health information by processing relevant inputs like user ID, date, and health data object to record the information and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 5: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 7: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user whose health history is being recorded.",
                    "required": true,
                    "example": "12345"
                },
                "date": {
                    "type": "string",
                    "description": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                },
                "health_data": {
                    "type": "object",
                    "description": "An object containing the health data that is being recorded for the user.",
                    "required": true,
                    "example": {
                        "weight": 70,
                        "blood_pressure": "120/80",
                        "heart_rate": 72
                    }
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\n\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\"success\"` if the health data was recorded correctly, or `\"failed\"` if there was an error or the operation did not complete as intended.  \n\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action’s result.",
            "examples": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for user 1001.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "1001",
                            "date": "2025-12-30",
                            "health_data": {
                                "blood_pressure": "120/80",
                                "heart_rate": 72
                            }
                        }
                    }
                },
                {
                    "user_intent": "Add yesterday's step count and sleep hours for user A42.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "A42",
                            "date": "2025-12-29",
                            "health_data": {
                                "steps": 8500,
                                "sleep_hours": 7.5
                            }
                        }
                    }
                },
                {
                    "user_intent": "Log user 78's weight and body temperature for today.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "78",
                            "date": "2025-12-30",
                            "health_data": {
                                "weight_kg": 68.2,
                                "body_temperature_c": 36.6
                            }
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 5: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 7: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Record and store a user\\u2019s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user whose health history is being recorded.\", \"required\": true, \"example\": \"12345\"}, \"date\": {\"type\": \"string\", \"description\": \"The date when the health data was recorded, in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}, \"health_data\": {\"type\": \"object\", \"description\": \"An object containing the health data that is being recorded for the user.\", \"required\": true, \"example\": {\"weight\": 70, \"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\\n\\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\\\"success\\\"` if the health data was recorded correctly, or `\\\"failed\\\"` if there was an error or the operation did not complete as intended.  \\n\\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action\\u2019s result.\", \"examples\": [{\"user_intent\": \"Record today's blood pressure and heart rate for user 1001.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"1001\", \"date\": \"2025-12-30\", \"health_data\": {\"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}}, {\"user_intent\": \"Add yesterday's step count and sleep hours for user A42.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"A42\", \"date\": \"2025-12-29\", \"health_data\": {\"steps\": 8500, \"sleep_hours\": 7.5}}}}, {\"user_intent\": \"Log user 78's weight and body temperature for today.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"78\", \"date\": \"2025-12-30\", \"health_data\": {\"weight_kg\": 68.2, \"body_temperature_c\": 36.6}}}}]}\n\n# User Query\nCan you record my recent health data please?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Record the user's recent health data.",
                    "tool_description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
                    "expected_response": "A structured object indicating whether the health data was recorded successfully, containing a status field with values 'success' or 'failed'."
                }
            ],
            "extracted_arguments": {
                "user_id": "The unique identifier of the user whose health history is being recorded.",
                "date": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                "health_data": "An object containing the recent health metrics of the user, such as weight, blood pressure, heart rate, steps, sleep hours, or other relevant health indicators."
            }
        }
    },
    {
        "id": "apibank_query_66",
        "query": "Can you help me search artificial intelligence on wikipedia?",
        "instruction": "Given a `Wikipedia search` task, retrieve tools that facilitate information retrieval from Wikipedia by processing a keyword input to return relevant details such as the title, summary, and URL of the corresponding page.",
        "labels": [
            {
                "id": "apibank_tool_35",
                "doc": {
                    "expressions": "Wiki(keyword: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/wiki.py",
                    "parameters": "(keyword: str)",
                    "name": "Wiki",
                    "description": "description = \"Wikipedia search API that takes one parameter - 'keyword'. The 'keyword' parameter refers to the search term to be looked up on Wikipedia.\"\ninput_parameters = {\n    'keyword': {'type': 'str', 'description': 'The keyword to be searched on Wikipedia.'}\n}\noutput_parameters = {\n    'title': {'type': 'str', 'description': 'The title of the Wikipedia page matching the search term.'},\n    'summary': {'type': 'str', 'description': 'The summary of the Wikipedia page matching the search term.'},\n    'url': {'type': 'str', 'description': 'The URL of the Wikipedia page matching the search term.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 1: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 5: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.",
            "Tool 6: This API retrieves the definition of a word based on a provided search query.",
            "Tool 7: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).",
            "Tool 8: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.",
            "Tool 9: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.",
            "Tool 10: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 11: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.",
            "Tool 12: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.",
            "Tool 13: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 14: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 15: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 17: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 19: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity."
        ],
        "tool_view": {
            "description": "An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "parameters": {
                "meeting_name": {
                    "type": "string",
                    "description": "The name of the conference or a keyword that refers to the conference.",
                    "required": true,
                    "example": "AI Symposium"
                }
            },
            "response": "The tool returns a structured response containing information about conferences that match the specified `meeting_name` or keyword. The response has the following structure:\n\n- **conference_details**: A list where each element represents a single conference that matches the search criteria. Each element in the list typically contains details about the conference, such as its name, dates, location, topics, and possibly other relevant metadata. The list may be empty if no conferences match the query.  \n\nThis response allows users to programmatically access and iterate over the conferences returned by the search.",
            "examples": [
                {
                    "user_intent": "Find upcoming AI conferences that focus on natural language processing.",
                    "tool_call": {
                        "name": "AIConferenceSearch",
                        "arguments": {
                            "meeting_name": "natural language processing"
                        }
                    }
                },
                {
                    "user_intent": "I want to see a list of AI conferences happening in Europe this year.",
                    "tool_call": {
                        "name": "AIConferenceSearch",
                        "arguments": {
                            "meeting_name": "AI Europe 2026"
                        }
                    }
                },
                {
                    "user_intent": "Search for major machine learning conferences globally.",
                    "tool_call": {
                        "name": "AIConferenceSearch",
                        "arguments": {
                            "meeting_name": "machine learning"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 1: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 5: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.\nTool 6: This API retrieves the definition of a word based on a provided search query.\nTool 7: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).\nTool 8: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.\nTool 9: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.\nTool 10: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 11: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.\nTool 12: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.\nTool 13: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 14: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 15: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 17: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 19: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\", \"parameters\": {\"meeting_name\": {\"type\": \"string\", \"description\": \"The name of the conference or a keyword that refers to the conference.\", \"required\": true, \"example\": \"AI Symposium\"}}, \"response\": \"The tool returns a structured response containing information about conferences that match the specified `meeting_name` or keyword. The response has the following structure:\\n\\n- **conference_details**: A list where each element represents a single conference that matches the search criteria. Each element in the list typically contains details about the conference, such as its name, dates, location, topics, and possibly other relevant metadata. The list may be empty if no conferences match the query.  \\n\\nThis response allows users to programmatically access and iterate over the conferences returned by the search.\", \"examples\": [{\"user_intent\": \"Find upcoming AI conferences that focus on natural language processing.\", \"tool_call\": {\"name\": \"AIConferenceSearch\", \"arguments\": {\"meeting_name\": \"natural language processing\"}}}, {\"user_intent\": \"I want to see a list of AI conferences happening in Europe this year.\", \"tool_call\": {\"name\": \"AIConferenceSearch\", \"arguments\": {\"meeting_name\": \"AI Europe 2026\"}}}, {\"user_intent\": \"Search for major machine learning conferences globally.\", \"tool_call\": {\"name\": \"AIConferenceSearch\", \"arguments\": {\"meeting_name\": \"machine learning\"}}}]}\n\n# User Query\nCan you help me search artificial intelligence on wikipedia?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to search Wikipedia for information about artificial intelligence.",
                    "tool_description": "Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
                    "expected_response": "An object containing the Wikipedia page title, a brief summary of the page, and the URL to the full article."
                }
            ],
            "extracted_arguments": {
                "keyword": "The topic or term to search for on Wikipedia, as a string."
            }
        }
    },
    {
        "id": "apibank_query_30",
        "query": "Can you tell me what happened on April 21st in history?",
        "instruction": "Given a `historical event retrieval` task, retrieve tools that can query and return a list of events that occurred on a specific date by processing the date input aligned with the query's requirements.",
        "labels": [
            {
                "id": "apibank_tool_33",
                "doc": {
                    "expressions": "QueryHistoryToday(date: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_history_today.py",
                    "parameters": "(date: datetime)",
                    "name": "QueryHistoryToday",
                    "description": "description = \"QueryHistoryToday API takes one parameter 'date'. The parameter 'date' refers to the date for which historical events are to be queried.\"\ninput_parameters = {\n    'date': {'type': 'str', 'description': 'The date for which historical events are to be queried. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'events': {'type': 'list', 'description': 'List of historical events that occurred on the given date.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_53",
                "doc": {
                    "expressions": "Calculator(infix_expression: str)",
                    "category": "获取信息 - 工具",
                    "path": "apis/calculator.py",
                    "parameters": "(infix_expression: str)",
                    "name": "Calculator",
                    "description": "description = \"An API to perform arithmetic calculations on an infix expression.\"\ninput_parameters = {\n    'infix_expression': {'type': 'str', 'description': \"A string representing an arithmetic expression in infix notation.\"}\n}\noutput_parameters = {\n    'result': {'type': 'float/int', 'description': 'Result of the arithmetic expression.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 4: This API retrieves the definition of a word based on a provided search query.",
            "Tool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 8: Generates a caption for a given image.",
            "Tool 9: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 10: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 11: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term."
        ],
        "tool_view": {
            "description": "Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "parameters": {
                "date": {
                    "type": "string",
                    "description": "The date for which historical events are to be queried. The expected format is YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                }
            },
            "response": "The tool response consists of a single field named `events`, which is a list. Each element in this list represents a historical event that occurred on the specified date. The elements typically contain information describing the event, such as its title, date, and possibly additional details or context about the event, though the exact structure of each event is not explicitly defined in the documentation. The `events` list may be empty if no historical events are found for the given date.",
            "examples": [
                {
                    "user_intent": "Tell me what happened on June 6, 1944.",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "1944-06-06"
                        }
                    }
                },
                {
                    "user_intent": "Give me a list of historical events for July 20, 1969.",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "1969-07-20"
                        }
                    }
                },
                {
                    "user_intent": "What significant events took place on September 11, 2001?",
                    "tool_call": {
                        "name": "QueryHistoryToday",
                        "arguments": {
                            "date": "2001-09-11"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 4: This API retrieves the definition of a word based on a provided search query.\nTool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 8: Generates a caption for a given image.\nTool 9: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 10: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 11: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\", \"parameters\": {\"date\": {\"type\": \"string\", \"description\": \"The date for which historical events are to be queried. The expected format is YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}}, \"response\": \"The tool response consists of a single field named `events`, which is a list. Each element in this list represents a historical event that occurred on the specified date. The elements typically contain information describing the event, such as its title, date, and possibly additional details or context about the event, though the exact structure of each event is not explicitly defined in the documentation. The `events` list may be empty if no historical events are found for the given date.\", \"examples\": [{\"user_intent\": \"Tell me what happened on June 6, 1944.\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"1944-06-06\"}}}, {\"user_intent\": \"Give me a list of historical events for July 20, 1969.\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"1969-07-20\"}}}, {\"user_intent\": \"What significant events took place on September 11, 2001?\", \"tool_call\": {\"name\": \"QueryHistoryToday\", \"arguments\": {\"date\": \"2001-09-11\"}}}]}\n\n# User Query\nCan you tell me what happened on April 21st in history?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Tell me what happened on April 21st in history.",
                    "tool_description": "Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
                    "expected_response": "A collection of historical events, each containing information such as title, date, and details about the event."
                }
            ],
            "extracted_arguments": {
                "date": "The specific calendar date for which historical events are to be retrieved, formatted as YYYY-MM-DD."
            }
        }
    },
    {
        "id": "apibank_query_1",
        "query": "Can you tell me today's date?",
        "instruction": "Given a `date inquiry` task, retrieve tools that provide the current date by processing the request and returning today's date accurately.",
        "labels": [
            {
                "id": "apibank_tool_23",
                "doc": {
                    "expressions": "GetTodayNone",
                    "category": "获取信息 - 外界信息查询",
                    "path": "apis/get_today.py",
                    "parameters": "",
                    "name": "GetToday",
                    "description": "description = \"Get a list of today's tasks which are not completed yet.\"\ninput_parameters = {\n    None\n}\noutput_parameters = {\n    'tasks': {'type': 'list', 'description': 'A list of task objects with their details.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 4: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 5: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 6: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 7: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 8: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 9: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 11: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 12: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 13: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 14: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 15: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 18: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time.",
            "Tool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes."
        ],
        "tool_view": {
            "description": "Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "parameters": {},
            "response": "The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\n\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system’s task model. The list may be empty if there are no incomplete tasks for the day.",
            "examples": [
                {
                    "user_intent": "Show me all the tasks I still need to complete today.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "I want to check my pending tasks for today before my meeting.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "List all unfinished tasks scheduled for today so I can prioritize them.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 4: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 5: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 6: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 7: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 8: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 9: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 11: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 12: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 13: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 14: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 15: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 18: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time.\nTool 19: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\", \"parameters\": {}, \"response\": \"The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\\n\\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system\\u2019s task model. The list may be empty if there are no incomplete tasks for the day.\", \"examples\": [{\"user_intent\": \"Show me all the tasks I still need to complete today.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"I want to check my pending tasks for today before my meeting.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"List all unfinished tasks scheduled for today so I can prioritize them.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}]}\n\n# User Query\nCan you tell me today's date?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know what today's date is.",
                    "tool_description": "Retrieve the current date from the system or calendar service.",
                    "expected_response": "A string or object representing today's date in a standard date format."
                }
            ],
            "extracted_arguments": {}
        }
    },
    {
        "id": "apibank_query_78",
        "query": "Can you help me record my health history?",
        "instruction": "Given a `health history recording` task, retrieve tools that support storing health-related data by processing user identifiers, dates, and complex data inputs to maintain and update health records systematically.",
        "labels": [
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 1: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 6: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 7: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 9: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 11: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 12: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 13: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 15: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 17: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 19: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic."
        ],
        "tool_view": {
            "description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user whose health history is being recorded.",
                    "required": true,
                    "example": "12345"
                },
                "date": {
                    "type": "string",
                    "description": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                },
                "health_data": {
                    "type": "object",
                    "description": "An object containing the health data that is being recorded for the user.",
                    "required": true,
                    "example": {
                        "weight": 70,
                        "blood_pressure": "120/80",
                        "heart_rate": 72
                    }
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\n\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\"success\"` if the health data was recorded correctly, or `\"failed\"` if there was an error or the operation did not complete as intended.  \n\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action’s result.",
            "examples": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for user 1001.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "1001",
                            "date": "2025-12-30",
                            "health_data": {
                                "blood_pressure": "120/80",
                                "heart_rate": 72
                            }
                        }
                    }
                },
                {
                    "user_intent": "Add yesterday's step count and sleep hours for user A42.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "A42",
                            "date": "2025-12-29",
                            "health_data": {
                                "steps": 8500,
                                "sleep_hours": 7.5
                            }
                        }
                    }
                },
                {
                    "user_intent": "Log user 78's weight and body temperature for today.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "78",
                            "date": "2025-12-30",
                            "health_data": {
                                "weight_kg": 68.2,
                                "body_temperature_c": 36.6
                            }
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 1: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 6: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 7: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 9: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 11: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 12: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 13: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 15: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 17: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 19: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Record and store a user\\u2019s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user whose health history is being recorded.\", \"required\": true, \"example\": \"12345\"}, \"date\": {\"type\": \"string\", \"description\": \"The date when the health data was recorded, in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}, \"health_data\": {\"type\": \"object\", \"description\": \"An object containing the health data that is being recorded for the user.\", \"required\": true, \"example\": {\"weight\": 70, \"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\\n\\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\\\"success\\\"` if the health data was recorded correctly, or `\\\"failed\\\"` if there was an error or the operation did not complete as intended.  \\n\\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action\\u2019s result.\", \"examples\": [{\"user_intent\": \"Record today's blood pressure and heart rate for user 1001.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"1001\", \"date\": \"2025-12-30\", \"health_data\": {\"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}}, {\"user_intent\": \"Add yesterday's step count and sleep hours for user A42.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"A42\", \"date\": \"2025-12-29\", \"health_data\": {\"steps\": 8500, \"sleep_hours\": 7.5}}}}, {\"user_intent\": \"Log user 78's weight and body temperature for today.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"78\", \"date\": \"2025-12-30\", \"health_data\": {\"weight_kg\": 68.2, \"body_temperature_c\": 36.6}}}}]}\n\n# User Query\nCan you help me record my health history?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to record my health history with relevant data.",
                    "tool_description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
                    "expected_response": "A structured object indicating the status of the health data recording operation, either 'success' or 'failed'."
                }
            ],
            "extracted_arguments": {
                "user_id": "The unique identifier of the user whose health history is being recorded.",
                "date": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                "health_data": "An object containing the health data that is being recorded for the user."
            }
        }
    },
    {
        "id": "apibank_query_15",
        "query": "Can you search the definition of the word \"plethora\" for me?",
        "instruction": "Given a `word definition retrieval` task, retrieve tools that search for and provide comprehensive definitions by processing text inputs for specific words or terms as outlined in the query.",
        "labels": [
            {
                "id": "apibank_tool_37",
                "doc": {
                    "expressions": "Dictionary(query: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/dictionary.py",
                    "parameters": "(query: str)",
                    "name": "Dictionary",
                    "description": "description = \"API that takes a 'query' parameter as input and retrieves the definition of that word.\"\ninput_parameters = {\n    'query': {'type': 'str', 'description': 'The word to search the definition for.'},\n}\noutput_parameters = {\n    'definition': {'type': 'str', 'description': 'The definition of the requested word.'},\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This API retrieves the definition of a word based on a provided search query.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 4: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.",
            "Tool 5: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).",
            "Tool 6: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.",
            "Tool 7: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.",
            "Tool 8: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 9: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.",
            "Tool 10: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.",
            "Tool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 12: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 13: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 15: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data."
        ],
        "tool_view": {
            "description": "This API retrieves the definition of a word based on a provided search query.",
            "parameters": {
                "query": {
                    "type": "string",
                    "description": "The word for which the API will retrieve the definition.",
                    "required": true,
                    "default": null,
                    "example": "apple"
                }
            },
            "response": "The tool returns a response object containing a single field named `definition`. This field holds the meaning or explanation of the word provided in the `query` parameter. Specifically:  \n\n- **definition** (`string`): Contains the textual definition of the requested word. It represents the primary content of the response, providing the user with the explanation, meaning, or description associated with the input word.  \n\nThe response is therefore a simple object with one key-value pair, where the key identifies the type of information returned (the word’s definition) and the value is the actual definition text.",
            "examples": [
                {
                    "user_intent": "I want to know the meaning of the word 'serendipity'.",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "serendipity"
                        }
                    }
                },
                {
                    "user_intent": "Look up the definition of 'quantum mechanics' for me.",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "quantum mechanics"
                        }
                    }
                },
                {
                    "user_intent": "Can you tell me what 'ephemeral' means?",
                    "tool_call": {
                        "name": "Dictionary",
                        "arguments": {
                            "query": "ephemeral"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This API retrieves the definition of a word based on a provided search query.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 4: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.\nTool 5: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).\nTool 6: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.\nTool 7: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.\nTool 8: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 9: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.\nTool 10: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.\nTool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 12: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 13: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 15: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This API retrieves the definition of a word based on a provided search query.\", \"parameters\": {\"query\": {\"type\": \"string\", \"description\": \"The word for which the API will retrieve the definition.\", \"required\": true, \"default\": null, \"example\": \"apple\"}}, \"response\": \"The tool returns a response object containing a single field named `definition`. This field holds the meaning or explanation of the word provided in the `query` parameter. Specifically:  \\n\\n- **definition** (`string`): Contains the textual definition of the requested word. It represents the primary content of the response, providing the user with the explanation, meaning, or description associated with the input word.  \\n\\nThe response is therefore a simple object with one key-value pair, where the key identifies the type of information returned (the word\\u2019s definition) and the value is the actual definition text.\", \"examples\": [{\"user_intent\": \"I want to know the meaning of the word 'serendipity'.\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"serendipity\"}}}, {\"user_intent\": \"Look up the definition of 'quantum mechanics' for me.\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"quantum mechanics\"}}}, {\"user_intent\": \"Can you tell me what 'ephemeral' means?\", \"tool_call\": {\"name\": \"Dictionary\", \"arguments\": {\"query\": \"ephemeral\"}}}]}\n\n# User Query\nCan you search the definition of the word \"plethora\" for me?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know the meaning of the word 'plethora'.",
                    "tool_description": "Retrieve the definition of a specified word using a dictionary API.",
                    "expected_response": "An object containing the textual definition of the requested word."
                }
            ],
            "extracted_arguments": {
                "query": "The word for which the definition is being requested, represented as a string."
            }
        }
    },
    {
        "id": "apibank_query_79",
        "query": "Can you search for the possible diseases and first-aid methods for shortness of breath?",
        "instruction": "Given a `health advisory retrieval` task, retrieve tools that can provide information regarding diseases and corresponding first-aid methods by processing a disease or condition name to deliver relevant emergency procedures and first aid activities.",
        "labels": [
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 4: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.",
            "Tool 5: This API retrieves the definition of a word based on a provided search query.",
            "Tool 6: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).",
            "Tool 7: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.",
            "Tool 8: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.",
            "Tool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 10: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.",
            "Tool 11: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 14: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 17: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content."
        ],
        "tool_view": {
            "description": "Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.",
            "parameters": {
                "disease_injury_name": {
                    "type": "string",
                    "description": "The name of the disease or injury for which emergency procedures and first aid information are requested.",
                    "required": true,
                    "default": null,
                    "example": "burn"
                }
            },
            "response": "The tool returns emergency knowledge related to a specified disease or injury. The response contains the following components:\n\n1. **emergency_procedures**: A string that provides detailed instructions or steps on how to handle an emergency situation for the given disease or injury. This could include critical procedures, warnings, or immediate actions to take in response to the condition.\n\n2. **first_aid_activities**: A string that describes recommended first aid actions for the specified disease or injury. This would typically include basic interventions that could be performed by non-medical personnel before professional help arrives.\n\nBoth fields are described as strings and provide textual information relevant to emergency procedures and first aid for a particular condition, as identified by the `disease_injury_name` input parameter.",
            "examples": [
                {
                    "user_intent": "What should I do in case of a heart attack?",
                    "tool_call": {
                        "name": "EmergencyKnowledge",
                        "arguments": {
                            "disease_injury_name": "heart attack"
                        }
                    }
                },
                {
                    "user_intent": "Can you provide first aid steps for a broken bone?",
                    "tool_call": {
                        "name": "EmergencyKnowledge",
                        "arguments": {
                            "disease_injury_name": "broken bone"
                        }
                    }
                },
                {
                    "user_intent": "I need emergency procedures for a severe allergic reaction.",
                    "tool_call": {
                        "name": "EmergencyKnowledge",
                        "arguments": {
                            "disease_injury_name": "severe allergic reaction"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 4: This API allows users to search for places based on a specified keyword, location (in latitude,longitude format), and category. It returns a list of places that match the provided search criteria.\nTool 5: This API retrieves the definition of a word based on a provided search query.\nTool 6: The SearchAround API allows users to search for nearby locations based on a specified latitude, longitude, radius, and category. It returns a list of locations within the given radius of the search center, filtered by the selected category (e.g., restaurants, cafes, hotels).\nTool 7: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.\nTool 8: Search for online courses by topic, instructor, or course level, returning a list of courses that match the specified criteria.\nTool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 10: Search for books using a keyword and optionally filter the results by author, returning a list of books that match the specified criteria.\nTool 11: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 14: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 17: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.\", \"parameters\": {\"disease_injury_name\": {\"type\": \"string\", \"description\": \"The name of the disease or injury for which emergency procedures and first aid information are requested.\", \"required\": true, \"default\": null, \"example\": \"burn\"}}, \"response\": \"The tool returns emergency knowledge related to a specified disease or injury. The response contains the following components:\\n\\n1. **emergency_procedures**: A string that provides detailed instructions or steps on how to handle an emergency situation for the given disease or injury. This could include critical procedures, warnings, or immediate actions to take in response to the condition.\\n\\n2. **first_aid_activities**: A string that describes recommended first aid actions for the specified disease or injury. This would typically include basic interventions that could be performed by non-medical personnel before professional help arrives.\\n\\nBoth fields are described as strings and provide textual information relevant to emergency procedures and first aid for a particular condition, as identified by the `disease_injury_name` input parameter.\", \"examples\": [{\"user_intent\": \"What should I do in case of a heart attack?\", \"tool_call\": {\"name\": \"EmergencyKnowledge\", \"arguments\": {\"disease_injury_name\": \"heart attack\"}}}, {\"user_intent\": \"Can you provide first aid steps for a broken bone?\", \"tool_call\": {\"name\": \"EmergencyKnowledge\", \"arguments\": {\"disease_injury_name\": \"broken bone\"}}}, {\"user_intent\": \"I need emergency procedures for a severe allergic reaction.\", \"tool_call\": {\"name\": \"EmergencyKnowledge\", \"arguments\": {\"disease_injury_name\": \"severe allergic reaction\"}}}]}\n\n# User Query\nCan you search for the possible diseases and first-aid methods for shortness of breath?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to find emergency procedures and first aid guidance for shortness of breath.",
                    "tool_description": "Retrieve detailed emergency procedures and first aid guidance for a specified disease or injury, given the condition's name.",
                    "expected_response": "A collection of emergency procedures and first aid activities specific to shortness of breath."
                }
            ],
            "extracted_arguments": {
                "disease_injury_name": "The name of the disease or injury, in this case, 'shortness of breath'."
            }
        }
    },
    {
        "id": "apibank_query_73",
        "query": "Can you check my account balance, please?",
        "instruction": "Given an `account balance inquiry` task, retrieve tools that access and manage bank account information by processing user identification details and authentication credentials to obtain and provide current account balance data.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_25",
                "doc": {
                    "expressions": "OpenBankAccount(account: str, password: str, name: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/open_bank_account.py",
                    "parameters": "(account: str, password: str, name: str, email: str)",
                    "name": "OpenBankAccount",
                    "description": "description = \"Open bank account API that takes four parameters: 'account', 'password', 'name' and 'email'. The 'account' parameter refers to the user's bank account number, the 'password' parameter refers to the user's password for the account, the 'name' parameter refers to the user's name and 'email' parameter refers to the user's email address.\"\ninput_parameters = {\n    'account': {'type': 'str', 'description': 'The user’s bank account number.'},\n    'password': {'type': 'str', 'description': 'The password for the bank account.'},\n    'name': {'type': 'str', 'description': 'The name of the user.'},\n    'email': {'type': 'str', 'description': 'The email address of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Whether the bank account opening was successful or failed.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_31",
                "doc": {
                    "expressions": "QueryStock(stock_code: str, time: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_stock.py",
                    "parameters": "(stock_code: str, time: datetime)",
                    "name": "QueryStock",
                    "description": "description = \"Query stock API that takes two parameters - 'stock_code' and 'time'. The 'stock_code' parameter refers to the code of the stock and the 'time' parameter specifies the time for fetching the stock data.\"\ninput_parameters = {\n    'stock_code': {'type': 'str', 'description': 'The code of the stock.'},\n    'time': {'type': 'str', 'description': 'The time for fetching the stock data. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'stock_data': {'type': 'json', 'description': 'JSON object containing the stock data.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 4: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 5: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 11: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 12: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 13: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 14: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 15: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 16: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "parameters": {
                "account": {
                    "type": "string",
                    "description": "The identifier of the account to query the balance for.",
                    "required": true,
                    "default": null,
                    "example": "1234567890"
                }
            },
            "response": "The tool returns a single response object containing information about the account's current balance. The structure of the response is as follows:\n\n- **balance**: A numeric field of type float representing the monetary balance of the specified account. This value indicates how much is currently available or held in the account identified by the `account` parameter.  \n\nNo additional fields are specified, so the response consists solely of this balance information.",
            "examples": [
                {
                    "user_intent": "I want to check the current balance of my savings account with ID 987654321.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "987654321"
                        }
                    }
                },
                {
                    "user_intent": "Show me the balance for my business account 'BUS12345'.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "BUS12345"
                        }
                    }
                },
                {
                    "user_intent": "Retrieve the balance for account number A10001 before making a payment.",
                    "tool_call": {
                        "name": "QueryBalance",
                        "arguments": {
                            "account": "A10001"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 4: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 5: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 7: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 11: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 12: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 13: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 14: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 15: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 16: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\", \"parameters\": {\"account\": {\"type\": \"string\", \"description\": \"The identifier of the account to query the balance for.\", \"required\": true, \"default\": null, \"example\": \"1234567890\"}}, \"response\": \"The tool returns a single response object containing information about the account's current balance. The structure of the response is as follows:\\n\\n- **balance**: A numeric field of type float representing the monetary balance of the specified account. This value indicates how much is currently available or held in the account identified by the `account` parameter.  \\n\\nNo additional fields are specified, so the response consists solely of this balance information.\", \"examples\": [{\"user_intent\": \"I want to check the current balance of my savings account with ID 987654321.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"987654321\"}}}, {\"user_intent\": \"Show me the balance for my business account 'BUS12345'.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"BUS12345\"}}}, {\"user_intent\": \"Retrieve the balance for account number A10001 before making a payment.\", \"tool_call\": {\"name\": \"QueryBalance\", \"arguments\": {\"account\": \"A10001\"}}}]}\n\n# User Query\nCan you check my account balance, please?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check the current balance of my account.",
                    "tool_description": "Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
                    "expected_response": "A response object containing the numeric balance of the specified account."
                }
            ],
            "extracted_arguments": {
                "account": "The identifier of the account to query the balance for."
            }
        }
    },
    {
        "id": "apibank_query_10",
        "query": "Can you help me register as a user?",
        "instruction": "Given a `user registration` task, retrieve tools that facilitate the registration process by processing user input details such as username, password, and email to create a new user account and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_1",
                "doc": {
                    "expressions": "RegisterUser(username: str, password: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/register_user.py",
                    "parameters": "(username: str, password: str, email: str)",
                    "name": "RegisterUser",
                    "description": "description = \"API to register a new user with their username, password, and email.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the new user.'},\n    'password': {'type': 'str', 'description': 'The password of the new user.'},\n    'email': {'type': 'str', 'description': 'The email of the new user.'},\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 5: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 6: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 7: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 9: Retrieve a list of meetings scheduled by a user by querying the API with an authentication token.",
            "Tool 10: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 11: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.",
            "Tool 12: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 13: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 14: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 15: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 16: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 17: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 18: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 19: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 4: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 5: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 6: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 7: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 9: Retrieve a list of meetings scheduled by a user by querying the API with an authentication token.\nTool 10: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 11: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.\nTool 12: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 13: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 14: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 15: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 16: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 17: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 18: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 19: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you help me register as a user?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to create a new account by providing my username, password, and email.",
                    "tool_description": "Register a new user by submitting a username, password, and email, and receive confirmation of success or failure.",
                    "expected_response": "A status response indicating whether the registration was successful or failed."
                }
            ],
            "extracted_arguments": {
                "username": "The desired username for the new account, as a string.",
                "password": "The password chosen by the user for account security, as a string.",
                "email": "The email address associated with the account, used for registration and verification."
            }
        }
    },
    {
        "id": "apibank_query_100",
        "query": "Can you help me reset my password for my account?",
        "instruction": "Given a `password reset` task, retrieve tools that assist with account recovery by processing user credentials such as username and email to facilitate password reset and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_2",
                "doc": {
                    "expressions": "DeleteAccount(token: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_account.py",
                    "parameters": "(token: str)",
                    "name": "DeleteAccount",
                    "description": "description = \"Delete account API that takes a token parameter which is the authentication token of the user making the deletion request.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_4",
                "doc": {
                    "expressions": "ForgotPassword(username: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/forgot_password.py",
                    "parameters": "(username: str, email: str)",
                    "name": "ForgotPassword",
                    "description": "description = \"Forgot Password API that takes two parameters - 'username' and 'email'. The 'username' parameter refers to the username of the account for which the password is forgotten and the 'email' parameter specifies the email address associated with the account.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the account.'},\n    'email': {'type': 'str', 'description': 'The email address associated with the account.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 1: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 3: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 7: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.",
            "Tool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 12: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 13: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 14: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 15: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference."
        ],
        "tool_view": {
            "description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "parameters": {
                "old_password": {
                    "type": "string",
                    "description": "The user's current password that needs to be verified before changing to a new password.",
                    "required": true,
                    "example": "currentPass123"
                },
                "new_password": {
                    "type": "string",
                    "description": "The new password that will replace the existing password for the user account.",
                    "required": true,
                    "example": "newSecurePass456"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \"success\" to indicate the password was changed successfully, or \"failed\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \n\nThis response provides a concise confirmation of the result of the password update request.",
            "examples": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "Summer2025!",
                            "new_password": "Winter2025#Secure"
                        }
                    }
                },
                {
                    "user_intent": "Reset my password because I think my current one is compromised.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "MyOldPass123",
                            "new_password": "SafePass!789"
                        }
                    }
                },
                {
                    "user_intent": "Update my login credentials to a stronger password for better security.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "password2025",
                            "new_password": "StrongerPass#2025"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 1: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 3: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 7: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.\nTool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 12: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 13: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 14: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 15: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 19: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\", \"parameters\": {\"old_password\": {\"type\": \"string\", \"description\": \"The user's current password that needs to be verified before changing to a new password.\", \"required\": true, \"example\": \"currentPass123\"}, \"new_password\": {\"type\": \"string\", \"description\": \"The new password that will replace the existing password for the user account.\", \"required\": true, \"example\": \"newSecurePass456\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \\\"success\\\" to indicate the password was changed successfully, or \\\"failed\\\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \\n\\nThis response provides a concise confirmation of the result of the password update request.\", \"examples\": [{\"user_intent\": \"I want to change my account password from my old one to a new secure password.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"Summer2025!\", \"new_password\": \"Winter2025#Secure\"}}}, {\"user_intent\": \"Reset my password because I think my current one is compromised.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"MyOldPass123\", \"new_password\": \"SafePass!789\"}}}, {\"user_intent\": \"Update my login credentials to a stronger password for better security.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"password2025\", \"new_password\": \"StrongerPass#2025\"}}}]}\n\n# User Query\nCan you help me reset my password for my account?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to reset my account password because I can't remember or want to change it.",
                    "tool_description": "Initiate a password recovery or modification by verifying the user's identity and allowing them to set a new password.",
                    "expected_response": "A status object indicating whether the password reset request was successful or failed."
                }
            ],
            "extracted_arguments": {
                "username": "The unique identifier or login name of the user requesting the password reset.",
                "email": "The email address associated with the user account, used for verification or password recovery."
            }
        }
    },
    {
        "id": "apibank_query_42",
        "query": "Hi, can you help me add a new schedule for my meeting tomorrow at 2pm? Today is 2021-09-27",
        "instruction": "Given a `schedule management` task, retrieve tools that facilitate creating new meeting agendas by processing input details such as date, time, location, and agenda content, while ensuring authentication for successful creation and returning the operation status.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_13",
                "doc": {
                    "expressions": "AddAgenda(token: str, content: str, time: datetime, location: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/add_agenda.py",
                    "parameters": "(token: str, content: str, time: datetime, location: str)",
                    "name": "AddAgenda",
                    "description": "description = \"Add an agenda API that takes four parameters - 'content', 'time', 'location' and 'token'. The 'content' parameter refers to the description of the agenda, the 'time' parameter specifies the time at which the agenda will happen, the 'location' parameter refers to the venue of the agenda and the 'token' parameter is used for authentication.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token.'},\n    'content': {'type': 'str', 'description': 'The content of the agenda.'},\n    'time': {'type': 'datetime', 'description': 'The time for the agenda. Format: %Y-%m-%d %H:%M:%S'},\n    'location': {'type': 'str', 'description': 'The location of the agenda.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 1: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.",
            "Tool 2: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 3: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 4: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 5: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 6: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 7: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 8: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 10: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 11: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.",
            "Tool 12: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 13: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.",
            "Tool 14: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 15: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 16: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 17: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 18: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 19: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful."
        ],
        "tool_view": {
            "description": "Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "parameters": {
                "content": {
                    "type": "string",
                    "description": "The content or description of the meeting, providing details about the purpose or topic of the meeting.",
                    "required": true,
                    "example": "Project kick-off meeting"
                },
                "time": {
                    "type": "datetime",
                    "description": "The scheduled time for the meeting, provided in the format 'YYYY-MM-DD HH:MM:SS'.",
                    "required": true,
                    "example": "2025-12-15 14:00:00"
                },
                "recipients": {
                    "type": "List[string]",
                    "description": "A list of email addresses of individuals invited to attend the meeting.",
                    "required": true,
                    "example": [
                        "john.doe@example.com",
                        "jane.smith@example.com"
                    ]
                }
            },
            "response": "The tool returns a response object containing a single field:  \n\n- **status** (string): Indicates the outcome of the meeting booking operation. It conveys whether the request to add the meeting was successful or not. The expected values are typically `\"success\"` if the meeting was booked successfully, or `\"failed\"` if the booking could not be completed.  \n\nThis is the only component of the response, and it serves as a high-level indicator of the operation’s result.",
            "examples": [
                {
                    "user_intent": "Schedule a project kickoff meeting for next Monday at 10 AM with the design and development teams.",
                    "tool_call": {
                        "name": "AddMeeting",
                        "arguments": {
                            "content": "Project kickoff meeting with design and development teams",
                            "time": "2026-01-05 10:00:00",
                            "recipients": [
                                "alice@example.com",
                                "bob@example.com",
                                "carol@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Set up a one-on-one performance review with my manager tomorrow afternoon.",
                    "tool_call": {
                        "name": "AddMeeting",
                        "arguments": {
                            "content": "One-on-one performance review",
                            "time": "2026-01-01 15:30:00",
                            "recipients": [
                                "manager@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Organize a weekly team sync every Friday at 9 AM and invite the whole marketing team.",
                    "tool_call": {
                        "name": "AddMeeting",
                        "arguments": {
                            "content": "Weekly marketing team sync",
                            "time": "2026-01-02 09:00:00",
                            "recipients": [
                                "mark@example.com",
                                "lisa@example.com",
                                "tom@example.com",
                                "emma@example.com"
                            ]
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 1: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.\nTool 2: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 3: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 4: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 5: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 6: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 7: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 8: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 10: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 11: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\nTool 12: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 13: Deletes a specific schedule from the system using its ID, requiring a security token to verify user authenticity, and returns a status indicating whether the deletion was successful or failed.\nTool 14: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 15: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 16: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 17: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 18: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 19: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\", \"parameters\": {\"content\": {\"type\": \"string\", \"description\": \"The content or description of the meeting, providing details about the purpose or topic of the meeting.\", \"required\": true, \"example\": \"Project kick-off meeting\"}, \"time\": {\"type\": \"datetime\", \"description\": \"The scheduled time for the meeting, provided in the format 'YYYY-MM-DD HH:MM:SS'.\", \"required\": true, \"example\": \"2025-12-15 14:00:00\"}, \"recipients\": {\"type\": \"List[string]\", \"description\": \"A list of email addresses of individuals invited to attend the meeting.\", \"required\": true, \"example\": [\"john.doe@example.com\", \"jane.smith@example.com\"]}}, \"response\": \"The tool returns a response object containing a single field:  \\n\\n- **status** (string): Indicates the outcome of the meeting booking operation. It conveys whether the request to add the meeting was successful or not. The expected values are typically `\\\"success\\\"` if the meeting was booked successfully, or `\\\"failed\\\"` if the booking could not be completed.  \\n\\nThis is the only component of the response, and it serves as a high-level indicator of the operation\\u2019s result.\", \"examples\": [{\"user_intent\": \"Schedule a project kickoff meeting for next Monday at 10 AM with the design and development teams.\", \"tool_call\": {\"name\": \"AddMeeting\", \"arguments\": {\"content\": \"Project kickoff meeting with design and development teams\", \"time\": \"2026-01-05 10:00:00\", \"recipients\": [\"alice@example.com\", \"bob@example.com\", \"carol@example.com\"]}}}, {\"user_intent\": \"Set up a one-on-one performance review with my manager tomorrow afternoon.\", \"tool_call\": {\"name\": \"AddMeeting\", \"arguments\": {\"content\": \"One-on-one performance review\", \"time\": \"2026-01-01 15:30:00\", \"recipients\": [\"manager@example.com\"]}}}, {\"user_intent\": \"Organize a weekly team sync every Friday at 9 AM and invite the whole marketing team.\", \"tool_call\": {\"name\": \"AddMeeting\", \"arguments\": {\"content\": \"Weekly marketing team sync\", \"time\": \"2026-01-02 09:00:00\", \"recipients\": [\"mark@example.com\", \"lisa@example.com\", \"tom@example.com\", \"emma@example.com\"]}}}]}\n\n# User Query\nHi, can you help me add a new schedule for my meeting tomorrow at 2pm? Today is 2021-09-27\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Add a new meeting scheduled for tomorrow at a specific time.",
                    "tool_description": "Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
                    "expected_response": "A response object containing a status field indicating whether the meeting was successfully booked."
                }
            ],
            "extracted_arguments": {
                "content": "The description or title of the meeting.",
                "time": "The date and time when the meeting is scheduled to occur.",
                "recipients": "A list of email addresses of individuals invited to attend the meeting."
            }
        }
    },
    {
        "id": "apibank_query_55",
        "query": "Can you cancel a timed switch for my smart device?",
        "instruction": "Given a `timed switch cancellation` task, retrieve tools that manage smart device operations by processing required inputs such as device ID and switch time to cancel the scheduled operation and provide feedback on the success of the cancellation.",
        "labels": [
            {
                "id": "apibank_tool_69",
                "doc": {
                    "expressions": "CancelTimedSwitch(device_id: str, switch_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_timed_switch.py",
                    "parameters": "(device_id: str, switch_time: datetime)",
                    "name": "CancelTimedSwitch",
                    "description": "description = \"API for canceling a timed switch on a device using its 'device ID' and 'switch time' input parameters.\"\ninput_parameters = {\n    'device_id': {'type': 'str', 'description': 'The ID of the device for which the timed switch needs to be cancelled.'},\n    'switch_time': {'type': 'datetime', 'description': 'The time of the scheduled switch. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'The status of the API call - success or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 1: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 2: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: Send commands to a specific device by providing its unique identifier and the action to execute, allowing real-time control of the device and receiving a status response indicating success or failure.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 7: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 8: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 9: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 10: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 12: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 13: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 17: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 18: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 19: Generates a caption for a given image."
        ],
        "tool_view": {
            "description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "parameters": {
                "device_id": {
                    "type": "string",
                    "description": "The unique identifier of the device for which the scheduled timed switch should be cancelled.",
                    "required": true,
                    "example": "device123"
                },
                "switch_time": {
                    "type": "string",
                    "description": "The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "example": "2025-12-11 14:30:00"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \"success\" or \"failed,\" providing a clear, high-level result of the operation.  \n\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.",
            "examples": [
                {
                    "user_intent": "Cancel the scheduled power-on for my smart lamp at 8 PM tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "lamp_01",
                            "switch_time": "2025-12-30 20:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "thermostat_22",
                            "switch_time": "2025-12-31 07:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Abort the scheduled irrigation system switch that was set for midnight tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "irrigation_05",
                            "switch_time": "2025-12-31 00:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 1: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 2: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: Send commands to a specific device by providing its unique identifier and the action to execute, allowing real-time control of the device and receiving a status response indicating success or failure.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 7: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 8: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 9: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 10: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 12: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 13: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 15: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 16: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 17: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 18: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 19: Generates a caption for a given image.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\", \"parameters\": {\"device_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the device for which the scheduled timed switch should be cancelled.\", \"required\": true, \"example\": \"device123\"}, \"switch_time\": {\"type\": \"string\", \"description\": \"The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"example\": \"2025-12-11 14:30:00\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \\\"success\\\" or \\\"failed,\\\" providing a clear, high-level result of the operation.  \\n\\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.\", \"examples\": [{\"user_intent\": \"Cancel the scheduled power-on for my smart lamp at 8 PM tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"lamp_01\", \"switch_time\": \"2025-12-30 20:00:00\"}}}, {\"user_intent\": \"I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"thermostat_22\", \"switch_time\": \"2025-12-31 07:30:00\"}}}, {\"user_intent\": \"Abort the scheduled irrigation system switch that was set for midnight tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"irrigation_05\", \"switch_time\": \"2025-12-31 00:00:00\"}}}]}\n\n# User Query\nCan you cancel a timed switch for my smart device?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Cancel a scheduled timed switch for a smart device.",
                    "tool_description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
                    "expected_response": "The status of the cancelation request, indicating success or failure."
                }
            ],
            "extracted_arguments": {
                "device_id": "The unique identifier of the device for which the scheduled timed switch should be cancelled.",
                "switch_time": "The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'."
            }
        }
    },
    {
        "id": "apibank_query_41",
        "query": "Can you help me find information about my headache symptoms?",
        "instruction": "Instruction: Given a `symptom information retrieval` task, retrieve tools that provide detailed insights related to specific health symptoms by processing inputs regarding the symptoms and returning relevant medical knowledge or guidance.",
        "labels": [
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.",
            "Tool 3: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 4: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 5: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 6: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 7: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 8: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 9: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.",
            "Tool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 11: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 13: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 14: Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.",
            "Tool 15: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 16: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 19: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.\nTool 3: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 4: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 5: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 6: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 7: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 8: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 9: The JobSearch API retrieves available job listings based on search parameters such as job title or industry, location, and required work experience level. It helps users find jobs that match their specific criteria, such as entry-level, mid-level, or senior-level positions in a desired location.\nTool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 11: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 13: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 14: Provides detailed emergency procedures and first aid guidance for a specified disease or injury, allowing users to quickly access critical information by supplying the name of the condition.\nTool 15: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 16: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 19: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you help me find information about my headache symptoms?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to search for medical conditions related to my symptoms.",
                    "tool_description": "Search for medical conditions by providing a description of symptoms, returning a list of conditions that match the input.",
                    "expected_response": "A list of possible medical conditions that correspond to the described symptoms, including names and brief details."
                }
            ],
            "extracted_arguments": {
                "symptom_description": "A textual description of the user's headache symptoms."
            }
        }
    },
    {
        "id": "apibank_query_49",
        "query": "Can you help me modify a reminder for my conference?",
        "instruction": "Given a `reminder modification` task, retrieve tools that handle the updating of reminders by processing parameters such as reminder ID, content, and time to modify existing reminders and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_7",
                "doc": {
                    "expressions": "ModifyReminder(token: str, reminder_id: int, content: str, time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_reminder.py",
                    "parameters": "(token: str, reminder_id: int, content: str, time: datetime)",
                    "name": "ModifyReminder",
                    "description": "description = \"Modify an existing reminder API that takes three parameters - 'reminder_id', 'content' and 'time'. The 'reminder_id' parameter refers to the identifier of the reminder that needs to be modified, 'content' parameter refers to the updated description of the reminder, and 'time' parameter specifies the updated time of the reminder.\"\ninput_parameters = {\n    'reminder_id': {'type': 'int', 'description': 'The identifier of the reminder.'},\n    'content': {'type': 'str', 'description': 'The updated content of the reminder.'},\n    'time': {'type': 'str', 'description': 'The updated time for the reminder. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 2: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 6: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 7: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 8: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 9: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 10: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 11: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 12: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 13: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 14: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 19: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history."
        ],
        "tool_view": {
            "description": "Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "parameters": {
                "reminder_id": {
                    "type": "int",
                    "description": "The unique identifier of the reminder that needs to be modified.",
                    "required": true,
                    "example": 123
                },
                "content": {
                    "type": "string",
                    "description": "The new content or description for the reminder.",
                    "required": true,
                    "example": "Doctor appointment at 3 PM"
                },
                "time": {
                    "type": "string",
                    "description": "The updated date for the reminder in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-15"
                }
            },
            "response": "The tool’s response consists of a single structured object with the following component:\n\n- **status** (string): Indicates the outcome of the reminder modification operation. Its value conveys whether the request was successfully processed or not. Specifically, it can be interpreted as:  \n  - `\"success\"`: The reminder was successfully updated with the provided content and/or time.  \n  - `\"failed\"`: The modification did not succeed, which could occur due to reasons such as an invalid `reminder_id` or incorrect input format.\n\nThis is the only field defined in the response, and it serves as a simple confirmation of the operation’s result without returning the full reminder data or additional metadata.",
            "examples": [
                {
                    "user_intent": "I need to change the reminder for my meeting tomorrow to 3 PM.",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 101,
                            "content": "Meeting with the team",
                            "time": "2025-12-31"
                        }
                    }
                },
                {
                    "user_intent": "Update my doctor's appointment reminder to 2:30 PM on January 5th.",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 204,
                            "content": "Doctor's appointment",
                            "time": "2026-01-05"
                        }
                    }
                },
                {
                    "user_intent": "Can you change my reminder to pick up groceries to 4 PM on December 30th?",
                    "tool_call": {
                        "name": "ModifyReminder",
                        "arguments": {
                            "reminder_id": 50,
                            "content": "Pick up groceries",
                            "time": "2025-12-30"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 2: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.\nTool 3: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 6: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 7: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 8: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 9: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 10: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 11: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 12: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 13: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 14: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 19: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder\\u2019s details efficiently.\", \"parameters\": {\"reminder_id\": {\"type\": \"int\", \"description\": \"The unique identifier of the reminder that needs to be modified.\", \"required\": true, \"example\": 123}, \"content\": {\"type\": \"string\", \"description\": \"The new content or description for the reminder.\", \"required\": true, \"example\": \"Doctor appointment at 3 PM\"}, \"time\": {\"type\": \"string\", \"description\": \"The updated date for the reminder in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-15\"}}, \"response\": \"The tool\\u2019s response consists of a single structured object with the following component:\\n\\n- **status** (string): Indicates the outcome of the reminder modification operation. Its value conveys whether the request was successfully processed or not. Specifically, it can be interpreted as:  \\n  - `\\\"success\\\"`: The reminder was successfully updated with the provided content and/or time.  \\n  - `\\\"failed\\\"`: The modification did not succeed, which could occur due to reasons such as an invalid `reminder_id` or incorrect input format.\\n\\nThis is the only field defined in the response, and it serves as a simple confirmation of the operation\\u2019s result without returning the full reminder data or additional metadata.\", \"examples\": [{\"user_intent\": \"I need to change the reminder for my meeting tomorrow to 3 PM.\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 101, \"content\": \"Meeting with the team\", \"time\": \"2025-12-31\"}}}, {\"user_intent\": \"Update my doctor's appointment reminder to 2:30 PM on January 5th.\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 204, \"content\": \"Doctor's appointment\", \"time\": \"2026-01-05\"}}}, {\"user_intent\": \"Can you change my reminder to pick up groceries to 4 PM on December 30th?\", \"tool_call\": {\"name\": \"ModifyReminder\", \"arguments\": {\"reminder_id\": 50, \"content\": \"Pick up groceries\", \"time\": \"2025-12-30\"}}}]}\n\n# User Query\nCan you help me modify a reminder for my conference?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to modify an existing reminder for my conference.",
                    "tool_description": "Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
                    "expected_response": "A structured object indicating whether the reminder was successfully updated or if the operation failed."
                }
            ],
            "extracted_arguments": {
                "reminder_id": "The unique identifier of the reminder to be modified, represented as an integer.",
                "content": "The new description or content for the reminder, represented as a string.",
                "time": "The updated date and/or time for the reminder, represented as a string in YYYY-MM-DD format."
            }
        }
    },
    {
        "id": "apibank_query_95",
        "query": "Can you help me delete my account?",
        "instruction": "Given an `account deletion` task, retrieve tools that facilitate account management by processing authentication tokens to perform the deletion operation and return the status outcome.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_2",
                "doc": {
                    "expressions": "DeleteAccount(token: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_account.py",
                    "parameters": "(token: str)",
                    "name": "DeleteAccount",
                    "description": "description = \"Delete account API that takes a token parameter which is the authentication token of the user making the deletion request.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 1: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 4: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 7: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 10: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 11: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.",
            "Tool 12: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 13: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 14: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 15: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 16: This API retrieves the definition of a word based on a provided search query.",
            "Tool 17: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content."
        ],
        "tool_view": {
            "description": "This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "The authentication token of the user making the account deletion request.",
                    "required": true,
                    "example": "abc123xyz"
                }
            },
            "response": "The tool’s response is an object that contains a single field:  \n\n- **status** (string): Indicates the outcome of the account deletion request. Its value communicates whether the operation was successful or not, typically using indicators such as `\"success\"` for a successful deletion and `\"failed\"` if the deletion could not be completed. This field serves as a simple, high-level status report of the API call.",
            "examples": [
                {
                    "user_intent": "I want to permanently delete my account from the service.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "user_abc123_securetoken"
                        }
                    }
                },
                {
                    "user_intent": "Remove my profile immediately for privacy reasons.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "privacy_request_987xyz"
                        }
                    }
                },
                {
                    "user_intent": "Deactivate my account using the API key I received after login.",
                    "tool_call": {
                        "name": "DeleteAccount",
                        "arguments": {
                            "token": "login_session_token_456def"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 1: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 4: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 7: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 8: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 10: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 11: Initiate a money transfer between accounts by specifying the recipient account, transfer amount, and user authentication details, returning the status of the operation.\nTool 12: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 13: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 14: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 15: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 16: This API retrieves the definition of a word based on a provided search query.\nTool 17: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 19: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"The authentication token of the user making the account deletion request.\", \"required\": true, \"example\": \"abc123xyz\"}}, \"response\": \"The tool\\u2019s response is an object that contains a single field:  \\n\\n- **status** (string): Indicates the outcome of the account deletion request. Its value communicates whether the operation was successful or not, typically using indicators such as `\\\"success\\\"` for a successful deletion and `\\\"failed\\\"` if the deletion could not be completed. This field serves as a simple, high-level status report of the API call.\", \"examples\": [{\"user_intent\": \"I want to permanently delete my account from the service.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"user_abc123_securetoken\"}}}, {\"user_intent\": \"Remove my profile immediately for privacy reasons.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"privacy_request_987xyz\"}}}, {\"user_intent\": \"Deactivate my account using the API key I received after login.\", \"tool_call\": {\"name\": \"DeleteAccount\", \"arguments\": {\"token\": \"login_session_token_456def\"}}}]}\n\n# User Query\nCan you help me delete my account?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to permanently delete my account from the service.",
                    "tool_description": "This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
                    "expected_response": "An object containing a status field, which indicates the outcome of the account deletion request, such as 'success' or 'failed'."
                }
            ],
            "extracted_arguments": {
                "token": "The authentication token of the user making the account deletion request."
            }
        }
    },
    {
        "id": "apibank_query_74",
        "query": "Can you help me book an appointment with Dr. Smith?",
        "instruction": "Given an `appointment booking` task, retrieve tools that facilitate scheduling appointments by processing inputs such as patient name, doctor name, and appointment time to ensure a successful booking and return the status of the reservation.",
        "labels": [
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 5: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 6: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 7: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 8: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 9: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 11: This API retrieves the definition of a word based on a provided search query.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents."
        ],
        "tool_view": {
            "description": "Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "parameters": {
                "patient_name": {
                    "type": "string",
                    "description": "The full name of the patient who wants to register an appointment.",
                    "required": true,
                    "default": null,
                    "example": "John Doe"
                },
                "doctor_name": {
                    "type": "string",
                    "description": "The full name of the doctor who will handle the appointment.",
                    "required": true,
                    "default": null,
                    "example": "Dr. Smith"
                },
                "appointment_time": {
                    "type": "string",
                    "description": "The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "default": null,
                    "example": "2025-12-20 14:30:00"
                }
            },
            "response": "The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \n\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\"success\"` if the appointment was successfully registered, or `\"failed\"` if the registration did not go through.  \n\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.",
            "examples": [
                {
                    "user_intent": "I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "John Doe",
                            "doctor_name": "Dr. Smith",
                            "appointment_time": "2026-01-05 10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Emily Clark",
                            "doctor_name": "Dr. Patel",
                            "appointment_time": "2026-02-15 14:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Michael Johnson",
                            "doctor_name": "Dr. Lee",
                            "appointment_time": "2026-01-31 09:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 5: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 6: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 7: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 8: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 9: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 10: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 11: This API retrieves the definition of a word based on a provided search query.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\", \"parameters\": {\"patient_name\": {\"type\": \"string\", \"description\": \"The full name of the patient who wants to register an appointment.\", \"required\": true, \"default\": null, \"example\": \"John Doe\"}, \"doctor_name\": {\"type\": \"string\", \"description\": \"The full name of the doctor who will handle the appointment.\", \"required\": true, \"default\": null, \"example\": \"Dr. Smith\"}, \"appointment_time\": {\"type\": \"string\", \"description\": \"The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"default\": null, \"example\": \"2025-12-20 14:30:00\"}}, \"response\": \"The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \\n\\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\\\"success\\\"` if the appointment was successfully registered, or `\\\"failed\\\"` if the registration did not go through.  \\n\\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.\", \"examples\": [{\"user_intent\": \"I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"John Doe\", \"doctor_name\": \"Dr. Smith\", \"appointment_time\": \"2026-01-05 10:00:00\"}}}, {\"user_intent\": \"Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Emily Clark\", \"doctor_name\": \"Dr. Patel\", \"appointment_time\": \"2026-02-15 14:30:00\"}}}, {\"user_intent\": \"Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Michael Johnson\", \"doctor_name\": \"Dr. Lee\", \"appointment_time\": \"2026-01-31 09:00:00\"}}}]}\n\n# User Query\nCan you help me book an appointment with Dr. Smith?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to schedule an appointment with Dr. Smith.",
                    "tool_description": "Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
                    "expected_response": "A response object indicating whether the appointment registration was successful or failed."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient who wants to register an appointment.",
                "doctor_name": "The full name of the doctor who will handle the appointment.",
                "appointment_time": "The date and time for the appointment, formatted as a string."
            }
        }
    },
    {
        "id": "apibank_query_56",
        "query": "Can you help me register an appointment with a specific doctor on a specific date?",
        "instruction": "Given an `appointment registration` task, retrieve tools that facilitate setting up appointments by processing inputs such as patient name, doctor name, and appointment date and time, and providing feedback on the registration status.",
        "labels": [
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 3: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 4: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 6: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 7: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 9: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 10: Assign a priority value to a specific task by providing its content, allowing users to manage and organize tasks based on their importance.",
            "Tool 11: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 12: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 13: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 14: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 15: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 16: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 17: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 18: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 19: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions."
        ],
        "tool_view": {
            "description": "Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "parameters": {
                "patient_name": {
                    "type": "string",
                    "description": "The full name of the patient who wants to register an appointment.",
                    "required": true,
                    "default": null,
                    "example": "John Doe"
                },
                "doctor_name": {
                    "type": "string",
                    "description": "The full name of the doctor who will handle the appointment.",
                    "required": true,
                    "default": null,
                    "example": "Dr. Smith"
                },
                "appointment_time": {
                    "type": "string",
                    "description": "The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "default": null,
                    "example": "2025-12-20 14:30:00"
                }
            },
            "response": "The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \n\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\"success\"` if the appointment was successfully registered, or `\"failed\"` if the registration did not go through.  \n\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.",
            "examples": [
                {
                    "user_intent": "I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "John Doe",
                            "doctor_name": "Dr. Smith",
                            "appointment_time": "2026-01-05 10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Emily Clark",
                            "doctor_name": "Dr. Patel",
                            "appointment_time": "2026-02-15 14:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.",
                    "tool_call": {
                        "name": "AppointmentRegistration",
                        "arguments": {
                            "patient_name": "Michael Johnson",
                            "doctor_name": "Dr. Lee",
                            "appointment_time": "2026-01-31 09:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 3: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 4: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 6: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 7: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 9: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 10: Assign a priority value to a specific task by providing its content, allowing users to manage and organize tasks based on their importance.\nTool 11: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 12: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 13: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 14: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 15: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 16: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 17: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 18: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 19: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\", \"parameters\": {\"patient_name\": {\"type\": \"string\", \"description\": \"The full name of the patient who wants to register an appointment.\", \"required\": true, \"default\": null, \"example\": \"John Doe\"}, \"doctor_name\": {\"type\": \"string\", \"description\": \"The full name of the doctor who will handle the appointment.\", \"required\": true, \"default\": null, \"example\": \"Dr. Smith\"}, \"appointment_time\": {\"type\": \"string\", \"description\": \"The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"default\": null, \"example\": \"2025-12-20 14:30:00\"}}, \"response\": \"The tool `AppointmentRegistration` returns a response object that indicates the outcome of the appointment registration request. The response has the following structure:  \\n\\n- **status** (string): This field communicates whether the registration attempt was successful. Its value can be either `\\\"success\\\"` if the appointment was successfully registered, or `\\\"failed\\\"` if the registration did not go through.  \\n\\nNo additional fields are defined, so the response is limited to this single status indicator. It serves as a straightforward confirmation or failure notice for the operation.\", \"examples\": [{\"user_intent\": \"I want to schedule a check-up for John Doe with Dr. Smith next Monday at 10 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"John Doe\", \"doctor_name\": \"Dr. Smith\", \"appointment_time\": \"2026-01-05 10:00:00\"}}}, {\"user_intent\": \"Book an appointment for Emily Clark to see Dr. Patel on February 15th at 14:30.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Emily Clark\", \"doctor_name\": \"Dr. Patel\", \"appointment_time\": \"2026-02-15 14:30:00\"}}}, {\"user_intent\": \"Register a consultation for Michael Johnson with Dr. Lee tomorrow at 09:00 AM.\", \"tool_call\": {\"name\": \"AppointmentRegistration\", \"arguments\": {\"patient_name\": \"Michael Johnson\", \"doctor_name\": \"Dr. Lee\", \"appointment_time\": \"2026-01-31 09:00:00\"}}}]}\n\n# User Query\nCan you help me register an appointment with a specific doctor on a specific date?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to schedule an appointment with a specific doctor on a specific date.",
                    "tool_description": "Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
                    "expected_response": "A status message indicating whether the appointment was successfully registered or not."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient who wants to register an appointment.",
                "doctor_name": "The full name of the doctor who will handle the appointment.",
                "appointment_time": "The date and time for the appointment, formatted as '%Y-%m-%d %H:%M:%S'."
            }
        }
    }
]