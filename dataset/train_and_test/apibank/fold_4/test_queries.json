[
    {
        "id": "apibank_query_77",
        "query": "Can you record my health data?",
        "instruction": "Given a `health data recording` task, retrieve tools that can record user-specific health information by processing inputs such as user ID, date, and health data to store the data and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_58",
                "doc": {
                    "expressions": "AppointmentRegistration(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/appointment_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime, doctor_name: str)",
                    "name": "AppointmentRegistration",
                    "description": "description = \"Register an appointment API that takes three parameters - 'patient_name', 'doctor_name', and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who wants to register an appointment, 'doctor_name' refers to the name of the doctor who will take the appointment, and 'appointment_time' specifies the date and time of the appointment.\"\n\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who wants to register an appointment.'},\n    'doctor_name': {'type': 'str', 'description': 'The name of the doctor who will take the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The date and time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 5: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 7: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user whose health history is being recorded.",
                    "required": true,
                    "example": "12345"
                },
                "date": {
                    "type": "string",
                    "description": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                },
                "health_data": {
                    "type": "object",
                    "description": "An object containing the health data that is being recorded for the user.",
                    "required": true,
                    "example": {
                        "weight": 70,
                        "blood_pressure": "120/80",
                        "heart_rate": 72
                    }
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\n\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\"success\"` if the health data was recorded correctly, or `\"failed\"` if there was an error or the operation did not complete as intended.  \n\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action’s result.",
            "examples": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for user 1001.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "1001",
                            "date": "2025-12-30",
                            "health_data": {
                                "blood_pressure": "120/80",
                                "heart_rate": 72
                            }
                        }
                    }
                },
                {
                    "user_intent": "Add yesterday's step count and sleep hours for user A42.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "A42",
                            "date": "2025-12-29",
                            "health_data": {
                                "steps": 8500,
                                "sleep_hours": 7.5
                            }
                        }
                    }
                },
                {
                    "user_intent": "Log user 78's weight and body temperature for today.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "78",
                            "date": "2025-12-30",
                            "health_data": {
                                "weight_kg": 68.2,
                                "body_temperature_c": 36.6
                            }
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 1: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 5: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 7: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 8: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 9: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 16: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Record and store a user\\u2019s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user whose health history is being recorded.\", \"required\": true, \"example\": \"12345\"}, \"date\": {\"type\": \"string\", \"description\": \"The date when the health data was recorded, in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}, \"health_data\": {\"type\": \"object\", \"description\": \"An object containing the health data that is being recorded for the user.\", \"required\": true, \"example\": {\"weight\": 70, \"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\\n\\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\\\"success\\\"` if the health data was recorded correctly, or `\\\"failed\\\"` if there was an error or the operation did not complete as intended.  \\n\\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action\\u2019s result.\", \"examples\": [{\"user_intent\": \"Record today's blood pressure and heart rate for user 1001.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"1001\", \"date\": \"2025-12-30\", \"health_data\": {\"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}}, {\"user_intent\": \"Add yesterday's step count and sleep hours for user A42.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"A42\", \"date\": \"2025-12-29\", \"health_data\": {\"steps\": 8500, \"sleep_hours\": 7.5}}}}, {\"user_intent\": \"Log user 78's weight and body temperature for today.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"78\", \"date\": \"2025-12-30\", \"health_data\": {\"weight_kg\": 68.2, \"body_temperature_c\": 36.6}}}}]}\n\n# User Query\nCan you record my health data?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Record the user's health data for tracking purposes.",
                    "tool_description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
                    "expected_response": "A structured object indicating whether the health data recording operation was successful or failed."
                }
            ],
            "extracted_arguments": {
                "user_id": "The unique identifier of the user whose health history is being recorded.",
                "date": "The date when the health data is being recorded, in the format YYYY-MM-DD.",
                "health_data": "An object containing the specific health metrics and measurements to be recorded for the user."
            }
        }
    },
    {
        "id": "apibank_query_64",
        "query": "Can you please cancel my appointment with id 78901234 for August 5th, 2023 with Dr. Chen under the name Sarah Johnson?",
        "instruction": "Given an `appointment cancellation` task, retrieve tools that manage appointments by processing parameters like appointment ID, date, doctor, and patient name to cancel the specified appointment and return the status of the request.",
        "labels": [
            {
                "id": "apibank_tool_59",
                "doc": {
                    "expressions": "CancelRegistration(registration_number: str)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_registration.py",
                    "parameters": "(registration_number: str)",
                    "name": "CancelRegistration",
                    "description": "description = \"Cancel a registration API that takes one parameter - 'registration_number'. The 'registration_number' parameter refers to the registration number of the conference registration that needs to be cancelled.\"\ninput_parameters = {\n    'registration_number': {'type': 'str', 'description': 'The registration number of the conference registration to be cancelled.'},\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 3: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 4: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 5: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 7: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 8: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 10: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 12: Retrieve the business scope of a company by providing its name.",
            "Tool 13: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 14: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 15: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 16: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 17: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 19: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 3: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 4: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 5: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 7: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 8: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 10: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 11: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 12: Retrieve the business scope of a company by providing its name.\nTool 13: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 14: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 15: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 16: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 17: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 18: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 19: Allows updating an existing agenda by modifying its details, time, or location using the schedule ID, and returns a status indicating whether the update was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you please cancel my appointment with id 78901234 for August 5th, 2023 with Dr. Chen under the name Sarah Johnson?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to cancel my scheduled medical appointment.",
                    "tool_description": "Cancel a specific medical appointment by providing its unique appointment ID and necessary patient identification, ensuring the appointment is removed from the schedule.",
                    "expected_response": "A status object indicating whether the cancellation was successful or failed."
                }
            ],
            "extracted_arguments": {
                "appointment_id": "The unique identifier of the medical appointment to be cancelled.",
                "patient_name": "The full name of the patient who booked the appointment.",
                "doctor_name": "The full name of the doctor with whom the appointment was scheduled.",
                "appointment_date": "The date of the appointment to be cancelled."
            }
        }
    },
    {
        "id": "apibank_query_29",
        "query": "Can you help me change my password?",
        "instruction": "Given a `password modification` task, retrieve tools that handle user authentication and password updates by processing input parameters such as user credentials for authentication and new password details to perform the update and return the operation's status.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_3",
                "doc": {
                    "expressions": "ModifyPassword(token: str, old_password: str, new_password: str)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_password.py",
                    "parameters": "(token: str, old_password: str, new_password: str)",
                    "name": "ModifyPassword",
                    "description": "description = \"Modify password API that takes two parameters - 'old_password' and 'new_password'. The 'old_password' parameter refers to the existing password and the 'new_password' parameter specifies the new password to be set.\"\ninput_parameters = {\n    'old_password': {'type': 'str', 'description': 'The existing password of the user.'},\n    'new_password': {'type': 'str', 'description': 'The new password to be set.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.",
            "Tool 4: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 5: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 7: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 9: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 18: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 19: This API retrieves the definition of a word based on a provided search query."
        ],
        "tool_view": {
            "description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "parameters": {
                "old_password": {
                    "type": "string",
                    "description": "The user's current password that needs to be verified before changing to a new password.",
                    "required": true,
                    "example": "currentPass123"
                },
                "new_password": {
                    "type": "string",
                    "description": "The new password that will replace the existing password for the user account.",
                    "required": true,
                    "example": "newSecurePass456"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \"success\" to indicate the password was changed successfully, or \"failed\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \n\nThis response provides a concise confirmation of the result of the password update request.",
            "examples": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "Summer2025!",
                            "new_password": "Winter2025#Secure"
                        }
                    }
                },
                {
                    "user_intent": "Reset my password because I think my current one is compromised.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "MyOldPass123",
                            "new_password": "SafePass!789"
                        }
                    }
                },
                {
                    "user_intent": "Update my login credentials to a stronger password for better security.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "password2025",
                            "new_password": "StrongerPass#2025"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Authenticate a user by verifying their username and password, and generate a secure token for accessing protected resources.\nTool 4: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 5: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 7: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 9: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 18: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 19: This API retrieves the definition of a word based on a provided search query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\", \"parameters\": {\"old_password\": {\"type\": \"string\", \"description\": \"The user's current password that needs to be verified before changing to a new password.\", \"required\": true, \"example\": \"currentPass123\"}, \"new_password\": {\"type\": \"string\", \"description\": \"The new password that will replace the existing password for the user account.\", \"required\": true, \"example\": \"newSecurePass456\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \\\"success\\\" to indicate the password was changed successfully, or \\\"failed\\\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \\n\\nThis response provides a concise confirmation of the result of the password update request.\", \"examples\": [{\"user_intent\": \"I want to change my account password from my old one to a new secure password.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"Summer2025!\", \"new_password\": \"Winter2025#Secure\"}}}, {\"user_intent\": \"Reset my password because I think my current one is compromised.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"MyOldPass123\", \"new_password\": \"SafePass!789\"}}}, {\"user_intent\": \"Update my login credentials to a stronger password for better security.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"password2025\", \"new_password\": \"StrongerPass#2025\"}}}]}\n\n# User Query\nCan you help me change my password?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_description": "Allows a user to change their account password by providing their current password and specifying a new one.",
                    "expected_response": "A status string indicating whether the password update was successful or failed."
                }
            ],
            "extracted_arguments": {
                "old_password": "The user's current password that needs to be verified before changing to a new password.",
                "new_password": "The new password that will replace the existing password for the user account."
            }
        }
    },
    {
        "id": "apibank_query_27",
        "query": "Can you help me cancel a timed switch for one of my smart devices?",
        "instruction": "Given a `smart device timer cancellation` task, retrieve tools that process device identifiers and scheduled switch times to execute the cancellation of a timed switch and provide feedback on the success of the operation.",
        "labels": [
            {
                "id": "apibank_tool_69",
                "doc": {
                    "expressions": "CancelTimedSwitch(device_id: str, switch_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/cancel_timed_switch.py",
                    "parameters": "(device_id: str, switch_time: datetime)",
                    "name": "CancelTimedSwitch",
                    "description": "description = \"API for canceling a timed switch on a device using its 'device ID' and 'switch time' input parameters.\"\ninput_parameters = {\n    'device_id': {'type': 'str', 'description': 'The ID of the device for which the timed switch needs to be cancelled.'},\n    'switch_time': {'type': 'datetime', 'description': 'The time of the scheduled switch. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'The status of the API call - success or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 1: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 2: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 3: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 6: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 8: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.",
            "Tool 10: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 11: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 12: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 13: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 15: This API retrieves the definition of a word based on a provided search query.",
            "Tool 16: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 17: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.",
            "Tool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "parameters": {
                "device_id": {
                    "type": "string",
                    "description": "The unique identifier of the device for which the scheduled timed switch should be cancelled.",
                    "required": true,
                    "example": "device123"
                },
                "switch_time": {
                    "type": "string",
                    "description": "The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "example": "2025-12-11 14:30:00"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \"success\" or \"failed,\" providing a clear, high-level result of the operation.  \n\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.",
            "examples": [
                {
                    "user_intent": "Cancel the scheduled power-on for my smart lamp at 8 PM tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "lamp_01",
                            "switch_time": "2025-12-30 20:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "thermostat_22",
                            "switch_time": "2025-12-31 07:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Abort the scheduled irrigation system switch that was set for midnight tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "irrigation_05",
                            "switch_time": "2025-12-31 00:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 1: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 2: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 3: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 6: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 8: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 9: Cancel a ticket by providing its unique order number, returning a status that indicates whether the cancellation was successful.\nTool 10: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 11: Cancel a train ticket by providing its unique order number, returning a status indicating whether the cancellation was successful or failed.\nTool 12: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 13: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 15: This API retrieves the definition of a word based on a provided search query.\nTool 16: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 17: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\nTool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\", \"parameters\": {\"device_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the device for which the scheduled timed switch should be cancelled.\", \"required\": true, \"example\": \"device123\"}, \"switch_time\": {\"type\": \"string\", \"description\": \"The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"example\": \"2025-12-11 14:30:00\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \\\"success\\\" or \\\"failed,\\\" providing a clear, high-level result of the operation.  \\n\\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.\", \"examples\": [{\"user_intent\": \"Cancel the scheduled power-on for my smart lamp at 8 PM tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"lamp_01\", \"switch_time\": \"2025-12-30 20:00:00\"}}}, {\"user_intent\": \"I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"thermostat_22\", \"switch_time\": \"2025-12-31 07:30:00\"}}}, {\"user_intent\": \"Abort the scheduled irrigation system switch that was set for midnight tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"irrigation_05\", \"switch_time\": \"2025-12-31 00:00:00\"}}}]}\n\n# User Query\nCan you help me cancel a timed switch for one of my smart devices?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to cancel a scheduled timed switch for one of my smart devices.",
                    "tool_description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
                    "expected_response": "An object containing a status field indicating whether the cancelation of the timed switch was successful or failed."
                }
            ],
            "extracted_arguments": {
                "device_id": "The unique identifier of the smart device whose scheduled switch needs to be cancelled.",
                "switch_time": "The specific date and time of the scheduled switch to be cancelled, formatted as a datetime string."
            }
        }
    },
    {
        "id": "apibank_query_89",
        "query": "Can you please tell me the current date?",
        "instruction": "Given a `date retrieval` task, retrieve tools that provide the current date by processing minimal or no input and returning the present date information.",
        "labels": [
            {
                "id": "apibank_tool_23",
                "doc": {
                    "expressions": "GetTodayNone",
                    "category": "获取信息 - 外界信息查询",
                    "path": "apis/get_today.py",
                    "parameters": "",
                    "name": "GetToday",
                    "description": "description = \"Get a list of today's tasks which are not completed yet.\"\ninput_parameters = {\n    None\n}\noutput_parameters = {\n    'tasks': {'type': 'list', 'description': 'A list of task objects with their details.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 1: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 5: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 6: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 7: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.",
            "Tool 8: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 11: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.",
            "Tool 12: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 13: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 14: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 15: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 16: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.",
            "Tool 19: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time."
        ],
        "tool_view": {
            "description": "Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "parameters": {
                "currency_type": {
                    "type": "string",
                    "description": "The type of currency for which the exchange rate is to be queried.",
                    "required": true,
                    "example": "USD"
                },
                "time": {
                    "type": "string",
                    "description": "The date and time at which the exchange rate is to be retrieved.",
                    "required": true,
                    "example": "2025-12-10T12:00:00"
                }
            },
            "response": "The tool returns a structured response containing the exchange rate of a specified currency at a particular point in time. The response includes the following component:\n\n- **exchange_rate**: A numeric value (floating-point) representing the exchange rate of the currency specified by the `currency_type` parameter at the date and time specified by the `time` parameter. This value quantifies how much one unit of the specified currency is worth relative to a reference currency at the given time.",
            "examples": [
                {
                    "user_intent": "What's the current exchange rate for USD?",
                    "tool_call": {
                        "name": "QueryExchangeRate",
                        "arguments": {
                            "currency_type": "USD"
                        }
                    }
                },
                {
                    "user_intent": "I want to know the exchange rate of EUR on December 1, 2025 at 10:00 AM.",
                    "tool_call": {
                        "name": "QueryExchangeRate",
                        "arguments": {
                            "currency_type": "EUR",
                            "time": "2025-12-01T10:00:00"
                        }
                    }
                },
                {
                    "user_intent": "Check the historical exchange rate for JPY from January 15, 2023.",
                    "tool_call": {
                        "name": "QueryExchangeRate",
                        "arguments": {
                            "currency_type": "JPY",
                            "time": "2023-01-15T00:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 1: Retrieve real-time shipment tracking information for an order by providing its order number and the courier company, including the current status, location, last update time, and estimated delivery date.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 5: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 6: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 7: Retrieve a user's agenda by querying the API with their token, returning a list of events with details such as date, time, and description.\nTool 8: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 9: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 10: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 11: Allows users to schedule an exam by specifying its name and the exact date and time, returning a status indicating whether the scheduling was successful.\nTool 12: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 13: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 14: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 15: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 16: This tool allows users to modify an existing train ticket by specifying the order number and updating the travel date, train number, or seat type, enabling flexible changes to their journey details.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: This API allows users to add or modify events for a specific date by submitting a list of scheduled events, each containing details such as name, time, description, and location, and returns a status indicating whether the operation was successful.\nTool 19: This tool allows users to purchase train tickets by specifying the origin and destination stations, travel date, train number, seat type, and passenger name, returning ticket details such as the ticket number, seat assignment, and departure time.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\", \"parameters\": {\"currency_type\": {\"type\": \"string\", \"description\": \"The type of currency for which the exchange rate is to be queried.\", \"required\": true, \"example\": \"USD\"}, \"time\": {\"type\": \"string\", \"description\": \"The date and time at which the exchange rate is to be retrieved.\", \"required\": true, \"example\": \"2025-12-10T12:00:00\"}}, \"response\": \"The tool returns a structured response containing the exchange rate of a specified currency at a particular point in time. The response includes the following component:\\n\\n- **exchange_rate**: A numeric value (floating-point) representing the exchange rate of the currency specified by the `currency_type` parameter at the date and time specified by the `time` parameter. This value quantifies how much one unit of the specified currency is worth relative to a reference currency at the given time.\", \"examples\": [{\"user_intent\": \"What's the current exchange rate for USD?\", \"tool_call\": {\"name\": \"QueryExchangeRate\", \"arguments\": {\"currency_type\": \"USD\"}}}, {\"user_intent\": \"I want to know the exchange rate of EUR on December 1, 2025 at 10:00 AM.\", \"tool_call\": {\"name\": \"QueryExchangeRate\", \"arguments\": {\"currency_type\": \"EUR\", \"time\": \"2025-12-01T10:00:00\"}}}, {\"user_intent\": \"Check the historical exchange rate for JPY from January 15, 2023.\", \"tool_call\": {\"name\": \"QueryExchangeRate\", \"arguments\": {\"currency_type\": \"JPY\", \"time\": \"2023-01-15T00:00:00\"}}}]}\n\n# User Query\nCan you please tell me the current date?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know the current date.",
                    "tool_description": "Retrieve the system's current date and time, allowing users to obtain the present date for reference or scheduling purposes.",
                    "expected_response": "A structured response containing the current date in a standard format (e.g., YYYY-MM-DD)."
                }
            ],
            "extracted_arguments": {}
        }
    },
    {
        "id": "apibank_query_98",
        "query": "Can you help me change my appointment?",
        "instruction": "Given an `appointment modification` task, retrieve tools that manage scheduling operations by processing registration number and new appointment time inputs to update existing appointments and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 6: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 8: Generates a caption for a given image.",
            "Tool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 10: This API retrieves the definition of a word based on a provided search query.",
            "Tool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents."
        ],
        "tool_view": {
            "description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "parameters": {
                "old_password": {
                    "type": "string",
                    "description": "The user's current password that needs to be verified before changing to a new password.",
                    "required": true,
                    "example": "currentPass123"
                },
                "new_password": {
                    "type": "string",
                    "description": "The new password that will replace the existing password for the user account.",
                    "required": true,
                    "example": "newSecurePass456"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \"success\" to indicate the password was changed successfully, or \"failed\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \n\nThis response provides a concise confirmation of the result of the password update request.",
            "examples": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "Summer2025!",
                            "new_password": "Winter2025#Secure"
                        }
                    }
                },
                {
                    "user_intent": "Reset my password because I think my current one is compromised.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "MyOldPass123",
                            "new_password": "SafePass!789"
                        }
                    }
                },
                {
                    "user_intent": "Update my login credentials to a stronger password for better security.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "password2025",
                            "new_password": "StrongerPass#2025"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 6: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 8: Generates a caption for a given image.\nTool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 10: This API retrieves the definition of a word based on a provided search query.\nTool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\", \"parameters\": {\"old_password\": {\"type\": \"string\", \"description\": \"The user's current password that needs to be verified before changing to a new password.\", \"required\": true, \"example\": \"currentPass123\"}, \"new_password\": {\"type\": \"string\", \"description\": \"The new password that will replace the existing password for the user account.\", \"required\": true, \"example\": \"newSecurePass456\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \\\"success\\\" to indicate the password was changed successfully, or \\\"failed\\\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \\n\\nThis response provides a concise confirmation of the result of the password update request.\", \"examples\": [{\"user_intent\": \"I want to change my account password from my old one to a new secure password.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"Summer2025!\", \"new_password\": \"Winter2025#Secure\"}}}, {\"user_intent\": \"Reset my password because I think my current one is compromised.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"MyOldPass123\", \"new_password\": \"SafePass!789\"}}}, {\"user_intent\": \"Update my login credentials to a stronger password for better security.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"password2025\", \"new_password\": \"StrongerPass#2025\"}}}]}\n\n# User Query\nCan you help me change my appointment?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to update the time of an existing medical appointment.",
                    "tool_description": "Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
                    "expected_response": "An object indicating whether the appointment update was successful or not."
                }
            ],
            "extracted_arguments": {
                "appointment_id": "The unique identifier for the existing appointment to be changed.",
                "new_date_time": "The new desired date and time for the appointment."
            }
        }
    },
    {
        "id": "apibank_query_4",
        "query": "Can you delete my alarm at 7:00 a.m. on March 16th?",
        "instruction": "Given an `alarm deletion` task, retrieve tools that facilitate the cancellation of alarms by processing parameters such as authentication tokens and timer IDs to confirm the status of the deletion operation.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_19",
                "doc": {
                    "expressions": "DeleteAlarm(token: str, timer_id: int)",
                    "category": "对外影响 - 数据库操作 - 删",
                    "path": "apis/delete_alarm.py",
                    "parameters": "(token: str, timer_id: int)",
                    "name": "DeleteAlarm",
                    "description": "description = \"Cancel an alarm API that takes two parameters - 'timer_id' and 'token'. The 'timer_id' parameter refers to the id of the alarm to be cancelled and the 'token' parameter is used for user authentication.\"\ninput_parameters = {\n    'timer_id': {'type': 'int', 'description': 'The id of the alarm to be cancelled'},\n    'token': {'type': 'str', 'description': 'Token for user authentication'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_13",
                "doc": {
                    "expressions": "AddAgenda(token: str, content: str, time: datetime, location: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/add_agenda.py",
                    "parameters": "(token: str, content: str, time: datetime, location: str)",
                    "name": "AddAgenda",
                    "description": "description = \"Add an agenda API that takes four parameters - 'content', 'time', 'location' and 'token'. The 'content' parameter refers to the description of the agenda, the 'time' parameter specifies the time at which the agenda will happen, the 'location' parameter refers to the venue of the agenda and the 'token' parameter is used for authentication.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token.'},\n    'content': {'type': 'str', 'description': 'The content of the agenda.'},\n    'time': {'type': 'datetime', 'description': 'The time for the agenda. Format: %Y-%m-%d %H:%M:%S'},\n    'location': {'type': 'str', 'description': 'The location of the agenda.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 1: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 6: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 7: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 8: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 15: This API retrieves the definition of a word based on a provided search query.",
            "Tool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 18: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents."
        ],
        "tool_view": {
            "description": "Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "The authentication token for the user, used to verify access to add an alarm.",
                    "required": true,
                    "default": null,
                    "example": "abc123xyz"
                },
                "time": {
                    "type": "datetime",
                    "description": "The time at which the alarm should go off, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "default": null,
                    "example": "2025-12-12 07:30:00"
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the request to add an alarm. It contains the following component:  \n\n- **status** (string): This field communicates whether the request to add the alarm was successful or not. Its value typically reflects one of two states: a success state indicating that the alarm was successfully created, or a failure state indicating that the alarm could not be added, possibly due to authentication issues, invalid time format, or other errors.  \n\nThis is the only component defined in the response, and it serves as a concise indicator of the operation’s result.",
            "examples": [
                {
                    "user_intent": "Set an alarm for tomorrow morning at 7 AM.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "user_abc123token",
                            "time": "2026-01-01 07:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I want to schedule an alarm for my meeting next Monday at 9:30 AM.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "secureToken456xyz",
                            "time": "2026-01-05 09:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Create a reminder alarm for December 31st at 11:59 PM for New Year's Eve.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "token789secure",
                            "time": "2025-12-31 23:59:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 1: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 6: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 7: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 8: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 11: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 15: This API retrieves the definition of a word based on a provided search query.\nTool 16: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 17: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 18: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"The authentication token for the user, used to verify access to add an alarm.\", \"required\": true, \"default\": null, \"example\": \"abc123xyz\"}, \"time\": {\"type\": \"datetime\", \"description\": \"The time at which the alarm should go off, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"default\": null, \"example\": \"2025-12-12 07:30:00\"}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the request to add an alarm. It contains the following component:  \\n\\n- **status** (string): This field communicates whether the request to add the alarm was successful or not. Its value typically reflects one of two states: a success state indicating that the alarm was successfully created, or a failure state indicating that the alarm could not be added, possibly due to authentication issues, invalid time format, or other errors.  \\n\\nThis is the only component defined in the response, and it serves as a concise indicator of the operation\\u2019s result.\", \"examples\": [{\"user_intent\": \"Set an alarm for tomorrow morning at 7 AM.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"user_abc123token\", \"time\": \"2026-01-01 07:00:00\"}}}, {\"user_intent\": \"I want to schedule an alarm for my meeting next Monday at 9:30 AM.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"secureToken456xyz\", \"time\": \"2026-01-05 09:30:00\"}}}, {\"user_intent\": \"Create a reminder alarm for December 31st at 11:59 PM for New Year's Eve.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"token789secure\", \"time\": \"2025-12-31 23:59:00\"}}}]}\n\n# User Query\nCan you delete my alarm at 7:00 a.m. on March 16th?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Delete a specific alarm scheduled at a given time.",
                    "tool_description": "Cancel a scheduled alarm by providing its unique ID along with a user authentication token, ensuring secure removal of the alarm.",
                    "expected_response": "A status object indicating whether the alarm was successfully deleted or if the operation failed."
                }
            ],
            "extracted_arguments": {
                "alarm_id": "The unique identifier of the alarm to be deleted.",
                "token": "The authentication token for the user, used to verify access to delete the alarm."
            }
        }
    },
    {
        "id": "apibank_query_54",
        "query": "Can you change my appointment?",
        "instruction": "Given an `appointment modification` task, retrieve tools that manage scheduling operations by processing registration numbers and new appointment times to update the appointment details and return the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.",
            "Tool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 6: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 8: Generates a caption for a given image.",
            "Tool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 10: This API retrieves the definition of a word based on a provided search query.",
            "Tool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents."
        ],
        "tool_view": {
            "description": "Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "parameters": {
                "old_password": {
                    "type": "string",
                    "description": "The user's current password that needs to be verified before changing to a new password.",
                    "required": true,
                    "example": "currentPass123"
                },
                "new_password": {
                    "type": "string",
                    "description": "The new password that will replace the existing password for the user account.",
                    "required": true,
                    "example": "newSecurePass456"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \"success\" to indicate the password was changed successfully, or \"failed\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \n\nThis response provides a concise confirmation of the result of the password update request.",
            "examples": [
                {
                    "user_intent": "I want to change my account password from my old one to a new secure password.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "Summer2025!",
                            "new_password": "Winter2025#Secure"
                        }
                    }
                },
                {
                    "user_intent": "Reset my password because I think my current one is compromised.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "MyOldPass123",
                            "new_password": "SafePass!789"
                        }
                    }
                },
                {
                    "user_intent": "Update my login credentials to a stronger password for better security.",
                    "tool_call": {
                        "name": "ModifyPassword",
                        "arguments": {
                            "old_password": "password2025",
                            "new_password": "StrongerPass#2025"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Registers a medical appointment by recording the patient's name, the doctor's name, and the scheduled date and time, allowing patients to book consultations efficiently.\nTool 5: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 6: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 8: Generates a caption for a given image.\nTool 9: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 10: This API retrieves the definition of a word based on a provided search query.\nTool 11: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 12: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 13: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 14: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 19: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\", \"parameters\": {\"old_password\": {\"type\": \"string\", \"description\": \"The user's current password that needs to be verified before changing to a new password.\", \"required\": true, \"example\": \"currentPass123\"}, \"new_password\": {\"type\": \"string\", \"description\": \"The new password that will replace the existing password for the user account.\", \"required\": true, \"example\": \"newSecurePass456\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status**: A string indicating the outcome of the password modification operation. Its value conveys whether the operation was successful or not, typically using descriptors such as \\\"success\\\" to indicate the password was changed successfully, or \\\"failed\\\" to indicate that the operation did not complete (e.g., due to an incorrect old password or other validation errors). \\n\\nThis response provides a concise confirmation of the result of the password update request.\", \"examples\": [{\"user_intent\": \"I want to change my account password from my old one to a new secure password.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"Summer2025!\", \"new_password\": \"Winter2025#Secure\"}}}, {\"user_intent\": \"Reset my password because I think my current one is compromised.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"MyOldPass123\", \"new_password\": \"SafePass!789\"}}}, {\"user_intent\": \"Update my login credentials to a stronger password for better security.\", \"tool_call\": {\"name\": \"ModifyPassword\", \"arguments\": {\"old_password\": \"password2025\", \"new_password\": \"StrongerPass#2025\"}}}]}\n\n# User Query\nCan you change my appointment?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to update the time of my existing medical appointment.",
                    "tool_description": "Modify the scheduled time of an existing patient appointment by providing the appointment's unique identifier and the new desired date and time.",
                    "expected_response": "An object indicating whether the appointment update was successful."
                }
            ],
            "extracted_arguments": {
                "appointment_id": "The unique identifier of the existing medical appointment to be updated.",
                "new_datetime": "The new date and time to which the appointment should be rescheduled."
            }
        }
    },
    {
        "id": "apibank_query_75",
        "query": "Can you tell me about my history for today, please?",
        "instruction": "Given a `historical query` task, retrieve tools that process date inputs to provide a list of historical events or personal history corresponding to the specified date.",
        "labels": [
            {
                "id": "apibank_tool_33",
                "doc": {
                    "expressions": "QueryHistoryToday(date: datetime)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/query_history_today.py",
                    "parameters": "(date: datetime)",
                    "name": "QueryHistoryToday",
                    "description": "description = \"QueryHistoryToday API takes one parameter 'date'. The parameter 'date' refers to the date for which historical events are to be queried.\"\ninput_parameters = {\n    'date': {'type': 'str', 'description': 'The date for which historical events are to be queried. Format: %Y-%m-%d'}\n}\noutput_parameters = {\n    'events': {'type': 'list', 'description': 'List of historical events that occurred on the given date.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 1: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 5: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 6: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.",
            "Tool 7: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.",
            "Tool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 9: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 11: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 12: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 13: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 18: Generates a caption for a given image.",
            "Tool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content."
        ],
        "tool_view": {
            "description": "Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "parameters": {},
            "response": "The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\n\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system’s task model. The list may be empty if there are no incomplete tasks for the day.",
            "examples": [
                {
                    "user_intent": "Show me all the tasks I still need to complete today.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "I want to check my pending tasks for today before my meeting.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                },
                {
                    "user_intent": "List all unfinished tasks scheduled for today so I can prioritize them.",
                    "tool_call": {
                        "name": "GetToday",
                        "arguments": {}
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 1: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 5: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 6: Retrieve a list of train tickets booked by a specific user by providing their user ID, allowing access to detailed information about their reservations.\nTool 7: Retrieve a list of hotel bookings for a specific user by providing their unique user ID, allowing access to detailed information about their reservations.\nTool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 9: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 10: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 11: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 12: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 13: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 18: Generates a caption for a given image.\nTool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\", \"parameters\": {}, \"response\": \"The tool returns a response containing a list of tasks that are scheduled for today and have not yet been completed. The response structure includes a single field:\\n\\n- `tasks`: This is a list where each element represents a task object. Each task object contains detailed information about an individual task, such as its title, description, status, due time, or other relevant metadata, depending on the system\\u2019s task model. The list may be empty if there are no incomplete tasks for the day.\", \"examples\": [{\"user_intent\": \"Show me all the tasks I still need to complete today.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"I want to check my pending tasks for today before my meeting.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}, {\"user_intent\": \"List all unfinished tasks scheduled for today so I can prioritize them.\", \"tool_call\": {\"name\": \"GetToday\", \"arguments\": {}}}]}\n\n# User Query\nCan you tell me about my history for today, please?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to know about events or tasks from today.",
                    "tool_description": "Retrieve a list of historical events or tasks scheduled for today, providing a summary of what has happened or is planned for today.",
                    "expected_response": "A list of tasks scheduled for today that have not yet been completed, including their titles, descriptions, statuses, due times, or other relevant metadata."
                }
            ],
            "extracted_arguments": {}
        }
    },
    {
        "id": "apibank_query_11",
        "query": "Can you check the registration for Alice Chen on June 15, 2023 with Dr. Wang?",
        "instruction": "Given a `registration query` task, retrieve tools that verify or check appointments by processing patient name and appointment date parameters to return the registration status and details.",
        "labels": [
            {
                "id": "apibank_tool_61",
                "doc": {
                    "expressions": "QueryRegistration(patient_name: str, appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_registration.py",
                    "parameters": "(patient_name: str, appointment_time: datetime)",
                    "name": "QueryRegistration",
                    "description": "description = \"Query registration API that takes two parameters - 'patient_name' and 'appointment_time'. The 'patient_name' parameter refers to the name of the patient who has made the appointment and the 'appointment_time' parameter specifies the time of the appointment.\"\ninput_parameters = {\n    'patient_name': {'type': 'str', 'description': 'The name of the patient who has made the appointment.'},\n    'appointment_time': {'type': 'str', 'description': 'The time of the appointment. Format: %Y-%m-%d %H:%M:%S'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'},\n    'registration_details': {'type': 'str', 'description': 'Details of the patient registration.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_56",
                "doc": {
                    "expressions": "SymptomSearch(symptom_description: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/symptom_search.py",
                    "parameters": "(symptom_description: str)",
                    "name": "SymptomSearch",
                    "description": "description = \"An API that searches for medical conditions based on symptom descriptions.\"\ninput_parameters = {\n    'symptom_description': {'type': 'str', 'description': 'A description of the symptoms being experienced.'}\n}\noutput_parameters = {\n    'medical_conditions': {'type': 'list', 'description': 'A list of medical conditions that match the given symptom description.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_62",
                "doc": {
                    "expressions": "RecordHealthData(user_id: str, date: datetime, health_data: object)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/record_health_data.py",
                    "parameters": "(user_id: str, date: datetime, health_data: object)",
                    "name": "RecordHealthData",
                    "description": "description = \"Record health history API that takes in three parameters - 'user_id', 'date', and 'health_data'. The 'user_id' parameter refers to the unique identifier of the user whose health history is being recorded. The 'date' parameter specifies the date when the data was recorded. The 'health_data' parameter specifies the data that was recorded, which is an object.\"\ninput_parameters = {\n    'user_id': {'type': 'str', 'description': 'The unique identifier of the user whose health history is being recorded.'},\n    'date': {'type': 'str', 'description': 'The date when the data was recorded. Format: %Y-%m-%d'},\n    'health_data': {'type': 'object', 'description': 'The data that was recorded.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.",
            "Tool 2: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 3: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 6: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 7: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
            "Tool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 17: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 19: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Cancels a conference registration by using the registration number, returning a status indicating whether the cancellation was successful or failed.\nTool 2: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 3: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 6: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 7: Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.\nTool 8: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 11: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 14: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 15: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 16: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 17: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 18: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 19: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you check the registration for Alice Chen on June 15, 2023 with Dr. Wang?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check the registration details for a patient with a specific doctor and date.",
                    "tool_description": "Retrieve patient registration details by querying with a patient's name and appointment time, allowing users to confirm or review scheduled appointments.",
                    "expected_response": "A collection of registration details for the patient, including information such as doctor name, appointment time, and status of the registration."
                }
            ],
            "extracted_arguments": {
                "patient_name": "The full name of the patient for whom the appointment needs to be checked.",
                "appointment_time": "The specific date and time of the appointment for which the registration needs to be confirmed.",
                "doctor_name": "The name of the doctor with whom the patient is scheduled for the appointment."
            }
        }
    },
    {
        "id": "apibank_query_69",
        "query": "Can you please query the Morning Routine scene for me?",
        "instruction": "Given a `scene query` task, retrieve tools that can access and provide detailed information about specific scenes by processing a scene name and returning comprehensive scene data, including relevant attributes and descriptions.",
        "labels": [
            {
                "id": "apibank_tool_67",
                "doc": {
                    "expressions": "QueryScene(scene_name: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_scene.py",
                    "parameters": "(scene_name: str)",
                    "name": "QueryScene",
                    "description": "description = \"API to query a specific 'scene' by providing a 'scene_name'.\"\ninput_parameters = {\n    'scene_name': {'type': 'str', 'description': 'The name of the scene to be queried.'}\n}\noutput_parameters = {\n    'scene_info': {'type': 'dict', 'description': 'A dictionary containing the information about the queried scene.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 1: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: This API retrieves the definition of a word based on a provided search query.",
            "Tool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 7: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 9: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 10: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 11: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.",
            "Tool 12: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 15: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 16: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 17: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "parameters": {
                "scene_name": {
                    "type": "string",
                    "description": "The name of the scene to be queried using the API.",
                    "required": true,
                    "default": null,
                    "example": "city_park"
                }
            },
            "response": "The tool `QueryScene` returns a single response object named `scene_info`. This response is a dictionary that contains detailed information about the scene specified by the `scene_name` parameter. Each key in the dictionary represents an attribute or property of the queried scene, and the corresponding value provides the relevant data for that attribute. The dictionary as a whole encapsulates all available metadata or characteristics of the scene, allowing the caller to access comprehensive information about it.  \n\nIn summary:  \n\n- **scene_info**: A dictionary containing all relevant details of the queried scene.  \n  - **Keys**: Represent individual attributes or properties of the scene.  \n  - **Values**: Provide the corresponding data for each attribute.  \n\nThe structure is flexible to accommodate multiple types of scene-related information, but the exact keys and their meanings depend on the scene data stored in the backend.",
            "examples": [
                {
                    "user_intent": "Can you provide information about the 'sunset beach' scene?",
                    "tool_call": {
                        "name": "QueryScene",
                        "arguments": {
                            "scene_name": "sunset beach"
                        }
                    }
                },
                {
                    "user_intent": "I need details on the 'mountain view' scene for my project.",
                    "tool_call": {
                        "name": "QueryScene",
                        "arguments": {
                            "scene_name": "mountain view"
                        }
                    }
                },
                {
                    "user_intent": "Give me the data for the 'city skyline' scene.",
                    "tool_call": {
                        "name": "QueryScene",
                        "arguments": {
                            "scene_name": "city skyline"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 1: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 2: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 3: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: This API retrieves the definition of a word based on a provided search query.\nTool 6: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 7: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 9: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 10: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 11: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.\nTool 12: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 13: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 15: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 16: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 17: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 18: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\", \"parameters\": {\"scene_name\": {\"type\": \"string\", \"description\": \"The name of the scene to be queried using the API.\", \"required\": true, \"default\": null, \"example\": \"city_park\"}}, \"response\": \"The tool `QueryScene` returns a single response object named `scene_info`. This response is a dictionary that contains detailed information about the scene specified by the `scene_name` parameter. Each key in the dictionary represents an attribute or property of the queried scene, and the corresponding value provides the relevant data for that attribute. The dictionary as a whole encapsulates all available metadata or characteristics of the scene, allowing the caller to access comprehensive information about it.  \\n\\nIn summary:  \\n\\n- **scene_info**: A dictionary containing all relevant details of the queried scene.  \\n  - **Keys**: Represent individual attributes or properties of the scene.  \\n  - **Values**: Provide the corresponding data for each attribute.  \\n\\nThe structure is flexible to accommodate multiple types of scene-related information, but the exact keys and their meanings depend on the scene data stored in the backend.\", \"examples\": [{\"user_intent\": \"Can you provide information about the 'sunset beach' scene?\", \"tool_call\": {\"name\": \"QueryScene\", \"arguments\": {\"scene_name\": \"sunset beach\"}}}, {\"user_intent\": \"I need details on the 'mountain view' scene for my project.\", \"tool_call\": {\"name\": \"QueryScene\", \"arguments\": {\"scene_name\": \"mountain view\"}}}, {\"user_intent\": \"Give me the data for the 'city skyline' scene.\", \"tool_call\": {\"name\": \"QueryScene\", \"arguments\": {\"scene_name\": \"city skyline\"}}}]}\n\n# User Query\nCan you please query the Morning Routine scene for me?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Can you provide information about the 'Morning Routine' scene?",
                    "tool_description": "Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
                    "expected_response": "A dictionary containing all relevant details of the queried scene, with keys representing scene attributes and values providing the corresponding data."
                }
            ],
            "extracted_arguments": {
                "scene_name": "The name of the scene to be queried using the API."
            }
        }
    },
    {
        "id": "apibank_query_86",
        "query": "Can you please help me query a reminder for \"Attend meeting\" on March 18th, 2023 at 10:30am?",
        "instruction": "Given a `reminder query` task, retrieve tools that facilitate accessing and listing reminders by employing user authentication through token input to ensure secure retrieval of scheduled events.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_8",
                "doc": {
                    "expressions": "QueryReminder(token: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_reminder.py",
                    "parameters": "(token: str)",
                    "name": "QueryReminder",
                    "description": "description = \"Get a list of all reminders API. This API takes a single parameter 'token' which is used for user authentication.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'User authentication token.'}\n}\noutput_parameters = {\n    'reminders': {'type': 'list', 'description': 'List of all the user reminders.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.",
            "Tool 2: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 3: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 6: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 8: This API retrieves the definition of a word based on a provided search query.",
            "Tool 9: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 10: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.",
            "Tool 11: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 12: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.",
            "Tool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 14: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 15: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.",
            "Tool 16: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.",
            "Tool 17: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 18: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.",
            "Tool 19: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping."
        ],
        "tool_view": {
            "description": "Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "parameters": {
                "meeting_id": {
                    "type": "int",
                    "description": "The unique identifier of the meeting that needs to be modified.",
                    "required": true,
                    "example": 12345
                },
                "content": {
                    "type": "string",
                    "description": "The updated description or content of the meeting.",
                    "required": true,
                    "example": "Discuss Q1 financial report"
                },
                "time": {
                    "type": "string",
                    "description": "The new scheduled time for the meeting in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-20"
                },
                "attendees": {
                    "type": "list",
                    "description": "A list of email addresses representing the new attendees invited to the meeting.",
                    "required": true,
                    "example": [
                        "alice@example.com",
                        "bob@example.com"
                    ]
                }
            },
            "response": "The tool returns a response object containing a single field:\n\n- **status** (`str`): Indicates the result of the meeting modification operation. Its value will describe whether the request succeeded or failed, typically using strings such as `\"success\"` for a successful update or `\"failed\"` if the modification could not be completed. This field communicates the overall outcome of the API call but does not include detailed error messages or additional metadata.",
            "examples": [
                {
                    "user_intent": "Update the team meeting to discuss the Q1 report and change the date to February 15th, 2026, inviting Alice and Bob.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 1023,
                            "content": "Discuss Q1 report",
                            "time": "2026-02-15",
                            "attendees": [
                                "alice@example.com",
                                "bob@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Reschedule my project sync to March 1st, 2026, and update attendees to include Carol and Dave.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 2045,
                            "time": "2026-03-01",
                            "attendees": [
                                "carol@example.com",
                                "dave@example.com"
                            ]
                        }
                    }
                },
                {
                    "user_intent": "Change the content of meeting 3098 to cover the new marketing strategy without changing the date or attendees.",
                    "tool_call": {
                        "name": "ModifyMeeting",
                        "arguments": {
                            "meeting_id": 3098,
                            "content": "Review new marketing strategy"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 1: This tool deletes a reminder based on a given user authorization token and a unique reminder identifier.\nTool 2: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 3: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 6: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 8: This API retrieves the definition of a word based on a provided search query.\nTool 9: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 10: Retrieve a list of all reminders for a user by providing an authentication token, allowing access to the user's saved reminder data.\nTool 11: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 12: Create and manage memos by specifying their content, creation time, location, and an optional reminder time, allowing users to record notes and receive timely reminders.\nTool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 14: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 15: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\nTool 16: This API allows users to query the weather forecast for a specific location and time, providing details such as temperature, humidity, wind speed, and a textual description of the weather conditions.\nTool 17: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 18: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\nTool 19: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\", \"parameters\": {\"meeting_id\": {\"type\": \"int\", \"description\": \"The unique identifier of the meeting that needs to be modified.\", \"required\": true, \"example\": 12345}, \"content\": {\"type\": \"string\", \"description\": \"The updated description or content of the meeting.\", \"required\": true, \"example\": \"Discuss Q1 financial report\"}, \"time\": {\"type\": \"string\", \"description\": \"The new scheduled time for the meeting in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-20\"}, \"attendees\": {\"type\": \"list\", \"description\": \"A list of email addresses representing the new attendees invited to the meeting.\", \"required\": true, \"example\": [\"alice@example.com\", \"bob@example.com\"]}}, \"response\": \"The tool returns a response object containing a single field:\\n\\n- **status** (`str`): Indicates the result of the meeting modification operation. Its value will describe whether the request succeeded or failed, typically using strings such as `\\\"success\\\"` for a successful update or `\\\"failed\\\"` if the modification could not be completed. This field communicates the overall outcome of the API call but does not include detailed error messages or additional metadata.\", \"examples\": [{\"user_intent\": \"Update the team meeting to discuss the Q1 report and change the date to February 15th, 2026, inviting Alice and Bob.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 1023, \"content\": \"Discuss Q1 report\", \"time\": \"2026-02-15\", \"attendees\": [\"alice@example.com\", \"bob@example.com\"]}}}, {\"user_intent\": \"Reschedule my project sync to March 1st, 2026, and update attendees to include Carol and Dave.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 2045, \"time\": \"2026-03-01\", \"attendees\": [\"carol@example.com\", \"dave@example.com\"]}}}, {\"user_intent\": \"Change the content of meeting 3098 to cover the new marketing strategy without changing the date or attendees.\", \"tool_call\": {\"name\": \"ModifyMeeting\", \"arguments\": {\"meeting_id\": 3098, \"content\": \"Review new marketing strategy\"}}}]}\n\n# User Query\nCan you please help me query a reminder for \"Attend meeting\" on March 18th, 2023 at 10:30am?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Retrieve a reminder with specific content and scheduled time.",
                    "tool_description": "Query the user's reminders using the authentication token, filtering by reminder content and scheduled time to find matching entries.",
                    "expected_response": "A list of reminder objects containing details such as reminder ID, content, scheduled time, and status."
                }
            ],
            "extracted_arguments": {
                "reminder_content": "The text or description of the reminder to search for, as a string.",
                "reminder_time": "The scheduled date and time of the reminder in a standard datetime format.",
                "auth_token": "The user's authentication token to authorize access to their reminders."
            }
        }
    },
    {
        "id": "apibank_query_13",
        "query": "Hi, can you help me check my alarm for March 20th, 2023 at 6:30AM?",
        "instruction": "Given an `alarm verification` task, retrieve tools that can authenticate user identity and subsequently access alarm details by processing the user's authentication token to return relevant alarm information.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_21",
                "doc": {
                    "expressions": "QueryAlarm(token: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_alarm.py",
                    "parameters": "(token: str)",
                    "name": "QueryAlarm",
                    "description": "description = \"Query alarm API that takes one parameter - 'token'. The 'token' parameter is a unique identifier for the user account.\"\n\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'A unique identifier for the user account.'}\n}\noutput_parameters = {\n    'alarms': {'type': 'list', 'description': 'A list of dictionaries representing the alarms for the user. Each dictionary contains the alarm details.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 2: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 3: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 5: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 6: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 7: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 11: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 12: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.",
            "Tool 17: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 2: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 3: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 4: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 5: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 6: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 7: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 8: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 9: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 10: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 11: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 12: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 14: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 15: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 16: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\nTool 17: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 18: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 19: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nHi, can you help me check my alarm for March 20th, 2023 at 6:30AM?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to retrieve the list of alarms associated with my account to check a specific alarm.",
                    "tool_description": "Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
                    "expected_response": "A collection of alarm objects containing alarm IDs, scheduled times, and status information."
                }
            ],
            "extracted_arguments": {
                "account_token": "The authentication token representing the user's account",
                "alarm_date_time": "The specific date and time of the alarm to be checked"
            }
        }
    },
    {
        "id": "apibank_query_17",
        "query": "Can you translate \"Hello, how are you?\" to French?",
        "instruction": "Given a `translation` task, retrieve tools that can translate text by processing input text and language parameters to deliver the desired translated text output.",
        "labels": [
            {
                "id": "apibank_tool_41",
                "doc": {
                    "expressions": "Translate(text: str, source_language: str, target_language: str)",
                    "category": "其他AI模型",
                    "path": "apis/translate.py",
                    "parameters": "(text: str, source_language: str, target_language: str)",
                    "name": "Translate",
                    "description": "description = \"Translate API that takes three parameters - 'text', 'source_language' and 'target_language'. The 'text' parameter is the string that needs to be translated, the 'source_language' parameter is the language in which the initial text is written and the 'target_language' parameter specifies the language to which the text is to be translated.\"\ninput_parameters = {\n    'text': {'type': 'str', 'description': 'The text to be translated.'},\n    'source_language': {'type': 'str', 'description': 'The language in which the initial text is written. Format: ISO 639 language code'},\n    'target_language': {'type': 'str', 'description': 'The language to which the text is to be translated. Format: ISO 639 language code'}\n}\noutput_parameters = {\n    'translated_text': {'type': 'str', 'description': 'The string of the translated text.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 3: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.",
            "Tool 10: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 19: This API retrieves the definition of a word based on a provided search query."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 3: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 4: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 5: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 8: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 9: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\nTool 10: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 11: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 14: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 15: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 16: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 17: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 18: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 19: This API retrieves the definition of a word based on a provided search query.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you translate \"Hello, how are you?\" to French?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Translate a given text from one language to another.",
                    "tool_description": "Translate text from a specified source language to a target language using ISO 639 language codes.",
                    "expected_response": "The translated text in the target language."
                }
            ],
            "extracted_arguments": {
                "text": "The original text string that needs to be translated.",
                "source_language": "The ISO 639 code of the language of the original text.",
                "target_language": "The ISO 639 code of the language to which the text should be translated."
            }
        }
    },
    {
        "id": "apibank_query_28",
        "query": "Can you play the music \"Shape of You\"?",
        "instruction": "Given a `music playback` task, retrieve tools that play specified music tracks by processing song names or playlist names along with the source location to initiate streaming and provide feedback on the playback status.",
        "labels": [
            {
                "id": "apibank_tool_71",
                "doc": {
                    "expressions": "PlayMusic(song_playlist_name: str, source: str)",
                    "category": "对外影响 - 实时通信",
                    "path": "apis/play_music.py",
                    "parameters": "(song_playlist_name: str, source: str)",
                    "name": "PlayMusic",
                    "description": "description = \"Play Music API that takes two parameters - 'song_playlist_name' and 'source'. The 'song_playlist_name' parameter refers to the name of the playlist which contains the songs to be played and the 'source' parameter specifies the location of the music files on the system.\"\ninput_parameters = {\n    'song_playlist_name': {'type': 'str', 'description': 'The name of the playlist to be played.'},\n    'source': {'type': 'str', 'description': 'The location of the music files on the system.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 2: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.",
            "Tool 3: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.",
            "Tool 4: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.",
            "Tool 5: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 7: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 9: This API retrieves the definition of a word based on a provided search query.",
            "Tool 10: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data."
        ],
        "tool_view": {
            "description": "Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user for whom the ticket information needs to be queried.",
                    "required": true,
                    "default": null,
                    "example": "12345"
                }
            },
            "response": "The tool’s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user’s ticket, which may include status, type, or other descriptive attributes, depending on the system’s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.",
            "examples": [
                {
                    "user_intent": "I want to check the ticket details for my account.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "user_987654"
                        }
                    }
                },
                {
                    "user_intent": "Get the ticket information for user with ID 'abc123'.",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "abc123"
                        }
                    }
                },
                {
                    "user_intent": "Can you fetch the ticket status for the user 'john_doe_45'?",
                    "tool_call": {
                        "name": "QueryTicket",
                        "arguments": {
                            "user_id": "john_doe_45"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 1: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 2: Search for movies or music by specifying a keyword, type (movie or music), and optionally the release year, returning a list of matching results.\nTool 3: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.\nTool 4: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\nTool 5: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 6: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 7: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 8: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 9: This API retrieves the definition of a word based on a provided search query.\nTool 10: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 11: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 12: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user for whom the ticket information needs to be queried.\", \"required\": true, \"default\": null, \"example\": \"12345\"}}, \"response\": \"The tool\\u2019s response consists of a single field named `ticket_information`. This field is a string that conveys the details of the ticket associated with the specified `user_id`. Semantically, it provides all relevant information about the user\\u2019s ticket, which may include status, type, or other descriptive attributes, depending on the system\\u2019s implementation. The response is expected to be returned directly in the body of the API call when queried via the GET method.\", \"examples\": [{\"user_intent\": \"I want to check the ticket details for my account.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"user_987654\"}}}, {\"user_intent\": \"Get the ticket information for user with ID 'abc123'.\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"abc123\"}}}, {\"user_intent\": \"Can you fetch the ticket status for the user 'john_doe_45'?\", \"tool_call\": {\"name\": \"QueryTicket\", \"arguments\": {\"user_id\": \"john_doe_45\"}}}]}\n\n# User Query\nCan you play the music \"Shape of You\"?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to play a specific music track from a given playlist.",
                    "tool_description": "Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.",
                    "expected_response": "Confirmation that the music track has started playing or an error message if the track is not available."
                }
            ],
            "extracted_arguments": {
                "playlist_name": "The name of the music track to be played.",
                "source": "The location of the music files, if necessary to identify."
            }
        }
    },
    {
        "id": "apibank_query_31",
        "query": "Can you help me open a new bank account?",
        "instruction": "Given a `bank account setup` task, retrieve tools that facilitate creating a new bank account by processing personal information inputs such as account number, password, name, and email to complete the setup process and provide the status of the operation.",
        "labels": [
            {
                "id": "apibank_tool_25",
                "doc": {
                    "expressions": "OpenBankAccount(account: str, password: str, name: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/open_bank_account.py",
                    "parameters": "(account: str, password: str, name: str, email: str)",
                    "name": "OpenBankAccount",
                    "description": "description = \"Open bank account API that takes four parameters: 'account', 'password', 'name' and 'email'. The 'account' parameter refers to the user's bank account number, the 'password' parameter refers to the user's password for the account, the 'name' parameter refers to the user's name and 'email' parameter refers to the user's email address.\"\ninput_parameters = {\n    'account': {'type': 'str', 'description': 'The user’s bank account number.'},\n    'password': {'type': 'str', 'description': 'The password for the bank account.'},\n    'name': {'type': 'str', 'description': 'The name of the user.'},\n    'email': {'type': 'str', 'description': 'The email address of the user.'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Whether the bank account opening was successful or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 4: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.",
            "Tool 5: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 7: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 10: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 11: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.",
            "Tool 12: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.",
            "Tool 13: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 14: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.",
            "Tool 15: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.",
            "Tool 16: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.",
            "Tool 17: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.",
            "Tool 18: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.",
            "Tool 19: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful."
        ],
        "tool_view": {
            "description": "Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "parameters": {
                "account": {
                    "type": "string",
                    "description": "The user's bank account number used to open the account.",
                    "required": true,
                    "example": "1234567890"
                },
                "password": {
                    "type": "string",
                    "description": "The password associated with the user's bank account for authentication.",
                    "required": true,
                    "example": "P@ssw0rd123"
                },
                "name": {
                    "type": "string",
                    "description": "The full name of the user opening the bank account.",
                    "required": true,
                    "example": "John Doe"
                },
                "email": {
                    "type": "string",
                    "description": "The email address of the user, used for account communication and verification.",
                    "required": true,
                    "example": "john.doe@example.com"
                }
            },
            "response": "The tool’s response consists of a single component named `status`. This field is a string that indicates the outcome of the bank account opening request. Semantically, it conveys whether the operation was successful or failed. There are no additional fields defined, so the response is expected to be a simple status message summarizing the result of the API call.",
            "examples": [
                {
                    "user_intent": "I want to open a new bank account with my details.",
                    "tool_call": {
                        "name": "OpenBankAccount",
                        "arguments": {
                            "account": "6222021234567890",
                            "password": "SecurePass!2025",
                            "name": "Li Wei",
                            "email": "li.wei@example.com"
                        }
                    }
                },
                {
                    "user_intent": "Register a new account for my friend Zhang Hua using his email.",
                    "tool_call": {
                        "name": "OpenBankAccount",
                        "arguments": {
                            "account": "6222029876543210",
                            "password": "ZhangH2025#",
                            "name": "Zhang Hua",
                            "email": "zhang.hua@example.com"
                        }
                    }
                },
                {
                    "user_intent": "Set up a bank account for my business partner, Wang Mei.",
                    "tool_call": {
                        "name": "OpenBankAccount",
                        "arguments": {
                            "account": "6222025556667777",
                            "password": "WangMei$123",
                            "name": "Wang Mei",
                            "email": "wang.mei@businessmail.com"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 1: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 2: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 3: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 4: Allows a user to change their account password by providing their current password and specifying a new one, returning a status indicating whether the update was successful.\nTool 5: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 6: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 7: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 8: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 9: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 10: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 11: This tool provides an API endpoint to delete a user account by verifying the request through the user's authentication token.\nTool 12: Add a new agenda entry by specifying its content, scheduled time, and location, using an authentication token to authorize the action.\nTool 13: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 14: Create a new reminder by specifying its content and the time it should be triggered, using a user authentication token to authorize the action.\nTool 15: Modify the devices associated with a specific scene by specifying the scene name and providing a new list of device names to replace the existing ones.\nTool 16: Update an existing reminder by specifying its identifier along with the new content and time, allowing users to modify the reminder’s details efficiently.\nTool 17: Add a new scene by specifying its name and the list of devices it includes, allowing users to organize and manage multiple devices together.\nTool 18: Update the appointment time for an existing registration by providing its identification number and the new desired date and time, returning whether the update was successful.\nTool 19: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\", \"parameters\": {\"account\": {\"type\": \"string\", \"description\": \"The user's bank account number used to open the account.\", \"required\": true, \"example\": \"1234567890\"}, \"password\": {\"type\": \"string\", \"description\": \"The password associated with the user's bank account for authentication.\", \"required\": true, \"example\": \"P@ssw0rd123\"}, \"name\": {\"type\": \"string\", \"description\": \"The full name of the user opening the bank account.\", \"required\": true, \"example\": \"John Doe\"}, \"email\": {\"type\": \"string\", \"description\": \"The email address of the user, used for account communication and verification.\", \"required\": true, \"example\": \"john.doe@example.com\"}}, \"response\": \"The tool\\u2019s response consists of a single component named `status`. This field is a string that indicates the outcome of the bank account opening request. Semantically, it conveys whether the operation was successful or failed. There are no additional fields defined, so the response is expected to be a simple status message summarizing the result of the API call.\", \"examples\": [{\"user_intent\": \"I want to open a new bank account with my details.\", \"tool_call\": {\"name\": \"OpenBankAccount\", \"arguments\": {\"account\": \"6222021234567890\", \"password\": \"SecurePass!2025\", \"name\": \"Li Wei\", \"email\": \"li.wei@example.com\"}}}, {\"user_intent\": \"Register a new account for my friend Zhang Hua using his email.\", \"tool_call\": {\"name\": \"OpenBankAccount\", \"arguments\": {\"account\": \"6222029876543210\", \"password\": \"ZhangH2025#\", \"name\": \"Zhang Hua\", \"email\": \"zhang.hua@example.com\"}}}, {\"user_intent\": \"Set up a bank account for my business partner, Wang Mei.\", \"tool_call\": {\"name\": \"OpenBankAccount\", \"arguments\": {\"account\": \"6222025556667777\", \"password\": \"WangMei$123\", \"name\": \"Wang Mei\", \"email\": \"wang.mei@businessmail.com\"}}}]}\n\n# User Query\nCan you help me open a new bank account?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to open a new bank account with my details.",
                    "tool_description": "Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
                    "expected_response": "A status message indicating whether the bank account was successfully created or not."
                }
            ],
            "extracted_arguments": {
                "account": "The user's bank account number used to open the account.",
                "password": "The password associated with the user's bank account for authentication.",
                "name": "The full name of the user opening the bank account.",
                "email": "The email address of the user, used for account communication and verification."
            }
        }
    },
    {
        "id": "apibank_query_35",
        "query": "Can you help me with a health issue?",
        "instruction": "Given a `health query` task, retrieve tools that can provide assistance or information related to health issues by processing criteria such as symptoms, conditions, or appointments to deliver relevant advice or administrative solutions.",
        "labels": [
            {
                "id": "apibank_tool_57",
                "doc": {
                    "expressions": "EmergencyKnowledge(disease_injury_name: str)",
                    "category": "获取信息 - 数据库查询",
                    "path": "apis/emergency_knowledge.py",
                    "parameters": "(disease_injury_name: str)",
                    "name": "EmergencyKnowledge",
                    "description": "description = \"An API that provides information about emergency procedures and first aid activities related to a particular disease or injury. Takes one input parameter - 'disease_injury_name', which is a string referring to the name of the injury or disease for which the user needs emergency knowledge.\"\ninput_parameters = {\n    'disease_injury_name': {'type': 'str', 'description': \"The name of the disease or injury for which emergency knowledge is required.\"}\n}\noutput_parameters = {\n    'emergency_procedures': {'type': 'str', 'description': 'Emergency procedures for the specified disease or injury.'},\n    'first_aid_activities': {'type': 'str', 'description': 'First aid activities for the specified disease or injury.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_60",
                "doc": {
                    "expressions": "ModifyRegistration(registration_number: str, new_appointment_time: datetime)",
                    "category": "对外影响 - 数据库操作 - 改",
                    "path": "apis/modify_registration.py",
                    "parameters": "(registration_number: str, new_appointment_time: datetime)",
                    "name": "ModifyRegistration",
                    "description": "description = \"Modify Registration API that takes two parameters - 'registration_number' and 'new_appointment_time'. The 'registration_number' parameter refers to the identification number of the registration to be updated, and the 'new_appointment_time' parameter specifies the new time for the updated registration appointment.\" \n\ninput_parameters = {\n  'registration_number': {'type': 'str', 'description': 'The identification number of the registration to be updated.'},\n  'new_appointment_time': {'type': 'datetime', 'description': 'The new time for the updated registration appointment. Format: %Y-%m-%d %H:%M:%S'},\n}\n\noutput_parameters = {\n  'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.",
            "Tool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 4: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 5: This API retrieves the definition of a word based on a provided search query.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: Generates a caption for a given image.",
            "Tool 8: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.",
            "Tool 9: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 11: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions."
        ],
        "tool_view": {
            "description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
            "parameters": {
                "user_id": {
                    "type": "string",
                    "description": "The unique identifier of the user whose health history is being recorded.",
                    "required": true,
                    "example": "12345"
                },
                "date": {
                    "type": "string",
                    "description": "The date when the health data was recorded, in the format YYYY-MM-DD.",
                    "required": true,
                    "example": "2025-12-11"
                },
                "health_data": {
                    "type": "object",
                    "description": "An object containing the health data that is being recorded for the user.",
                    "required": true,
                    "example": {
                        "weight": 70,
                        "blood_pressure": "120/80",
                        "heart_rate": 72
                    }
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\n\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\"success\"` if the health data was recorded correctly, or `\"failed\"` if there was an error or the operation did not complete as intended.  \n\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action’s result.",
            "examples": [
                {
                    "user_intent": "Record today's blood pressure and heart rate for user 1001.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "1001",
                            "date": "2025-12-30",
                            "health_data": {
                                "blood_pressure": "120/80",
                                "heart_rate": 72
                            }
                        }
                    }
                },
                {
                    "user_intent": "Add yesterday's step count and sleep hours for user A42.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "A42",
                            "date": "2025-12-29",
                            "health_data": {
                                "steps": 8500,
                                "sleep_hours": 7.5
                            }
                        }
                    }
                },
                {
                    "user_intent": "Log user 78's weight and body temperature for today.",
                    "tool_call": {
                        "name": "RecordHealthData",
                        "arguments": {
                            "user_id": "78",
                            "date": "2025-12-30",
                            "health_data": {
                                "weight_kg": 68.2,
                                "body_temperature_c": 36.6
                            }
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This API retrieves a user's health data for a specified time period, using the user's ID to identify them and the time range to filter the data.\nTool 3: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 4: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 5: This API retrieves the definition of a word based on a provided search query.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: Generates a caption for a given image.\nTool 8: Provides an API to delete a bank account by using an access token for authentication and identification, returning a status indicating success or failure.\nTool 9: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 10: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 11: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 19: Detect objects within a provided image, returning a list of identified objects along with the image’s dimensions.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Record and store a user\\u2019s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.\", \"parameters\": {\"user_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the user whose health history is being recorded.\", \"required\": true, \"example\": \"12345\"}, \"date\": {\"type\": \"string\", \"description\": \"The date when the health data was recorded, in the format YYYY-MM-DD.\", \"required\": true, \"example\": \"2025-12-11\"}, \"health_data\": {\"type\": \"object\", \"description\": \"An object containing the health data that is being recorded for the user.\", \"required\": true, \"example\": {\"weight\": 70, \"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the health data recording operation. It contains the following component:\\n\\n- **status**: A string field that communicates whether the operation was successful. Its value is expected to be either `\\\"success\\\"` if the health data was recorded correctly, or `\\\"failed\\\"` if there was an error or the operation did not complete as intended.  \\n\\nThis response does not include the recorded data itself or any additional metadata; it serves purely as a confirmation of the action\\u2019s result.\", \"examples\": [{\"user_intent\": \"Record today's blood pressure and heart rate for user 1001.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"1001\", \"date\": \"2025-12-30\", \"health_data\": {\"blood_pressure\": \"120/80\", \"heart_rate\": 72}}}}, {\"user_intent\": \"Add yesterday's step count and sleep hours for user A42.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"A42\", \"date\": \"2025-12-29\", \"health_data\": {\"steps\": 8500, \"sleep_hours\": 7.5}}}}, {\"user_intent\": \"Log user 78's weight and body temperature for today.\", \"tool_call\": {\"name\": \"RecordHealthData\", \"arguments\": {\"user_id\": \"78\", \"date\": \"2025-12-30\", \"health_data\": {\"weight_kg\": 68.2, \"body_temperature_c\": 36.6}}}}]}\n\n# User Query\nCan you help me with a health issue?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to record and track my health information.",
                    "tool_description": "Record and store a user’s health history by specifying their unique ID, the date of the record, and the health data to be saved, allowing tracking of health information over time.",
                    "expected_response": "A structured object indicating whether the health data recording was successful or failed."
                }
            ],
            "extracted_arguments": {
                "user_id": "The unique identifier of the user whose health information is being recorded.",
                "date": "The date when the health data is recorded, formatted as YYYY-MM-DD.",
                "health_data": "An object containing the specific health metrics or observations to be recorded for the user."
            }
        }
    },
    {
        "id": "apibank_query_94",
        "query": "Can you help me set an alarm for 8 am tomorrow?",
        "instruction": "Given an `alarm setting` task, retrieve tools that manage alarm operations by authenticating the user and processing time inputs to set an alarm, ensuring successful scheduling and returning the operation status.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_18",
                "doc": {
                    "expressions": "AddAlarm(token: str, time: datetime)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/add_alarm.py",
                    "parameters": "(token: str, time: datetime)",
                    "name": "AddAlarm",
                    "description": "description = \"Add an alarm clock API that takes two parameters - 'token' and 'time'. The 'token' parameter authenticates the user and the 'time' parameter specifies the time at which the alarm should go off.\"\n\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'Authentication token for the user.'},\n    'time': {'type': 'datetime', 'description': 'The time for the alarm clock in the format of \"%Y-%m-%d %H:%M:%S\".'}\n}\n\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'The status of the request - success or failed.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.",
            "Tool 4: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.",
            "Tool 5: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.",
            "Tool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 7: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 9: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 11: This API retrieves the definition of a word based on a provided search query.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 16: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 17: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 18: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 19: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content."
        ],
        "tool_view": {
            "description": "Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
            "parameters": {
                "token": {
                    "type": "string",
                    "description": "The authentication token for the user, used to verify access to add an alarm.",
                    "required": true,
                    "default": null,
                    "example": "abc123xyz"
                },
                "time": {
                    "type": "datetime",
                    "description": "The time at which the alarm should go off, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "default": null,
                    "example": "2025-12-12 07:30:00"
                }
            },
            "response": "The tool’s response is a structured object that indicates the outcome of the request to add an alarm. It contains the following component:  \n\n- **status** (string): This field communicates whether the request to add the alarm was successful or not. Its value typically reflects one of two states: a success state indicating that the alarm was successfully created, or a failure state indicating that the alarm could not be added, possibly due to authentication issues, invalid time format, or other errors.  \n\nThis is the only component defined in the response, and it serves as a concise indicator of the operation’s result.",
            "examples": [
                {
                    "user_intent": "Set an alarm for tomorrow morning at 7 AM.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "user_abc123token",
                            "time": "2026-01-01 07:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I want to schedule an alarm for my meeting next Monday at 9:30 AM.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "secureToken456xyz",
                            "time": "2026-01-05 09:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Create a reminder alarm for December 31st at 11:59 PM for New Year's Eve.",
                    "tool_call": {
                        "name": "AddAlarm",
                        "arguments": {
                            "token": "token789secure",
                            "time": "2025-12-31 23:59:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: Retrieve a list of alarms associated with a user account by providing a unique account token, allowing users to access their alarm details.\nTool 4: Modify an existing alarm by specifying its ID and updating its scheduled time, using an authorization token to authenticate the request.\nTool 5: Cancel a specific alarm by providing its ID and a user authentication token, allowing users to remove scheduled alarms securely.\nTool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 7: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 8: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 9: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 11: This API retrieves the definition of a word based on a provided search query.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 14: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 15: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 16: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 17: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 18: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 19: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.\", \"parameters\": {\"token\": {\"type\": \"string\", \"description\": \"The authentication token for the user, used to verify access to add an alarm.\", \"required\": true, \"default\": null, \"example\": \"abc123xyz\"}, \"time\": {\"type\": \"datetime\", \"description\": \"The time at which the alarm should go off, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"default\": null, \"example\": \"2025-12-12 07:30:00\"}}, \"response\": \"The tool\\u2019s response is a structured object that indicates the outcome of the request to add an alarm. It contains the following component:  \\n\\n- **status** (string): This field communicates whether the request to add the alarm was successful or not. Its value typically reflects one of two states: a success state indicating that the alarm was successfully created, or a failure state indicating that the alarm could not be added, possibly due to authentication issues, invalid time format, or other errors.  \\n\\nThis is the only component defined in the response, and it serves as a concise indicator of the operation\\u2019s result.\", \"examples\": [{\"user_intent\": \"Set an alarm for tomorrow morning at 7 AM.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"user_abc123token\", \"time\": \"2026-01-01 07:00:00\"}}}, {\"user_intent\": \"I want to schedule an alarm for my meeting next Monday at 9:30 AM.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"secureToken456xyz\", \"time\": \"2026-01-05 09:30:00\"}}}, {\"user_intent\": \"Create a reminder alarm for December 31st at 11:59 PM for New Year's Eve.\", \"tool_call\": {\"name\": \"AddAlarm\", \"arguments\": {\"token\": \"token789secure\", \"time\": \"2025-12-31 23:59:00\"}}}]}\n\n# User Query\nCan you help me set an alarm for 8 am tomorrow?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Set an alarm for 8 AM tomorrow.",
                    "tool_description": "Set an alarm for a specified time by providing a user authentication token and the desired alarm time, returning the status of the request to confirm success or failure.",
                    "expected_response": "A structured object indicating whether the alarm was successfully created or not, including a status field."
                }
            ],
            "extracted_arguments": {
                "token": "The authentication token for the user, used to verify access to add an alarm.",
                "time": "The date and time at which the alarm should go off, formatted as '%Y-%m-%d %H:%M:%S'."
            }
        }
    },
    {
        "id": "apibank_query_3",
        "query": "Can you help me register on this app?",
        "instruction": "Given a `user registration` task, retrieve tools that facilitate the registration process on an application by collecting and processing inputs such as username, password, and email to create a new user account and return the status of the registration.",
        "labels": [
            {
                "id": "apibank_tool_1",
                "doc": {
                    "expressions": "RegisterUser(username: str, password: str, email: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/register_user.py",
                    "parameters": "(username: str, password: str, email: str)",
                    "name": "RegisterUser",
                    "description": "description = \"API to register a new user with their username, password, and email.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the new user.'},\n    'password': {'type': 'str', 'description': 'The password of the new user.'},\n    'email': {'type': 'str', 'description': 'The email of the new user.'},\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 3: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.",
            "Tool 4: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.",
            "Tool 5: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.",
            "Tool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 7: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.",
            "Tool 8: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.",
            "Tool 9: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 10: This API retrieves the definition of a word based on a provided search query.",
            "Tool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 18: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.",
            "Tool 19: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document."
        ],
        "tool_view": {
            "description": "Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
            "parameters": {
                "username": {
                    "type": "string",
                    "description": "The username of the new user.",
                    "required": true,
                    "example": "john_doe"
                },
                "password": {
                    "type": "string",
                    "description": "The password of the new user.",
                    "required": true,
                    "example": "securePassword123"
                },
                "email": {
                    "type": "string",
                    "description": "The email of the new user.",
                    "required": true,
                    "example": "johndoe@example.com"
                }
            },
            "response": "The tool returns a response indicating the outcome of the user registration attempt. The response has the following structure:\n\n- **status** (string): This field communicates whether the registration operation was successful or not. Its value will typically be `\"success\"` if the new user was registered successfully, or `\"failed\"` if the registration could not be completed. \n\nNo additional fields are explicitly defined, so the response focuses solely on reporting the success or failure of the operation.",
            "examples": [
                {
                    "user_intent": "I want to create a new account for John with the email john.doe@example.com.",
                    "tool_call": {
                        "name": "RegisterUser",
                        "arguments": {
                            "username": "john_doe",
                            "password": "SecurePass123!",
                            "email": "john.doe@example.com"
                        }
                    }
                },
                {
                    "user_intent": "Register a new user named Alice with her email alice.wang@mail.com and a strong password.",
                    "tool_call": {
                        "name": "RegisterUser",
                        "arguments": {
                            "username": "alice_w",
                            "password": "Alice2025$",
                            "email": "alice.wang@mail.com"
                        }
                    }
                },
                {
                    "user_intent": "Create an account for a test user for our internal system.",
                    "tool_call": {
                        "name": "RegisterUser",
                        "arguments": {
                            "username": "test_user123",
                            "password": "TestPass!789",
                            "email": "test.user123@company.com"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 3: This API generates a Knowledge Graph for a given keyword and returns the corresponding graph data.\nTool 4: Generates a textual description of a video by analyzing the video object provided, allowing users to understand or summarize its content.\nTool 5: Search for products on an e-commerce platform by providing a keyword, returning a list of items that match the given search term.\nTool 6: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 7: This tool performs speech recognition on an audio file, transcribing spoken words into text and providing a confidence score for the accuracy of the transcription.\nTool 8: Allows a user to open a new bank account by providing their account number, password, name, and email, and returns a status indicating whether the account creation was successful or failed.\nTool 9: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 10: This API retrieves the definition of a word based on a provided search query.\nTool 11: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 12: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 13: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 14: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 15: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 16: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 17: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 18: Provides a way to initiate a password recovery by submitting an account's username and associated email, returning a status indicating whether the request was successful.\nTool 19: Generates a concise summary of a research paper by analyzing its content, helping users quickly understand the key points without reading the full document.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.\", \"parameters\": {\"username\": {\"type\": \"string\", \"description\": \"The username of the new user.\", \"required\": true, \"example\": \"john_doe\"}, \"password\": {\"type\": \"string\", \"description\": \"The password of the new user.\", \"required\": true, \"example\": \"securePassword123\"}, \"email\": {\"type\": \"string\", \"description\": \"The email of the new user.\", \"required\": true, \"example\": \"johndoe@example.com\"}}, \"response\": \"The tool returns a response indicating the outcome of the user registration attempt. The response has the following structure:\\n\\n- **status** (string): This field communicates whether the registration operation was successful or not. Its value will typically be `\\\"success\\\"` if the new user was registered successfully, or `\\\"failed\\\"` if the registration could not be completed. \\n\\nNo additional fields are explicitly defined, so the response focuses solely on reporting the success or failure of the operation.\", \"examples\": [{\"user_intent\": \"I want to create a new account for John with the email john.doe@example.com.\", \"tool_call\": {\"name\": \"RegisterUser\", \"arguments\": {\"username\": \"john_doe\", \"password\": \"SecurePass123!\", \"email\": \"john.doe@example.com\"}}}, {\"user_intent\": \"Register a new user named Alice with her email alice.wang@mail.com and a strong password.\", \"tool_call\": {\"name\": \"RegisterUser\", \"arguments\": {\"username\": \"alice_w\", \"password\": \"Alice2025$\", \"email\": \"alice.wang@mail.com\"}}}, {\"user_intent\": \"Create an account for a test user for our internal system.\", \"tool_call\": {\"name\": \"RegisterUser\", \"arguments\": {\"username\": \"test_user123\", \"password\": \"TestPass!789\", \"email\": \"test.user123@company.com\"}}}]}\n\n# User Query\nCan you help me register on this app?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to create a new account on the app.",
                    "tool_description": "Register a new user by providing a username, password, and email, and receive a response indicating whether the registration was successful or failed.",
                    "expected_response": "A response indicating the success or failure of the user registration attempt."
                }
            ],
            "extracted_arguments": {
                "username": "The desired username for the new account, as a string.",
                "password": "The chosen password for the new account, as a string.",
                "email": "The email address associated with the new account, as a string."
            }
        }
    },
    {
        "id": "apibank_query_14",
        "query": "Can you help me check if there is a reservation for the Design Team Meeting on March 26, 2023 from 11:00AM to 1:00PM at Design Studio?",
        "instruction": "Given a `meeting reservation query` task, retrieve tools that authenticate user access and check meeting schedules by processing authentication tokens to verify and list existing reservations based on the given details such as date, time, and location.",
        "labels": [
            {
                "id": "apibank_tool_0",
                "doc": {
                    "expressions": "GetUserToken(username: str, password: str)",
                    "category": "对外影响 - 数据库操作",
                    "path": "apis/get_user_token.py",
                    "parameters": "(username: str, password: str)",
                    "name": "GetUserToken",
                    "description": "description = \"Get user token API that takes two parameters - 'username' and 'password'. The 'username' parameter is used to identify the user and the 'password' parameter is used to authenticate the user's identity.\"\ninput_parameters = {\n    'username': {'type': 'str', 'description': 'The username of the user.'},\n    'password': {'type': 'str', 'description': 'The password of the user.'}\n}\noutput_parameters = {\n    'token': {'type': 'str', 'description': 'The token generated upon successful authentication.'}\n}"
                },
                "relevance": 1
            },
            {
                "id": "apibank_tool_12",
                "doc": {
                    "expressions": "QueryMeeting(token: str)",
                    "category": "对外影响 - 数据库操作 - 查",
                    "path": "apis/query_meeting.py",
                    "parameters": "(token: str)",
                    "name": "QueryMeeting",
                    "description": "description = \"Query meeting API that takes one parameter - 'token'. The 'token' parameter refers to the authentication token to access the user's data.\"\ninput_parameters = {\n    'token': {'type': 'str', 'description': 'The authentication token.'}\n}\noutput_parameters = {\n    'meeting_list': {'type': 'list', 'description': 'A list of meetings scheduled by the user.'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "Tool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 2: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.",
            "Tool 3: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.",
            "Tool 4: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.",
            "Tool 5: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.",
            "Tool 6: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.",
            "Tool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 8: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.",
            "Tool 9: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.",
            "Tool 10: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.",
            "Tool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 12: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.",
            "Tool 13: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 14: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 15: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.",
            "Tool 16: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.",
            "Tool 17: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.",
            "Tool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 19: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system."
        ],
        "tool_view": {
            "description": "Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.",
            "parameters": {
                "order_number": {
                    "type": "string",
                    "description": "The order number of the hotel booking.",
                    "required": true,
                    "example": "12345"
                },
                "new_check_in_date": {
                    "type": "string",
                    "description": "The new check-in date for the booking. The date should be in the format: YYYY-MM-DD.",
                    "required": false,
                    "example": "2025-12-15"
                },
                "new_check_out_date": {
                    "type": "string",
                    "description": "The new check-out date for the booking. The date should be in the format: YYYY-MM-DD.",
                    "required": false,
                    "example": "2025-12-20"
                },
                "new_room_count": {
                    "type": "integer",
                    "description": "The new number of rooms needed for the booking.",
                    "required": false,
                    "example": 2
                },
                "new_adult_count": {
                    "type": "integer",
                    "description": "The new number of adults for the booking.",
                    "required": false,
                    "example": 2
                },
                "new_child_count": {
                    "type": "integer",
                    "description": "The new number of children for the booking.",
                    "required": false,
                    "example": 1
                }
            },
            "response": "The tool responds with a status message that indicates the result of the modification request. This status message is a string that provides feedback about whether the operation was successful or failed. The response contains only one component:\n\n- **status** (type: string): This field provides a textual message describing the outcome of the modification attempt. It indicates whether the booking modification was successful or if there was an error (e.g., invalid data, booking not found, etc.). The content of the status message will vary depending on the situation, but it will generally communicate either a success or failure.",
            "examples": [
                {
                    "user_intent": "I need to change my hotel booking 987654321 to check in on 2026-01-10 and check out on 2026-01-15.",
                    "tool_call": {
                        "name": "ModifyHotelBooking",
                        "arguments": {
                            "order_number": "987654321",
                            "new_check_in_date": "2026-01-10",
                            "new_check_out_date": "2026-01-15"
                        }
                    }
                },
                {
                    "user_intent": "Update my booking 123456789 to have 2 rooms, 4 adults, and 2 children.",
                    "tool_call": {
                        "name": "ModifyHotelBooking",
                        "arguments": {
                            "order_number": "123456789",
                            "new_room_count": 2,
                            "new_adult_count": 4,
                            "new_child_count": 2
                        }
                    }
                },
                {
                    "user_intent": "I want to reschedule booking 555333111 to new dates from 2026-02-05 to 2026-02-08 and change it to 1 room for 2 adults only.",
                    "tool_call": {
                        "name": "ModifyHotelBooking",
                        "arguments": {
                            "order_number": "555333111",
                            "new_check_in_date": "2026-02-05",
                            "new_check_out_date": "2026-02-08",
                            "new_room_count": 1,
                            "new_adult_count": 2,
                            "new_child_count": 0
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\nTool 1: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 2: Modify the details of an existing meeting by updating its content, time, and list of attendees using the meeting's unique ID.\nTool 3: Cancel a scheduled meeting by specifying its meeting ID and providing the necessary authorization token, returning a status indicating whether the cancellation was successful.\nTool 4: This tool allows users to book tickets for a specific attraction by specifying the attraction name, ticket type, quantity, and desired reservation date, and returns a booking ID along with the status of the reservation.\nTool 5: Query a hotel API to retrieve available hotels based on parameters such as location, check-in and check-out dates, number of rooms, and the number of adults and children staying.\nTool 6: An API that searches for artificial intelligence-related conferences based on a provided meeting name or keyword.\nTool 7: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 8: A hotel booking API that allows users to reserve a hotel by providing details such as hotel name, check-in and check-out dates, number of rooms, and the number of adults and children staying. It returns the booking status, reference code, and the total cost of the stay.\nTool 9: Modify the reservation date for a specific order by providing the order number and the new desired date, allowing updates to existing bookings.\nTool 10: Schedule a meeting by specifying its description, the scheduled time, and a list of email addresses for the attendees, and receive a confirmation of whether the booking was successful.\nTool 11: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 12: Allows users to cancel a hotel reservation by providing its unique order number and returns the cancellation status along with any refundable amount according to the policy.\nTool 13: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 14: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 15: Deletes a specified scene from the system by providing its name, allowing users to remove unwanted or obsolete scenes efficiently.\nTool 16: Translate text from one language to another by specifying the original language and the target language using ISO 639 codes.\nTool 17: Plays a specified music playlist from a given location on the system, allowing users to listen to songs by providing the playlist name and the source of the music files.\nTool 18: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 19: Retrieve detailed information about a specific scene by providing its name, allowing users to query and access scene-related data from the system.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Allows users to modify an existing hotel booking by updating the check-in and check-out dates, the number of rooms, and the number of adults and children associated with the reservation.\", \"parameters\": {\"order_number\": {\"type\": \"string\", \"description\": \"The order number of the hotel booking.\", \"required\": true, \"example\": \"12345\"}, \"new_check_in_date\": {\"type\": \"string\", \"description\": \"The new check-in date for the booking. The date should be in the format: YYYY-MM-DD.\", \"required\": false, \"example\": \"2025-12-15\"}, \"new_check_out_date\": {\"type\": \"string\", \"description\": \"The new check-out date for the booking. The date should be in the format: YYYY-MM-DD.\", \"required\": false, \"example\": \"2025-12-20\"}, \"new_room_count\": {\"type\": \"integer\", \"description\": \"The new number of rooms needed for the booking.\", \"required\": false, \"example\": 2}, \"new_adult_count\": {\"type\": \"integer\", \"description\": \"The new number of adults for the booking.\", \"required\": false, \"example\": 2}, \"new_child_count\": {\"type\": \"integer\", \"description\": \"The new number of children for the booking.\", \"required\": false, \"example\": 1}}, \"response\": \"The tool responds with a status message that indicates the result of the modification request. This status message is a string that provides feedback about whether the operation was successful or failed. The response contains only one component:\\n\\n- **status** (type: string): This field provides a textual message describing the outcome of the modification attempt. It indicates whether the booking modification was successful or if there was an error (e.g., invalid data, booking not found, etc.). The content of the status message will vary depending on the situation, but it will generally communicate either a success or failure.\", \"examples\": [{\"user_intent\": \"I need to change my hotel booking 987654321 to check in on 2026-01-10 and check out on 2026-01-15.\", \"tool_call\": {\"name\": \"ModifyHotelBooking\", \"arguments\": {\"order_number\": \"987654321\", \"new_check_in_date\": \"2026-01-10\", \"new_check_out_date\": \"2026-01-15\"}}}, {\"user_intent\": \"Update my booking 123456789 to have 2 rooms, 4 adults, and 2 children.\", \"tool_call\": {\"name\": \"ModifyHotelBooking\", \"arguments\": {\"order_number\": \"123456789\", \"new_room_count\": 2, \"new_adult_count\": 4, \"new_child_count\": 2}}}, {\"user_intent\": \"I want to reschedule booking 555333111 to new dates from 2026-02-05 to 2026-02-08 and change it to 1 room for 2 adults only.\", \"tool_call\": {\"name\": \"ModifyHotelBooking\", \"arguments\": {\"order_number\": \"555333111\", \"new_check_in_date\": \"2026-02-05\", \"new_check_out_date\": \"2026-02-08\", \"new_room_count\": 1, \"new_adult_count\": 2, \"new_child_count\": 0}}}]}\n\n# User Query\nCan you help me check if there is a reservation for the Design Team Meeting on March 26, 2023 from 11:00AM to 1:00PM at Design Studio?\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "I want to check if there is a scheduled meeting for the Design Team Meeting on March 26, 2023 from 11:00AM to 1:00PM at Design Studio.",
                    "tool_description": "Retrieve detailed information about a specific meeting by providing its name, date, time, and location to verify its existence and details.",
                    "expected_response": "An object containing meeting details such as meeting ID, scheduled time, location, and attendee list, or a status indicating no meeting found."
                }
            ],
            "extracted_arguments": {
                "meeting_name": "The name or title of the meeting to be checked.",
                "meeting_date": "The scheduled date of the meeting in YYYY-MM-DD format.",
                "start_time": "The starting time of the meeting in HH:MM format with AM/PM notation.",
                "end_time": "The ending time of the meeting in HH:MM format with AM/PM notation.",
                "location": "The physical or virtual location where the meeting is scheduled."
            }
        }
    },
    {
        "id": "apibank_query_81",
        "query": "Can you switch off my smart bulb at 10 pm tonight? Today is 2022-03-01.",
        "instruction": "Given a `smart device operation` task, retrieve tools that schedule and execute commands for smart devices by processing device ID, switch time, and on/off command inputs to perform the desired operation at the specified time.",
        "labels": [
            {
                "id": "apibank_tool_68",
                "doc": {
                    "expressions": "TimedSwitch(device_id: str, switch_time: datetime, on_off_command: str)",
                    "category": "对外影响 - 数据库操作 - 增",
                    "path": "apis/timed_switch.py",
                    "parameters": "(device_id: str, switch_time: datetime, on_off_command: str)",
                    "name": "TimedSwitch",
                    "description": "description = \"API for scheduling a timed switch. Sets a switch-time for the specified device-id and executes an on/off command at the specified time.\"\ninput_parameters = {\n    'device_id': {'type': 'str', 'description': 'ID of the device on which to schedule a timed switch'},\n    'switch_time': {'type': 'datetime', 'description': 'Time at which to execute the on/off command. Format: %Y-%m-%d %H:%M:%S'},\n    'on_off_command': {'type': 'str', 'description': 'The command to execute when the switch time is reached. Should be \"on\" or \"off\".'}\n}\noutput_parameters = {\n    'status': {'type': 'str', 'description': 'Success or failed'}\n}"
                },
                "relevance": 1
            }
        ],
        "category": "web",
        "retrieved_tool_descriptions": [
            "Tool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "Tool 1: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.",
            "Tool 2: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.",
            "Tool 3: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.",
            "Tool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.",
            "Tool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.",
            "Tool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.",
            "Tool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.",
            "Tool 8: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.",
            "Tool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.",
            "Tool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.",
            "Tool 11: This API retrieves the definition of a word based on a provided search query.",
            "Tool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.",
            "Tool 13: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.",
            "Tool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.",
            "Tool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.",
            "Tool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.",
            "Tool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.",
            "Tool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.",
            "Tool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content."
        ],
        "tool_view": {
            "description": "Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.",
            "parameters": {
                "device_id": {
                    "type": "string",
                    "description": "The unique identifier of the device for which the scheduled timed switch should be cancelled.",
                    "required": true,
                    "example": "device123"
                },
                "switch_time": {
                    "type": "string",
                    "description": "The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.",
                    "required": true,
                    "example": "2025-12-11 14:30:00"
                }
            },
            "response": "The tool’s response is structured as an object containing a single field:\n\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \"success\" or \"failed,\" providing a clear, high-level result of the operation.  \n\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.",
            "examples": [
                {
                    "user_intent": "Cancel the scheduled power-on for my smart lamp at 8 PM tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "lamp_01",
                            "switch_time": "2025-12-30 20:00:00"
                        }
                    }
                },
                {
                    "user_intent": "I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "thermostat_22",
                            "switch_time": "2025-12-31 07:30:00"
                        }
                    }
                },
                {
                    "user_intent": "Abort the scheduled irrigation system switch that was set for midnight tonight.",
                    "tool_call": {
                        "name": "CancelTimedSwitch",
                        "arguments": {
                            "device_id": "irrigation_05",
                            "switch_time": "2025-12-31 00:00:00"
                        }
                    }
                }
            ]
        },
        "rewritten_messages": [
            {
                "role": "system",
                "content": "You are an expert Query Rewriting Agent for a Tool Retrieval System. Your goal is to decompose a user request into a structured multi-field retrieval query that aligns with our tool documentation schema.\n\n# Target Tool Schema\nThe tools you are retrieving are structured as follows:\n- **description**: Formal technical summary of the tool's function.\n- **parameters**: Definitions of required inputs (names, types, roles).\n- **response**: Description of the data returned (entities, status, structure).\n- **examples**: List of `user_intent` strings showing how real users phrase the request.\n\n# Input Context\nYou will be provided with:\n1. **User Query**: The raw user request.\n2. **Partial Tool Descriptions in the Toolset**: A list of potentially relevant tool descriptions retrieved via keyword search. Use these to align your vocabulary with the available toolset.\n3. **Tool View**: A human-friendly flattened view of the tool. This is provided to help you better understand the tool schema.\n\n\n# Your Output Task\nGenerate a JSON object with exactly two top-level fields:\n\n1. **`tool_needs`** (List[Dict]): \n   - Decompose the request into one or more sequential actions. Each dictionary must contain:\n   - `user_intent` (str): A natural language phrasing of this step, optimized to match the **examples** field.\n   - `tool_description` (str): A formal, technical description of the action, optimized to match the **description** field.\n   - `expected_response` (str): An abstract description of the expected data or outcome, optimized to match the **response** field. If no data is returned, write \"Don't need response.\".\n\n2. **`extracted_arguments`** (Dict[str, str]):\n   - A single dictionary containing all parameters extracted from the query.\n   - **Key**: A logical parameter name.\n   - **Value**: An **abstract description** of the parameter's semantic role and data type.\n   - **Constraint**: NEVER include concrete values from the query (e.g., do not write \"Alice\" or \"123\"). Instead, write \"The target username\" or \"Numeric ID\".\n\n# Response Format\nReturn ONLY the JSON object. Do not add markdown formatting or explanations.\n\n# Example\n\nQuery: \"Find a flight to London and book it for John Doe.\"\n\nOutput:\n{\n    \"tool_needs\": [\n        {\n            \"user_intent\": \"I want to search for available flights to a specific city.\",\n            \"tool_description\": \"Retrieve a list of flight itineraries based on destination and passenger criteria.\",\n            \"expected_response\": \"A collection of flight objects containing flight IDs, prices, and schedules.\"\n        },\n        {\n            \"user_intent\": \"Book a ticket for the selected flight using passenger details.\",\n            \"tool_description\": \"Book a ticket for the selected flight using passenger details.\",\n            \"expected_response\": \"A confirmation object including a booking reference number and status.\"\n        }\n    ],\n    \"extracted_arguments\": {\n        \"destination\": \"The name of the arrival city or airport code.\",\n        \"passenger_name\": \"The full name of the person traveling.\",\n        \"flight_id\": \"A unique identifier for the selected flight itinerary.\"\n    }\n}\n"
            },
            {
                "role": "user",
                "content": "# Partial Tools in the Toolset\nThe following tool descriptions were roughly matched via keyword search. \n\nTool 0: Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\nTool 1: Retrieve a list of all tasks scheduled for today that have not yet been completed, including their details.\nTool 2: Allows users to schedule a timed on/off command for a specific device, executing the command automatically at a specified date and time.\nTool 3: Query information about smart home devices by specifying the device type and the room where it is located, returning the status and details of the requested device.\nTool 4: Retrieve ticket information for a specific user by providing their unique user ID, allowing you to check the details of that user's ticket.\nTool 5: This tool allows you to search for recruitment information by specifying a keyword, job location, and desired position. It returns a list of relevant job opportunities based on these parameters.\nTool 6: Update a user’s bank account information by providing their account number, password, name, email, and authentication token, with the token used to verify the user’s identity.\nTool 7: Convert written text into spoken audio by generating a speech-like audio file from the provided text content.\nTool 8: A tool that analyzes the content of a document and provides answers to specific questions based on that content, enabling users to extract relevant information directly from documents.\nTool 9: Provides an API to search for items using a keyword, returning a list of matching results along with the status of the request.\nTool 10: Extract answers from a provided table by interpreting and responding to natural language questions about its data.\nTool 11: This API retrieves the definition of a word based on a provided search query.\nTool 12: Retrieve a list of historical events that occurred on a specified date, allowing users to explore what happened on that day in history.\nTool 13: Search Wikipedia for a given keyword and retrieve the page’s title, summary, and URL, providing a quick way to access concise information about the topic.\nTool 14: Query a bank account by providing the account number and an authentication token, returning details such as the bank name, account type, available balance, and the status of the query.\nTool 15: Retrieve the current balance of a specified account by providing its identifier, allowing users to check account funds through a simple query.\nTool 16: Retrieve historical stock data by providing a stock code and a specific date, returning the information as a structured JSON object for analysis or reference.\nTool 17: Retrieve detailed trade information for a specific account over a given time period by providing the account identifier, the desired date, and an authentication token, returning a list of trade records for analysis or record-keeping.\nTool 18: Retrieve the exchange rate for a specified currency at a particular date and time, allowing users to obtain historical or current currency conversion information.\nTool 19: A tool that generates a concise summary of a given text, allowing users to quickly capture the main points of the original content.\n\n# Tool View\nIt's important to note that this is just a tool example; ; it doesn't mean you need to generate tools exactly as shown.\n\n{\"description\": \"Cancel a scheduled timed switch on a device by specifying its device ID and the scheduled switch time, allowing users to stop an automated action before it occurs.\", \"parameters\": {\"device_id\": {\"type\": \"string\", \"description\": \"The unique identifier of the device for which the scheduled timed switch should be cancelled.\", \"required\": true, \"example\": \"device123\"}, \"switch_time\": {\"type\": \"string\", \"description\": \"The specific date and time of the scheduled switch that needs to be cancelled, formatted as '%Y-%m-%d %H:%M:%S'.\", \"required\": true, \"example\": \"2025-12-11 14:30:00\"}}, \"response\": \"The tool\\u2019s response is structured as an object containing a single field:\\n\\n- **status** (`str`): Indicates the outcome of the API call. It communicates whether the request to cancel the timed switch was successfully processed or if it failed. The value typically represents states such as \\\"success\\\" or \\\"failed,\\\" providing a clear, high-level result of the operation.  \\n\\nNo additional fields are defined in the response. The response serves purely to confirm the execution status of the cancelation request.\", \"examples\": [{\"user_intent\": \"Cancel the scheduled power-on for my smart lamp at 8 PM tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"lamp_01\", \"switch_time\": \"2025-12-30 20:00:00\"}}}, {\"user_intent\": \"I need to cancel the thermostat's scheduled shutdown set for tomorrow morning at 7:30 AM.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"thermostat_22\", \"switch_time\": \"2025-12-31 07:30:00\"}}}, {\"user_intent\": \"Abort the scheduled irrigation system switch that was set for midnight tonight.\", \"tool_call\": {\"name\": \"CancelTimedSwitch\", \"arguments\": {\"device_id\": \"irrigation_05\", \"switch_time\": \"2025-12-31 00:00:00\"}}}]}\n\n# User Query\nCan you switch off my smart bulb at 10 pm tonight? Today is 2022-03-01.\n\n# Task\nReturn **only** the JSON object. Do not include markdown formatting or explanations."
            }
        ],
        "rewritten_query": {
            "tool_needs": [
                {
                    "user_intent": "Schedule my smart bulb to turn off at a specific time tonight.",
                    "tool_description": "Schedule a timed off command for a specific smart device, executing the command automatically at the specified date and time.",
                    "expected_response": "A confirmation object indicating that the timed switch has been successfully scheduled, including the device ID and scheduled switch time."
                }
            ],
            "extracted_arguments": {
                "device_id": "The unique identifier of the smart bulb to be switched off.",
                "switch_time": "The exact date and time when the smart bulb should be turned off, formatted as '%Y-%m-%d %H:%M:%S'."
            }
        }
    }
]